(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Y0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xd={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function o1(){if(sv)return Nl;sv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=e,Nl.jsx=n,Nl.jsxs=n,Nl}var av;function l1(){return av||(av=1,Xd.exports=o1()),Xd.exports}var R=l1(),$d={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function u1(){if(ov)return Ne;ov=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,W={};function U(D,ee,oe){this.props=D,this.context=ee,this.refs=W,this.updater=oe||k}U.prototype.isReactComponent={},U.prototype.setState=function(D,ee){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ee,"setState")},U.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function q(){}q.prototype=U.prototype;function $(D,ee,oe){this.props=D,this.context=ee,this.refs=W,this.updater=oe||k}var X=$.prototype=new q;X.constructor=$,K(X,U.prototype),X.isPureReactComponent=!0;var ue=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},ge=Object.prototype.hasOwnProperty;function N(D,ee,oe,le,pe,ke){return oe=ke.ref,{$$typeof:r,type:D,key:ee,ref:oe!==void 0?oe:null,props:ke}}function w(D,ee){return N(D.type,ee,void 0,void 0,void 0,D.props)}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function M(D){var ee={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return ee[oe]})}var O=/\/+/g;function L(D,ee){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):ee.toString(36)}function x(){}function ye(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(x,x):(D.status="pending",D.then(function(ee){D.status==="pending"&&(D.status="fulfilled",D.value=ee)},function(ee){D.status==="pending"&&(D.status="rejected",D.reason=ee)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function xe(D,ee,oe,le,pe){var ke=typeof D;(ke==="undefined"||ke==="boolean")&&(D=null);var Se=!1;if(D===null)Se=!0;else switch(ke){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(D.$$typeof){case r:case e:Se=!0;break;case E:return Se=D._init,xe(Se(D._payload),ee,oe,le,pe)}}if(Se)return pe=pe(D),Se=le===""?"."+L(D,0):le,ue(pe)?(oe="",Se!=null&&(oe=Se.replace(O,"$&/")+"/"),xe(pe,ee,oe,"",function(Ln){return Ln})):pe!=null&&(C(pe)&&(pe=w(pe,oe+(pe.key==null||D&&D.key===pe.key?"":(""+pe.key).replace(O,"$&/")+"/")+Se)),ee.push(pe)),1;Se=0;var kt=le===""?".":le+":";if(ue(D))for(var Ke=0;Ke<D.length;Ke++)le=D[Ke],ke=kt+L(le,Ke),Se+=xe(le,ee,oe,ke,pe);else if(Ke=A(D),typeof Ke=="function")for(D=Ke.call(D),Ke=0;!(le=D.next()).done;)le=le.value,ke=kt+L(le,Ke++),Se+=xe(le,ee,oe,ke,pe);else if(ke==="object"){if(typeof D.then=="function")return xe(ye(D),ee,oe,le,pe);throw ee=String(D),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Se}function Q(D,ee,oe){if(D==null)return D;var le=[],pe=0;return xe(D,le,"","",function(ke){return ee.call(oe,ke,pe++)}),le}function se(D){if(D._status===-1){var ee=D._result;ee=ee(),ee.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=ee)}if(D._status===1)return D._result.default;throw D._result}var de=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Re(){}return Ne.Children={map:Q,forEach:function(D,ee,oe){Q(D,function(){ee.apply(this,arguments)},oe)},count:function(D){var ee=0;return Q(D,function(){ee++}),ee},toArray:function(D){return Q(D,function(ee){return ee})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ne.Component=U,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=$,Ne.StrictMode=s,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ae.H.useMemoCache(D)}},Ne.cache=function(D){return function(){return D.apply(null,arguments)}},Ne.cloneElement=function(D,ee,oe){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var le=K({},D.props),pe=D.key,ke=void 0;if(ee!=null)for(Se in ee.ref!==void 0&&(ke=void 0),ee.key!==void 0&&(pe=""+ee.key),ee)!ge.call(ee,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ee.ref===void 0||(le[Se]=ee[Se]);var Se=arguments.length-2;if(Se===1)le.children=oe;else if(1<Se){for(var kt=Array(Se),Ke=0;Ke<Se;Ke++)kt[Ke]=arguments[Ke+2];le.children=kt}return N(D.type,pe,void 0,void 0,ke,le)},Ne.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Ne.createElement=function(D,ee,oe){var le,pe={},ke=null;if(ee!=null)for(le in ee.key!==void 0&&(ke=""+ee.key),ee)ge.call(ee,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(pe[le]=ee[le]);var Se=arguments.length-2;if(Se===1)pe.children=oe;else if(1<Se){for(var kt=Array(Se),Ke=0;Ke<Se;Ke++)kt[Ke]=arguments[Ke+2];pe.children=kt}if(D&&D.defaultProps)for(le in Se=D.defaultProps,Se)pe[le]===void 0&&(pe[le]=Se[le]);return N(D,ke,void 0,void 0,null,pe)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(D){return{$$typeof:m,render:D}},Ne.isValidElement=C,Ne.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:se}},Ne.memo=function(D,ee){return{$$typeof:y,type:D,compare:ee===void 0?null:ee}},Ne.startTransition=function(D){var ee=ae.T,oe={};ae.T=oe;try{var le=D(),pe=ae.S;pe!==null&&pe(oe,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Re,de)}catch(ke){de(ke)}finally{ae.T=ee}},Ne.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Ne.use=function(D){return ae.H.use(D)},Ne.useActionState=function(D,ee,oe){return ae.H.useActionState(D,ee,oe)},Ne.useCallback=function(D,ee){return ae.H.useCallback(D,ee)},Ne.useContext=function(D){return ae.H.useContext(D)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(D,ee){return ae.H.useDeferredValue(D,ee)},Ne.useEffect=function(D,ee,oe){var le=ae.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(D,ee)},Ne.useId=function(){return ae.H.useId()},Ne.useImperativeHandle=function(D,ee,oe){return ae.H.useImperativeHandle(D,ee,oe)},Ne.useInsertionEffect=function(D,ee){return ae.H.useInsertionEffect(D,ee)},Ne.useLayoutEffect=function(D,ee){return ae.H.useLayoutEffect(D,ee)},Ne.useMemo=function(D,ee){return ae.H.useMemo(D,ee)},Ne.useOptimistic=function(D,ee){return ae.H.useOptimistic(D,ee)},Ne.useReducer=function(D,ee,oe){return ae.H.useReducer(D,ee,oe)},Ne.useRef=function(D){return ae.H.useRef(D)},Ne.useState=function(D){return ae.H.useState(D)},Ne.useSyncExternalStore=function(D,ee,oe){return ae.H.useSyncExternalStore(D,ee,oe)},Ne.useTransition=function(){return ae.H.useTransition()},Ne.version="19.1.1",Ne}var lv;function Km(){return lv||(lv=1,$d.exports=u1()),$d.exports}var H=Km();const c1=Y0(H);var Wd={exports:{}},Dl={},Zd={exports:{}},Jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function h1(){return uv||(uv=1,(function(r){function e(Q,se){var de=Q.length;Q.push(se);e:for(;0<de;){var Re=de-1>>>1,D=Q[Re];if(0<o(D,se))Q[Re]=se,Q[de]=D,de=Re;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var se=Q[0],de=Q.pop();if(de!==se){Q[0]=de;e:for(var Re=0,D=Q.length,ee=D>>>1;Re<ee;){var oe=2*(Re+1)-1,le=Q[oe],pe=oe+1,ke=Q[pe];if(0>o(le,de))pe<D&&0>o(ke,le)?(Q[Re]=ke,Q[pe]=de,Re=pe):(Q[Re]=le,Q[oe]=de,Re=oe);else if(pe<D&&0>o(ke,de))Q[Re]=ke,Q[pe]=de,Re=pe;else break e}}return se}function o(Q,se){var de=Q.sortIndex-se.sortIndex;return de!==0?de:Q.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,A=3,k=!1,K=!1,W=!1,U=!1,q=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function ue(Q){for(var se=n(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=Q)s(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(y)}}function ae(Q){if(W=!1,ue(Q),!K)if(n(g)!==null)K=!0,ge||(ge=!0,L());else{var se=n(y);se!==null&&xe(ae,se.startTime-Q)}}var ge=!1,N=-1,w=5,C=-1;function M(){return U?!0:!(r.unstable_now()-C<w)}function O(){if(U=!1,ge){var Q=r.unstable_now();C=Q;var se=!0;try{e:{K=!1,W&&(W=!1,$(N),N=-1),k=!0;var de=A;try{t:{for(ue(Q),S=n(g);S!==null&&!(S.expirationTime>Q&&M());){var Re=S.callback;if(typeof Re=="function"){S.callback=null,A=S.priorityLevel;var D=Re(S.expirationTime<=Q);if(Q=r.unstable_now(),typeof D=="function"){S.callback=D,ue(Q),se=!0;break t}S===n(g)&&s(g),ue(Q)}else s(g);S=n(g)}if(S!==null)se=!0;else{var ee=n(y);ee!==null&&xe(ae,ee.startTime-Q),se=!1}}break e}finally{S=null,A=de,k=!1}se=void 0}}finally{se?L():ge=!1}}}var L;if(typeof X=="function")L=function(){X(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ye=x.port2;x.port1.onmessage=O,L=function(){ye.postMessage(null)}}else L=function(){q(O,0)};function xe(Q,se){N=q(function(){Q(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var se=3;break;default:se=A}var de=A;A=se;try{return Q()}finally{A=de}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=A;A=Q;try{return se()}finally{A=de}},r.unstable_scheduleCallback=function(Q,se,de){var Re=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Re+de:Re):de=Re,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=de+D,Q={id:E++,callback:se,priorityLevel:Q,startTime:de,expirationTime:D,sortIndex:-1},de>Re?(Q.sortIndex=de,e(y,Q),n(g)===null&&Q===n(y)&&(W?($(N),N=-1):W=!0,xe(ae,de-Re))):(Q.sortIndex=D,e(g,Q),K||k||(K=!0,ge||(ge=!0,L()))),Q},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Q){var se=A;return function(){var de=A;A=se;try{return Q.apply(this,arguments)}finally{A=de}}}})(Jd)),Jd}var cv;function f1(){return cv||(cv=1,Zd.exports=h1()),Zd.exports}var em={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function d1(){if(hv)return Kt;hv=1;var r=Km();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},Kt.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Kt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Kt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Kt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:k}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:A,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Kt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Kt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Kt.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Kt.requestFormReset=function(g){s.d.r(g)},Kt.unstable_batchedUpdates=function(g,y){return g(y)},Kt.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.1.1",Kt}var fv;function m1(){if(fv)return em.exports;fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),em.exports=d1(),em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function p1(){if(dv)return Dl;dv=1;var r=f1(),e=Km(),n=m1();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),X=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case U:return"Profiler";case W:return"StrictMode";case ae:return"Suspense";case ge:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case X:return(t.displayName||"Context")+".Provider";case $:return(t._context.displayName||"Context")+".Consumer";case ue:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:ye(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return ye(t(i))}catch{}}return null}var xe=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Re=[],D=-1;function ee(t){return{current:t}}function oe(t){0>D||(t.current=Re[D],Re[D]=null,D--)}function le(t,i){D++,Re[D]=t.current,t.current=i}var pe=ee(null),ke=ee(null),Se=ee(null),kt=ee(null);function Ke(t,i){switch(le(Se,i),le(ke,t),le(pe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?M_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=M_(i),t=V_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(pe),le(pe,t)}function Ln(){oe(pe),oe(ke),oe(Se)}function Ao(t){t.memoizedState!==null&&le(kt,t);var i=pe.current,a=V_(i,t.type);i!==a&&(le(ke,t),le(pe,a))}function ia(t){ke.current===t&&(oe(pe),oe(ke)),kt.current===t&&(oe(kt),wl._currentValue=de)}var ra=Object.prototype.hasOwnProperty,ls=r.unstable_scheduleCallback,sa=r.unstable_cancelCallback,Xh=r.unstable_shouldYield,wo=r.unstable_requestPaint,sn=r.unstable_now,du=r.unstable_getCurrentPriorityLevel,bt=r.unstable_ImmediatePriority,xt=r.unstable_UserBlockingPriority,wi=r.unstable_NormalPriority,$h=r.unstable_LowPriority,Ro=r.unstable_IdlePriority,Wh=r.log,us=r.unstable_setDisableYieldValue,nr=null,Gt=null;function Tn(t){if(typeof Wh=="function"&&us(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(nr,t)}catch{}}var Jt=Math.clz32?Math.clz32:pu,Zh=Math.log,mu=Math.LN2;function pu(t){return t>>>=0,t===0?32:31-(Zh(t)/mu|0)|0}var Jn=256,ir=4194304;function Un(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sn(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Un(l):(v&=T,v!==0?h=Un(v):a||(a=T&~t,a!==0&&(h=Un(a))))):(T=l&~d,T!==0?h=Un(T):v!==0?h=Un(v):a||(a=l&~t,a!==0&&(h=Un(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function rr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function aa(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Co(){var t=Jn;return Jn<<=1,(Jn&4194048)===0&&(Jn=256),t}function sr(){var t=ir;return ir<<=1,(ir&62914560)===0&&(ir=4194304),t}function oa(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ht(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gu(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var Z=31-Jt(a),te=1<<Z;T[Z]=0,I[Z]=-1;var F=B[Z];if(F!==null)for(B[Z]=null,Z=0;Z<F.length;Z++){var G=F[Z];G!==null&&(G.lane&=-536870913)}a&=~te}l!==0&&ar(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function ar(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Jt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function or(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Jt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Io(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ri(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:J_(t.type))}function Jh(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var ei=Math.random().toString(36).slice(2),ft="__reactFiber$"+ei,Pt="__reactProps$"+ei,Ci="__reactContainer$"+ei,cs="__reactEvents$"+ei,hs="__reactListeners$"+ei,ef="__reactHandles$"+ei,jn="__reactResources$"+ei,lr="__reactMarker$"+ei;function la(t){delete t[ft],delete t[Pt],delete t[cs],delete t[hs],delete t[ef]}function ti(t){var i=t[ft];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ci]||a[ft]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=U_(t);t!==null;){if(a=t[ft])return a;t=U_(t)}return i}t=a,a=t.parentNode}return null}function ni(t){if(t=t[ft]||t[Ci]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ur(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function cr(t){var i=t[jn];return i||(i=t[jn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function dt(t){t[lr]=!0}var yu=new Set,fs={};function ii(t,i){ri(t,i),ri(t+"Capture",i)}function ri(t,i){for(fs[t]=i,t=0;t<i.length;t++)yu.add(i[t])}var ds=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),si={},ua={};function tf(t){return ra.call(ua,t)?!0:ra.call(si,t)?!1:ds.test(t)?ua[t]=!0:(si[t]=!0,!1)}function ms(t,i,a){if(tf(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function ps(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var gs,ca;function Ii(t){if(gs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);gs=i&&i[1]||"",ca=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gs+t+ca}var ha=!1;function fa(t,i){if(!t||ha)return"";ha=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(G){var F=G}Reflect.construct(t,[],te)}else{try{te.call()}catch(G){F=G}t.call(te.prototype)}}else{try{throw Error()}catch(G){F=G}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),B=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var Z=`
`+I[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{ha=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ii(a):""}function nf(t){switch(t.tag){case 26:case 27:case 5:return Ii(t.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return fa(t.type,!1);case 11:return fa(t.type.render,!1);case 1:return fa(t.type,!0);case 31:return Ii("Activity");default:return""}}function zn(t){try{var i="";do i+=nf(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function at(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ys(t){var i=hr(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function fr(t){t._valueTracker||(t._valueTracker=ys(t))}function Xe(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=hr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _s=/[\n"\\]/g;function Nt(t){return t.replace(_s,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function No(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+at(i)):t.value!==""+at(i)&&(t.value=""+at(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Oo(t,v,at(i)):a!=null?Oo(t,v,at(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+at(T):t.removeAttribute("name")}function Do(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+at(a):"",i=i!=null?""+at(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Oo(t,i,a){i==="number"&&xi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function dr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+at(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function _u(t,i,a){if(i!=null&&(i=""+at(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+at(a):""}function vu(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(xe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=at(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function An(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ni=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ni.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Vo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Mo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Mo(t,d,i[d])}function da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bn(t){return Tu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ko=null;function Po(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mr=null,en=null;function Su(t){var i=ni(t);if(i&&(t=i.stateNode)){var a=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(No(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Nt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Pt]||null;if(!h)throw Error(s(90));No(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Xe(l)}break e;case"textarea":_u(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&dr(t,!!a.multiple,i,!1)}}}var vs=!1;function Es(t,i,a){if(vs)return t(i,a);vs=!0;try{var l=t(i);return l}finally{if(vs=!1,(mr!==null||en!==null)&&(hc(),mr&&(i=mr,t=en,en=mr=null,Su(i),t)))for(i=0;i<t.length;i++)Su(t[i])}}function pr(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Di=!1;if(tn)try{var gr={};Object.defineProperty(gr,"passive",{get:function(){Di=!0}}),window.addEventListener("test",gr,gr),window.removeEventListener("test",gr,gr)}catch{Di=!1}var wn=null,et=null,ma=null;function bu(){if(ma)return ma;var t,i=et,a=i.length,l,h="value"in wn?wn.value:wn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return ma=h.slice(t,1<l?1-l:void 0)}function Ts(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ss(){return!0}function Lo(){return!1}function At(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ss:Lo,this.isPropagationStopped=Lo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),i}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=At(Qt),As=E({},Qt,{view:0,detail:0}),ws=At(As),pa,Rs,ai,Cs=E({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_a,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&t.type==="mousemove"?(pa=t.screenX-ai.screenX,Rs=t.screenY-ai.screenY):Rs=pa=0,ai=t),pa)},movementY:function(t){return"movementY"in t?t.movementY:Rs}}),Is=At(Cs),rf=E({},Cs,{dataTransfer:0}),Au=At(rf),xs=E({},As,{relatedTarget:0}),ga=At(xs),wu=E({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Uo=At(wu),jo=E({},Qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ru=At(jo),ya=E({},Qt,{data:0}),zo=At(ya),Cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Iu[t])?!!i[t]:!1}function _a(){return xu}var Nu=E({},As,{key:function(t){if(t.key){var i=Cu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ts(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Oi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_a,charCode:function(t){return t.type==="keypress"?Ts(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ts(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),va=At(Nu),nn=E({},Cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=At(nn),Du=E({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_a}),yr=At(Du),c=E({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),p=At(c),_=E({},Cs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),b=At(_),z=E({},Qt,{newState:0,oldState:0}),Y=At(z),re=[9,13,27,32],Ce=tn&&"CompositionEvent"in window,nt=null;tn&&"documentMode"in document&&(nt=document.documentMode);var Ge=tn&&"TextEvent"in window&&!nt,mt=tn&&(!Ce||nt&&8<nt&&11>=nt),hn=" ",oi=!1;function Hn(t,i){switch(t){case"keyup":return re.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fn=!1;function Ho(t,i){switch(t){case"compositionend":return qn(i);case"keypress":return i.which!==32?null:(oi=!0,hn);case"textInput":return t=i.data,t===hn&&oi?null:t;default:return null}}function VS(t,i){if(Fn)return t==="compositionend"||!Ce&&Hn(t,i)?(t=bu(),ma=et=wn=null,Fn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return mt&&i.locale!=="ko"?null:i.data;default:return null}}var kS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!kS[t.type]:i==="textarea"}function Kp(t,i,a,l){mr?en?en.push(l):en=[l]:mr=l,i=yc(i,"onChange"),0<i.length&&(a=new bs("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var qo=null,Fo=null;function PS(t){I_(t,0)}function Ou(t){var i=ur(t);if(Xe(i))return t}function Xp(t,i){if(t==="change")return i}var $p=!1;if(tn){var sf;if(tn){var af="oninput"in document;if(!af){var Wp=document.createElement("div");Wp.setAttribute("oninput","return;"),af=typeof Wp.oninput=="function"}sf=af}else sf=!1;$p=sf&&(!document.documentMode||9<document.documentMode)}function Zp(){qo&&(qo.detachEvent("onpropertychange",Jp),Fo=qo=null)}function Jp(t){if(t.propertyName==="value"&&Ou(Fo)){var i=[];Kp(i,Fo,t,Po(t)),Es(PS,i)}}function LS(t,i,a){t==="focusin"?(Zp(),qo=i,Fo=a,qo.attachEvent("onpropertychange",Jp)):t==="focusout"&&Zp()}function US(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(Fo)}function jS(t,i){if(t==="click")return Ou(i)}function zS(t,i){if(t==="input"||t==="change")return Ou(i)}function BS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var fn=typeof Object.is=="function"?Object.is:BS;function Go(t,i){if(fn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ra.call(i,h)||!fn(t[h],i[h]))return!1}return!0}function eg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tg(t,i){var a=eg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=eg(a)}}function ng(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ng(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ig(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=xi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=xi(t.document)}return i}function of(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var HS=tn&&"documentMode"in document&&11>=document.documentMode,Ea=null,lf=null,Qo=null,uf=!1;function rg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uf||Ea==null||Ea!==xi(l)||(l=Ea,"selectionStart"in l&&of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qo&&Go(Qo,l)||(Qo=l,l=yc(lf,"onSelect"),0<l.length&&(i=new bs("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ea)))}function Ns(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ta={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},cf={},sg={};tn&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Ds(t){if(cf[t])return cf[t];if(!Ta[t])return t;var i=Ta[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in sg)return cf[t]=i[a];return t}var ag=Ds("animationend"),og=Ds("animationiteration"),lg=Ds("animationstart"),qS=Ds("transitionrun"),FS=Ds("transitionstart"),GS=Ds("transitioncancel"),ug=Ds("transitionend"),cg=new Map,hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hf.push("scrollEnd");function Gn(t,i){cg.set(t,i),ii(i,[t])}var hg=new WeakMap;function Rn(t,i){if(typeof t=="object"&&t!==null){var a=hg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:zn(i)},hg.set(t,i),i)}return{value:t,source:i,stack:zn(i)}}var Cn=[],Sa=0,ff=0;function Mu(){for(var t=Sa,i=ff=Sa=0;i<t;){var a=Cn[i];Cn[i++]=null;var l=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var d=Cn[i];if(Cn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&fg(a,h,d)}}function Vu(t,i,a,l){Cn[Sa++]=t,Cn[Sa++]=i,Cn[Sa++]=a,Cn[Sa++]=l,ff|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function df(t,i,a,l){return Vu(t,i,a,l),ku(t)}function ba(t,i){return Vu(t,null,null,i),ku(t)}function fg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Jt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ku(t){if(50<yl)throw yl=0,vd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Aa={};function QS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,i,a,l){return new QS(t,i,a,l)}function mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mi(t,i){var a=t.alternate;return a===null?(a=dn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function dg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Pu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")mf(t)&&(v=1);else if(typeof t=="string")v=Kb(t,a,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=dn(31,a,i,h),t.elementType=C,t.lanes=d,t;case K:return Os(a.children,h,d,i);case W:v=8,h|=24;break;case U:return t=dn(12,a,i,h|2),t.elementType=U,t.lanes=d,t;case ae:return t=dn(13,a,i,h),t.elementType=ae,t.lanes=d,t;case ge:return t=dn(19,a,i,h),t.elementType=ge,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q:case X:v=10;break e;case $:v=9;break e;case ue:v=11;break e;case N:v=14;break e;case w:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=dn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Os(t,i,a,l){return t=dn(7,t,l,i),t.lanes=a,t}function pf(t,i,a){return t=dn(6,t,null,i),t.lanes=a,t}function gf(t,i,a){return i=dn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var wa=[],Ra=0,Lu=null,Uu=0,In=[],xn=0,Ms=null,Vi=1,ki="";function Vs(t,i){wa[Ra++]=Uu,wa[Ra++]=Lu,Lu=t,Uu=i}function mg(t,i,a){In[xn++]=Vi,In[xn++]=ki,In[xn++]=Ms,Ms=t;var l=Vi;t=ki;var h=32-Jt(l)-1;l&=~(1<<h),a+=1;var d=32-Jt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Vi=1<<32-Jt(i)+h|a<<h|l,ki=d+t}else Vi=1<<d|a<<h|l,ki=t}function yf(t){t.return!==null&&(Vs(t,1),mg(t,1,0))}function _f(t){for(;t===Lu;)Lu=wa[--Ra],wa[Ra]=null,Uu=wa[--Ra],wa[Ra]=null;for(;t===Ms;)Ms=In[--xn],In[xn]=null,ki=In[--xn],In[xn]=null,Vi=In[--xn],In[xn]=null}var rn=null,ut=null,qe=!1,ks=null,li=!1,vf=Error(s(519));function Ps(t){var i=Error(s(418,""));throw Xo(Rn(i,t)),vf}function pg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[ft]=t,i[Pt]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<vl.length;a++)Ve(vl[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Do(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),fr(i);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),vu(i,l.value,l.defaultValue,l.children),fr(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||O_(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=_c),i=!0):i=!1,i||Ps(t)}function gg(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:rn=rn.return}}function Yo(t){if(t!==rn)return!1;if(!qe)return gg(t),qe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||kd(t.type,t.memoizedProps)),a=!a),a&&ut&&Ps(t),gg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ut=Yn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ut=null}}else i===27?(i=ut,Mr(t.type)?(t=jd,jd=null,ut=t):ut=i):ut=rn?Yn(t.stateNode.nextSibling):null;return!0}function Ko(){ut=rn=null,qe=!1}function yg(){var t=ks;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),ks=null),t}function Xo(t){ks===null?ks=[t]:ks.push(t)}var Ef=ee(null),Ls=null,Pi=null;function _r(t,i,a){le(Ef,i._currentValue),i._currentValue=a}function Li(t){t._currentValue=Ef.current,oe(Ef)}function Tf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Sf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Tf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Tf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function $o(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;fn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===kt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}h=h.return}t!==null&&Sf(i,t,a,l),i.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Us(t){Ls=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return _g(Ls,t)}function zu(t,i){return Ls===null&&Us(t),_g(t,i)}function _g(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Pi===null){if(t===null)throw Error(s(308));Pi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Pi=Pi.next=i;return a}var YS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},KS=r.unstable_scheduleCallback,XS=r.unstable_NormalPriority,wt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bf(){return{controller:new YS,data:new Map,refCount:0}}function Wo(t){t.refCount--,t.refCount===0&&KS(XS,function(){t.controller.abort()})}var Zo=null,Af=0,Ca=0,Ia=null;function $S(t,i){if(Zo===null){var a=Zo=[];Af=0,Ca=Rd(),Ia={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Af++,i.then(vg,vg),i}function vg(){if(--Af===0&&Zo!==null){Ia!==null&&(Ia.status="fulfilled");var t=Zo;Zo=null,Ca=0,Ia=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function WS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Eg=Q.S;Q.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&$S(t,i),Eg!==null&&Eg(t,i)};var js=ee(null);function wf(){var t=js.current;return t!==null?t:tt.pooledCache}function Bu(t,i){i===null?le(js,js.current):le(js,i.pool)}function Tg(){var t=wf();return t===null?null:{parent:wt._currentValue,pool:t}}var Jo=Error(s(460)),Sg=Error(s(474)),Hu=Error(s(542)),Rf={then:function(){}};function bg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qu(){}function Ag(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(qu,qu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Rg(t),t;default:if(typeof i.status=="string")i.then(qu,qu);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Rg(t),t}throw el=i,Jo}}var el=null;function wg(){if(el===null)throw Error(s(459));var t=el;return el=null,t}function Rg(t){if(t===Jo||t===Hu)throw Error(s(483))}var vr=!1;function Cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Er(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Tr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ku(t),fg(t,null,a),i}return Vu(t,l,i,a),ku(t)}function tl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,or(t,a)}}function xf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Nf=!1;function nl(){if(Nf){var t=Ia;if(t!==null)throw t}}function il(t,i,a,l){Nf=!1;var h=t.updateQueue;vr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,B=I.next;I.next=null,v===null?d=B:v.next=B,v=I;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==v&&(T===null?Z.firstBaseUpdate=B:T.next=B,Z.lastBaseUpdate=I))}if(d!==null){var te=h.baseState;v=0,Z=B=I=null,T=d;do{var F=T.lane&-536870913,G=F!==T.lane;if(G?(je&F)===F:(l&F)===F){F!==0&&F===Ca&&(Nf=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var be=t,ve=T;F=i;var Ze=a;switch(ve.tag){case 1:if(be=ve.payload,typeof be=="function"){te=be.call(Ze,te,F);break e}te=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ve.payload,F=typeof be=="function"?be.call(Ze,te,F):be,F==null)break e;te=E({},te,F);break e;case 2:vr=!0}}F=T.callback,F!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[F]:G.push(F))}else G={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(B=Z=G,I=te):Z=Z.next=G,v|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Z===null&&(I=te),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),xr|=v,t.lanes=v,t.memoizedState=te}}function Cg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Ig(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Cg(a[t],i)}var xa=ee(null),Fu=ee(0);function xg(t,i){t=Fi,le(Fu,t),le(xa,i),Fi=t|i.baseLanes}function Df(){le(Fu,Fi),le(xa,xa.current)}function Of(){Fi=Fu.current,oe(xa),oe(Fu)}var Sr=0,De=null,$e=null,vt=null,Gu=!1,Na=!1,zs=!1,Qu=0,rl=0,Da=null,ZS=0;function pt(){throw Error(s(321))}function Mf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!fn(t[a],i[a]))return!1;return!0}function Vf(t,i,a,l,h,d){return Sr=d,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?fy:dy,zs=!1,d=a(l,h),zs=!1,Na&&(d=Dg(i,a,l,h)),Ng(t),d}function Ng(t){Q.H=Zu;var i=$e!==null&&$e.next!==null;if(Sr=0,vt=$e=De=null,Gu=!1,rl=0,Da=null,i)throw Error(s(300));t===null||Dt||(t=t.dependencies,t!==null&&ju(t)&&(Dt=!0))}function Dg(t,i,a,l){De=t;var h=0;do{if(Na&&(Da=null),rl=0,Na=!1,25<=h)throw Error(s(301));if(h+=1,vt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=sb,d=i(a,l)}while(Na);return d}function JS(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?sl(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(De.flags|=1024),i}function kf(){var t=Qu!==0;return Qu=0,t}function Pf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Lf(t){if(Gu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Gu=!1}Sr=0,vt=$e=De=null,Na=!1,rl=Qu=0,Da=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?De.memoizedState=vt=t:vt=vt.next=t,vt}function Et(){if($e===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=vt===null?De.memoizedState:vt.next;if(i!==null)vt=i,$e=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},vt===null?De.memoizedState=vt=t:vt=vt.next=t}return vt}function Uf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var i=rl;return rl+=1,Da===null&&(Da=[]),t=Ag(Da,t,i),i=De,(vt===null?i.memoizedState:vt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?fy:dy),t}function Yu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===X)return Yt(t)}throw Error(s(438,String(t)))}function jf(t){var i=null,a=De.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Uf(),De.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Ui(t,i){return typeof i=="function"?i(t):i}function Ku(t){var i=Et();return zf(i,$e,t)}function zf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,I=null,B=i,Z=!1;do{var te=B.lane&-536870913;if(te!==B.lane?(je&te)===te:(Sr&te)===te){var F=B.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),te===Ca&&(Z=!0);else if((Sr&F)===F){B=B.next,F===Ca&&(Z=!0);continue}else te={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=te,v=d):I=I.next=te,De.lanes|=F,xr|=F;te=B.action,zs&&a(d,te),d=B.hasEagerState?B.eagerState:a(d,te)}else F={lane:te,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=F,v=d):I=I.next=F,De.lanes|=te,xr|=te;B=B.next}while(B!==null&&B!==i);if(I===null?v=d:I.next=T,!fn(d,t.memoizedState)&&(Dt=!0,Z&&(a=Ia,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Bf(t){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);fn(d,i.memoizedState)||(Dt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Og(t,i,a){var l=De,h=Et(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!fn(($e||h).memoizedState,a);v&&(h.memoizedState=a,Dt=!0),h=h.queue;var T=kg.bind(null,l,h,t);if(al(2048,8,T,[t]),h.getSnapshot!==i||v||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Oa(9,Xu(),Vg.bind(null,l,h,a,i),null),tt===null)throw Error(s(349));d||(Sr&124)!==0||Mg(l,i,a)}return a}function Mg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=De.updateQueue,i===null?(i=Uf(),De.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Vg(t,i,a,l){i.value=a,i.getSnapshot=l,Pg(i)&&Lg(t)}function kg(t,i,a){return a(function(){Pg(i)&&Lg(t)})}function Pg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!fn(t,a)}catch{return!0}}function Lg(t){var i=ba(t,2);i!==null&&_n(i,t,2)}function Hf(t){var i=an();if(typeof t=="function"){var a=t;if(t=a(),zs){Tn(!0);try{a()}finally{Tn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},i}function Ug(t,i,a,l){return t.baseState=a,zf(t,$e,typeof l=="function"?l:Ui)}function eb(t,i,a,l,h){if(Wu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,jg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function jg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Q.T,v={};Q.T=v;try{var T=a(h,l),I=Q.S;I!==null&&I(v,T),zg(t,i,T)}catch(B){qf(t,i,B)}finally{Q.T=d}}else try{d=a(h,l),zg(t,i,d)}catch(B){qf(t,i,B)}}function zg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Bg(t,i,l)},function(l){return qf(t,i,l)}):Bg(t,i,a)}function Bg(t,i,a){i.status="fulfilled",i.value=a,Hg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,jg(t,a)))}function qf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Hg(i),i=i.next;while(i!==l)}t.action=null}function Hg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function qg(t,i){return i}function Fg(t,i){if(qe){var a=tt.formState;if(a!==null){e:{var l=De;if(qe){if(ut){t:{for(var h=ut,d=li;h.nodeType!==8;){if(!d){h=null;break t}if(h=Yn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=Yn(h.nextSibling),l=h.data==="F!";break e}}Ps(l)}l=!1}l&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qg,lastRenderedState:i},a.queue=l,a=uy.bind(null,De,l),l.dispatch=a,l=Hf(!1),d=Kf.bind(null,De,!1,l.queue),l=an(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=eb.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Gg(t){var i=Et();return Qg(i,$e,t)}function Qg(t,i,a){if(i=zf(t,i,qg)[0],t=Ku(Ui)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=sl(i)}catch(v){throw v===Jo?Hu:v}else l=i;i=Et();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(De.flags|=2048,Oa(9,Xu(),tb.bind(null,h,a),null)),[l,d,t]}function tb(t,i){t.action=i}function Yg(t){var i=Et(),a=$e;if(a!==null)return Qg(i,a,t);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Oa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=De.updateQueue,i===null&&(i=Uf(),De.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Xu(){return{destroy:void 0,resource:void 0}}function Kg(){return Et().memoizedState}function $u(t,i,a,l){var h=an();l=l===void 0?null:l,De.flags|=t,h.memoizedState=Oa(1|i,Xu(),a,l)}function al(t,i,a,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Mf(l,$e.memoizedState.deps)?h.memoizedState=Oa(i,d,a,l):(De.flags|=t,h.memoizedState=Oa(1|i,d,a,l))}function Xg(t,i){$u(8390656,8,t,i)}function $g(t,i){al(2048,8,t,i)}function Wg(t,i){return al(4,2,t,i)}function Zg(t,i){return al(4,4,t,i)}function Jg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ey(t,i,a){a=a!=null?a.concat([t]):null,al(4,4,Jg.bind(null,i,t),a)}function Ff(){}function ty(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Mf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ny(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Mf(i,l[1]))return l[0];if(l=t(),zs){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,i],l}function Gf(t,i,a){return a===void 0||(Sr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=s_(),De.lanes|=t,xr|=t,a)}function iy(t,i,a,l){return fn(a,i)?a:xa.current!==null?(t=Gf(t,a,l),fn(t,i)||(Dt=!0),t):(Sr&42)===0?(Dt=!0,t.memoizedState=a):(t=s_(),De.lanes|=t,xr|=t,i)}function ry(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var v=Q.T,T={};Q.T=T,Kf(t,!1,i,a);try{var I=h(),B=Q.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=WS(I,l);ol(t,i,Z,yn(t))}else ol(t,i,l,yn(t))}catch(te){ol(t,i,{then:function(){},status:"rejected",reason:te},yn())}finally{se.p=d,Q.T=v}}function nb(){}function Qf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=sy(t).queue;ry(t,h,i,de,a===null?nb:function(){return ay(t),a(l)})}function sy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ay(t){var i=sy(t).next.queue;ol(t,i,{},yn())}function Yf(){return Yt(wl)}function oy(){return Et().memoizedState}function ly(){return Et().memoizedState}function ib(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=yn();t=Er(a);var l=Tr(i,t,a);l!==null&&(_n(l,i,a),tl(l,i,a)),i={cache:bf()},t.payload=i;return}i=i.return}}function rb(t,i,a){var l=yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Wu(t)?cy(i,a):(a=df(t,i,a,l),a!==null&&(_n(a,t,l),hy(a,i,l)))}function uy(t,i,a){var l=yn();ol(t,i,a,l)}function ol(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wu(t))cy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,fn(T,v))return Vu(t,i,h,0),tt===null&&Mu(),!1}catch{}finally{}if(a=df(t,i,h,l),a!==null)return _n(a,t,l),hy(a,i,l),!0}return!1}function Kf(t,i,a,l){if(l={lane:2,revertLane:Rd(),action:l,hasEagerState:!1,eagerState:null,next:null},Wu(t)){if(i)throw Error(s(479))}else i=df(t,a,l,2),i!==null&&_n(i,t,2)}function Wu(t){var i=t.alternate;return t===De||i!==null&&i===De}function cy(t,i){Na=Gu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function hy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,or(t,a)}}var Zu={readContext:Yt,use:Yu,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},fy={readContext:Yt,use:Yu,useCallback:function(t,i){return an().memoizedState=[t,i===void 0?null:i],t},useContext:Yt,useEffect:Xg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,$u(4194308,4,Jg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return $u(4194308,4,t,i)},useInsertionEffect:function(t,i){$u(4,2,t,i)},useMemo:function(t,i){var a=an();i=i===void 0?null:i;var l=t();if(zs){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=an();if(a!==void 0){var h=a(i);if(zs){Tn(!0);try{a(i)}finally{Tn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=rb.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var i=an();return t={current:t},i.memoizedState=t},useState:function(t){t=Hf(t);var i=t.queue,a=uy.bind(null,De,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Ff,useDeferredValue:function(t,i){var a=an();return Gf(a,t,i)},useTransition:function(){var t=Hf(!1);return t=ry.bind(null,De,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=De,h=an();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(je&124)!==0||Mg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Xg(kg.bind(null,l,d,t),[t]),l.flags|=2048,Oa(9,Xu(),Vg.bind(null,l,d,a,i),null),a},useId:function(){var t=an(),i=tt.identifierPrefix;if(qe){var a=ki,l=Vi;a=(l&~(1<<32-Jt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Qu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=ZS++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Yf,useFormState:Fg,useActionState:Fg,useOptimistic:function(t){var i=an();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Kf.bind(null,De,!0,a),a.dispatch=i,[t,i]},useMemoCache:jf,useCacheRefresh:function(){return an().memoizedState=ib.bind(null,De)}},dy={readContext:Yt,use:Yu,useCallback:ty,useContext:Yt,useEffect:$g,useImperativeHandle:ey,useInsertionEffect:Wg,useLayoutEffect:Zg,useMemo:ny,useReducer:Ku,useRef:Kg,useState:function(){return Ku(Ui)},useDebugValue:Ff,useDeferredValue:function(t,i){var a=Et();return iy(a,$e.memoizedState,t,i)},useTransition:function(){var t=Ku(Ui)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:Og,useId:oy,useHostTransitionStatus:Yf,useFormState:Gg,useActionState:Gg,useOptimistic:function(t,i){var a=Et();return Ug(a,$e,t,i)},useMemoCache:jf,useCacheRefresh:ly},sb={readContext:Yt,use:Yu,useCallback:ty,useContext:Yt,useEffect:$g,useImperativeHandle:ey,useInsertionEffect:Wg,useLayoutEffect:Zg,useMemo:ny,useReducer:Bf,useRef:Kg,useState:function(){return Bf(Ui)},useDebugValue:Ff,useDeferredValue:function(t,i){var a=Et();return $e===null?Gf(a,t,i):iy(a,$e.memoizedState,t,i)},useTransition:function(){var t=Bf(Ui)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:Og,useId:oy,useHostTransitionStatus:Yf,useFormState:Yg,useActionState:Yg,useOptimistic:function(t,i){var a=Et();return $e!==null?Ug(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:jf,useCacheRefresh:ly},Ma=null,ll=0;function Ju(t){var i=ll;return ll+=1,Ma===null&&(Ma=[]),Ag(Ma,t,i)}function ul(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ec(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function my(t){var i=t._init;return i(t._payload)}function py(t){function i(P,V){if(t){var j=P.deletions;j===null?(P.deletions=[V],P.flags|=16):j.push(V)}}function a(P,V){if(!t)return null;for(;V!==null;)i(P,V),V=V.sibling;return null}function l(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function h(P,V){return P=Mi(P,V),P.index=0,P.sibling=null,P}function d(P,V,j){return P.index=j,t?(j=P.alternate,j!==null?(j=j.index,j<V?(P.flags|=67108866,V):j):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,V,j,J){return V===null||V.tag!==6?(V=pf(j,P.mode,J),V.return=P,V):(V=h(V,j),V.return=P,V)}function I(P,V,j,J){var he=j.type;return he===K?Z(P,V,j.props.children,J,j.key):V!==null&&(V.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&my(he)===V.type)?(V=h(V,j.props),ul(V,j),V.return=P,V):(V=Pu(j.type,j.key,j.props,null,P.mode,J),ul(V,j),V.return=P,V)}function B(P,V,j,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=gf(j,P.mode,J),V.return=P,V):(V=h(V,j.children||[]),V.return=P,V)}function Z(P,V,j,J,he){return V===null||V.tag!==7?(V=Os(j,P.mode,J,he),V.return=P,V):(V=h(V,j),V.return=P,V)}function te(P,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=pf(""+V,P.mode,j),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case A:return j=Pu(V.type,V.key,V.props,null,P.mode,j),ul(j,V),j.return=P,j;case k:return V=gf(V,P.mode,j),V.return=P,V;case w:var J=V._init;return V=J(V._payload),te(P,V,j)}if(xe(V)||L(V))return V=Os(V,P.mode,j,null),V.return=P,V;if(typeof V.then=="function")return te(P,Ju(V),j);if(V.$$typeof===X)return te(P,zu(P,V),j);ec(P,V)}return null}function F(P,V,j,J){var he=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return he!==null?null:T(P,V,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case A:return j.key===he?I(P,V,j,J):null;case k:return j.key===he?B(P,V,j,J):null;case w:return he=j._init,j=he(j._payload),F(P,V,j,J)}if(xe(j)||L(j))return he!==null?null:Z(P,V,j,J,null);if(typeof j.then=="function")return F(P,V,Ju(j),J);if(j.$$typeof===X)return F(P,V,zu(P,j),J);ec(P,j)}return null}function G(P,V,j,J,he){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(j)||null,T(V,P,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return P=P.get(J.key===null?j:J.key)||null,I(V,P,J,he);case k:return P=P.get(J.key===null?j:J.key)||null,B(V,P,J,he);case w:var Oe=J._init;return J=Oe(J._payload),G(P,V,j,J,he)}if(xe(J)||L(J))return P=P.get(j)||null,Z(V,P,J,he,null);if(typeof J.then=="function")return G(P,V,j,Ju(J),he);if(J.$$typeof===X)return G(P,V,j,zu(V,J),he);ec(V,J)}return null}function be(P,V,j,J){for(var he=null,Oe=null,me=V,Ee=V=0,Mt=null;me!==null&&Ee<j.length;Ee++){me.index>Ee?(Mt=me,me=null):Mt=me.sibling;var He=F(P,me,j[Ee],J);if(He===null){me===null&&(me=Mt);break}t&&me&&He.alternate===null&&i(P,me),V=d(He,V,Ee),Oe===null?he=He:Oe.sibling=He,Oe=He,me=Mt}if(Ee===j.length)return a(P,me),qe&&Vs(P,Ee),he;if(me===null){for(;Ee<j.length;Ee++)me=te(P,j[Ee],J),me!==null&&(V=d(me,V,Ee),Oe===null?he=me:Oe.sibling=me,Oe=me);return qe&&Vs(P,Ee),he}for(me=l(me);Ee<j.length;Ee++)Mt=G(me,P,Ee,j[Ee],J),Mt!==null&&(t&&Mt.alternate!==null&&me.delete(Mt.key===null?Ee:Mt.key),V=d(Mt,V,Ee),Oe===null?he=Mt:Oe.sibling=Mt,Oe=Mt);return t&&me.forEach(function(Ur){return i(P,Ur)}),qe&&Vs(P,Ee),he}function ve(P,V,j,J){if(j==null)throw Error(s(151));for(var he=null,Oe=null,me=V,Ee=V=0,Mt=null,He=j.next();me!==null&&!He.done;Ee++,He=j.next()){me.index>Ee?(Mt=me,me=null):Mt=me.sibling;var Ur=F(P,me,He.value,J);if(Ur===null){me===null&&(me=Mt);break}t&&me&&Ur.alternate===null&&i(P,me),V=d(Ur,V,Ee),Oe===null?he=Ur:Oe.sibling=Ur,Oe=Ur,me=Mt}if(He.done)return a(P,me),qe&&Vs(P,Ee),he;if(me===null){for(;!He.done;Ee++,He=j.next())He=te(P,He.value,J),He!==null&&(V=d(He,V,Ee),Oe===null?he=He:Oe.sibling=He,Oe=He);return qe&&Vs(P,Ee),he}for(me=l(me);!He.done;Ee++,He=j.next())He=G(me,P,Ee,He.value,J),He!==null&&(t&&He.alternate!==null&&me.delete(He.key===null?Ee:He.key),V=d(He,V,Ee),Oe===null?he=He:Oe.sibling=He,Oe=He);return t&&me.forEach(function(a1){return i(P,a1)}),qe&&Vs(P,Ee),he}function Ze(P,V,j,J){if(typeof j=="object"&&j!==null&&j.type===K&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case A:e:{for(var he=j.key;V!==null;){if(V.key===he){if(he=j.type,he===K){if(V.tag===7){a(P,V.sibling),J=h(V,j.props.children),J.return=P,P=J;break e}}else if(V.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&my(he)===V.type){a(P,V.sibling),J=h(V,j.props),ul(J,j),J.return=P,P=J;break e}a(P,V);break}else i(P,V);V=V.sibling}j.type===K?(J=Os(j.props.children,P.mode,J,j.key),J.return=P,P=J):(J=Pu(j.type,j.key,j.props,null,P.mode,J),ul(J,j),J.return=P,P=J)}return v(P);case k:e:{for(he=j.key;V!==null;){if(V.key===he)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){a(P,V.sibling),J=h(V,j.children||[]),J.return=P,P=J;break e}else{a(P,V);break}else i(P,V);V=V.sibling}J=gf(j,P.mode,J),J.return=P,P=J}return v(P);case w:return he=j._init,j=he(j._payload),Ze(P,V,j,J)}if(xe(j))return be(P,V,j,J);if(L(j)){if(he=L(j),typeof he!="function")throw Error(s(150));return j=he.call(j),ve(P,V,j,J)}if(typeof j.then=="function")return Ze(P,V,Ju(j),J);if(j.$$typeof===X)return Ze(P,V,zu(P,j),J);ec(P,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(a(P,V.sibling),J=h(V,j),J.return=P,P=J):(a(P,V),J=pf(j,P.mode,J),J.return=P,P=J),v(P)):a(P,V)}return function(P,V,j,J){try{ll=0;var he=Ze(P,V,j,J);return Ma=null,he}catch(me){if(me===Jo||me===Hu)throw me;var Oe=dn(29,me,null,P.mode);return Oe.lanes=J,Oe.return=P,Oe}finally{}}}var Va=py(!0),gy=py(!1),Nn=ee(null),ui=null;function br(t){var i=t.alternate;le(Rt,Rt.current&1),le(Nn,t),ui===null&&(i===null||xa.current!==null||i.memoizedState!==null)&&(ui=t)}function yy(t){if(t.tag===22){if(le(Rt,Rt.current),le(Nn,t),ui===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ui=t)}}else Ar()}function Ar(){le(Rt,Rt.current),le(Nn,Nn.current)}function ji(t){oe(Nn),ui===t&&(ui=null),oe(Rt)}var Rt=ee(0);function tc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ud(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Xf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var $f={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=yn(),h=Er(l);h.payload=i,a!=null&&(h.callback=a),i=Tr(t,h,l),i!==null&&(_n(i,t,l),tl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=yn(),h=Er(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Tr(t,h,l),i!==null&&(_n(i,t,l),tl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=yn(),l=Er(a);l.tag=2,i!=null&&(l.callback=i),i=Tr(t,l,a),i!==null&&(_n(i,t,a),tl(i,t,a))}};function _y(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Go(a,l)||!Go(h,d):!0}function vy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&$f.enqueueReplaceState(i,i.state,null)}function Bs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var nc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ey(t){nc(t)}function Ty(t){console.error(t)}function Sy(t){nc(t)}function ic(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function by(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Wf(t,i,a){return a=Er(a),a.tag=3,a.payload={element:null},a.callback=function(){ic(t,i)},a}function Ay(t){return t=Er(t),t.tag=3,t}function wy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){by(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){by(i,a,l),typeof h!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function ab(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&$o(i,a,h,!0),a=Nn.current,a!==null){switch(a.tag){case 13:return ui===null?Td():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Rf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),bd(t,l,h)),!1;case 22:return a.flags|=65536,l===Rf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),bd(t,l,h)),!1}throw Error(s(435,a.tag))}return bd(t,l,h),Td(),!1}if(qe)return i=Nn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==vf&&(t=Error(s(422),{cause:l}),Xo(Rn(t,a)))):(l!==vf&&(i=Error(s(423),{cause:l}),Xo(Rn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Rn(l,a),h=Wf(t.stateNode,l,h),xf(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=Rn(d,a),gl===null?gl=[d]:gl.push(d),ct!==4&&(ct=2),i===null)return!0;l=Rn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Wf(a.stateNode,l,t),xf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Nr===null||!Nr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ay(h),wy(h,t,a,l),xf(a,h),!1}a=a.return}while(a!==null);return!1}var Ry=Error(s(461)),Dt=!1;function Lt(t,i,a,l){i.child=t===null?gy(i,null,a,l):Va(i,t.child,a,l)}function Cy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Us(i),l=Vf(t,i,a,v,d,h),T=kf(),t!==null&&!Dt?(Pf(t,i,h),zi(t,i,h)):(qe&&T&&yf(i),i.flags|=1,Lt(t,i,l,h),i.child)}function Iy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!mf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,xy(t,i,d,l,h)):(t=Pu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!sd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(v,l)&&t.ref===i.ref)return zi(t,i,h)}return i.flags|=1,t=Mi(d,l),t.ref=i.ref,t.return=i,i.child=t}function xy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Go(d,l)&&t.ref===i.ref)if(Dt=!1,i.pendingProps=l=d,sd(t,h))(t.flags&131072)!==0&&(Dt=!0);else return i.lanes=t.lanes,zi(t,i,h)}return Zf(t,i,a,l,h)}function Ny(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Dy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(i,d!==null?d.cachePool:null),d!==null?xg(i,d):Df(),yy(i);else return i.lanes=i.childLanes=536870912,Dy(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Bu(i,d.cachePool),xg(i,d),Ar(),i.memoizedState=null):(t!==null&&Bu(i,null),Df(),Ar());return Lt(t,i,h,a),i.child}function Dy(t,i,a,l){var h=wf();return h=h===null?null:{parent:wt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Bu(i,null),Df(),yy(i),t!==null&&$o(t,i,l,!0),null}function rc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Zf(t,i,a,l,h){return Us(i),a=Vf(t,i,a,l,void 0,h),l=kf(),t!==null&&!Dt?(Pf(t,i,h),zi(t,i,h)):(qe&&l&&yf(i),i.flags|=1,Lt(t,i,a,h),i.child)}function Oy(t,i,a,l,h,d){return Us(i),i.updateQueue=null,a=Dg(i,l,a,h),Ng(t),l=kf(),t!==null&&!Dt?(Pf(t,i,d),zi(t,i,d)):(qe&&l&&yf(i),i.flags|=1,Lt(t,i,a,d),i.child)}function My(t,i,a,l,h){if(Us(i),i.stateNode===null){var d=Aa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Yt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=$f,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Cf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Yt(v):Aa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Xf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&$f.enqueueReplaceState(d,d.state,null),il(i,l,d,h),nl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=Bs(a,T);d.props=I;var B=d.context,Z=a.contextType;v=Aa,typeof Z=="object"&&Z!==null&&(v=Yt(Z));var te=a.getDerivedStateFromProps;Z=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&vy(i,d,l,v),vr=!1;var F=i.memoizedState;d.state=F,il(i,l,d,h),nl(),B=i.memoizedState,T||F!==B||vr?(typeof te=="function"&&(Xf(i,a,te,l),B=i.memoizedState),(I=vr||_y(i,a,I,l,F,B,v))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,If(t,i),v=i.memoizedProps,Z=Bs(a,v),d.props=Z,te=i.pendingProps,F=d.context,B=a.contextType,I=Aa,typeof B=="object"&&B!==null&&(I=Yt(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==te||F!==I)&&vy(i,d,l,I),vr=!1,F=i.memoizedState,d.state=F,il(i,l,d,h),nl();var G=i.memoizedState;v!==te||F!==G||vr||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof T=="function"&&(Xf(i,a,T,l),G=i.memoizedState),(Z=vr||_y(i,a,Z,l,F,G,I)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=I,l=Z):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,rc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Va(i,t.child,null,h),i.child=Va(i,null,a,h)):Lt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=zi(t,i,h),t}function Vy(t,i,a,l){return Ko(),i.flags|=256,Lt(t,i,a,l),i.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ed(t){return{baseLanes:t,cachePool:Tg()}}function td(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Dn),t}function ky(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?br(i):Ar(),qe){var T=ut,I;if(I=T){e:{for(I=T,T=li;I.nodeType!==8;){if(!T){T=null;break e}if(I=Yn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ms!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},I=dn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,rn=i,ut=null,I=!0):I=!1}I||Ps(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Ud(T)?i.lanes=32:i.lanes=536870912,null;ji(i)}return T=l.children,l=l.fallback,h?(Ar(),h=i.mode,T=sc({mode:"hidden",children:T},h),l=Os(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=ed(a),h.childLanes=td(t,v,a),i.memoizedState=Jf,l):(br(i),nd(i,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(br(i),i.flags&=-257,i=id(t,i,a)):i.memoizedState!==null?(Ar(),i.child=t.child,i.flags|=128,i=null):(Ar(),h=l.fallback,T=i.mode,l=sc({mode:"visible",children:l.children},T),h=Os(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Va(i,t.child,null,a),l=i.child,l.memoizedState=ed(a),l.childLanes=td(t,v,a),i.memoizedState=Jf,i=h);else if(br(i),Ud(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,Xo({value:l,source:null,stack:null}),i=id(t,i,a)}else if(Dt||$o(t,i,a,!1),v=(a&t.childLanes)!==0,Dt||v){if(v=tt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Io(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,ba(t,l),_n(v,t,l),Ry;T.data==="$?"||Td(),i=id(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,ut=Yn(T.nextSibling),rn=i,qe=!0,ks=null,li=!1,t!==null&&(In[xn++]=Vi,In[xn++]=ki,In[xn++]=Ms,Vi=t.id,ki=t.overflow,Ms=i),i=nd(i,l.children),i.flags|=4096);return i}return h?(Ar(),h=l.fallback,T=i.mode,I=t.child,B=I.sibling,l=Mi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?h=Mi(B,h):(h=Os(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=ed(a):(I=T.cachePool,I!==null?(B=wt._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=Tg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=td(t,v,a),i.memoizedState=Jf,l):(br(i),a=t.child,t=a.sibling,a=Mi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function nd(t,i){return i=sc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function sc(t,i){return t=dn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function id(t,i,a){return Va(i,t.child,null,a),t=nd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Py(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Tf(t.return,i,a)}function rd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Ly(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Lt(t,i,l.children,a),l=Rt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Py(t,a,i);else if(t.tag===19)Py(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(le(Rt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&tc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),rd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&tc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}rd(i,!0,a,null,d);break;case"together":rd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),xr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if($o(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Mi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Mi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function sd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function ob(t,i,a){switch(i.tag){case 3:Ke(i,i.stateNode.containerInfo),_r(i,wt,t.memoizedState.cache),Ko();break;case 27:case 5:Ao(i);break;case 4:Ke(i,i.stateNode.containerInfo);break;case 10:_r(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(br(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ky(t,i,a):(br(i),t=zi(t,i,a),t!==null?t.sibling:null);br(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||($o(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Ly(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(Rt,Rt.current),l)break;return null;case 22:case 23:return i.lanes=0,Ny(t,i,a);case 24:_r(i,wt,t.memoizedState.cache)}return zi(t,i,a)}function Uy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Dt=!0;else{if(!sd(t,a)&&(i.flags&128)===0)return Dt=!1,ob(t,i,a);Dt=(t.flags&131072)!==0}else Dt=!1,qe&&(i.flags&1048576)!==0&&mg(i,Uu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")mf(l)?(t=Bs(l,t),i.tag=1,i=My(null,i,l,t,a)):(i.tag=0,i=Zf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ue){i.tag=11,i=Cy(null,i,l,t,a);break e}else if(h===N){i.tag=14,i=Iy(null,i,l,t,a);break e}}throw i=ye(l)||l,Error(s(306,i,""))}}return i;case 0:return Zf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Bs(l,i.pendingProps),My(t,i,l,h,a);case 3:e:{if(Ke(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,If(t,i),il(i,l,null,a);var v=i.memoizedState;if(l=v.cache,_r(i,wt,l),l!==d.cache&&Sf(i,[wt],a,!0),nl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Vy(t,i,l,a);break e}else if(l!==h){h=Rn(Error(s(424)),i),Xo(h),i=Vy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Yn(t.firstChild),rn=i,qe=!0,ks=null,li=!0,a=gy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ko(),l===h){i=zi(t,i,a);break e}Lt(t,i,l,a)}i=i.child}return i;case 26:return rc(t,i),t===null?(a=H_(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,l=vc(Se.current).createElement(a),l[ft]=i,l[Pt]=t,jt(l,a,t),dt(l),i.stateNode=l):i.memoizedState=H_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ao(i),t===null&&qe&&(l=i.stateNode=j_(i.type,i.pendingProps,Se.current),rn=i,li=!0,h=ut,Mr(i.type)?(jd=h,ut=Yn(l.firstChild)):ut=h),Lt(t,i,i.pendingProps.children,a),rc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&qe&&((h=l=ut)&&(l=kb(l,i.type,i.pendingProps,li),l!==null?(i.stateNode=l,rn=i,ut=Yn(l.firstChild),li=!1,h=!0):h=!1),h||Ps(i)),Ao(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,kd(h,d)?l=null:v!==null&&kd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Vf(t,i,JS,null,null,a),wl._currentValue=h),rc(t,i),Lt(t,i,l,a),i.child;case 6:return t===null&&qe&&((t=a=ut)&&(a=Pb(a,i.pendingProps,li),a!==null?(i.stateNode=a,rn=i,ut=null,t=!0):t=!1),t||Ps(i)),null;case 13:return ky(t,i,a);case 4:return Ke(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Va(i,null,l,a):Lt(t,i,l,a),i.child;case 11:return Cy(t,i,i.type,i.pendingProps,a);case 7:return Lt(t,i,i.pendingProps,a),i.child;case 8:return Lt(t,i,i.pendingProps.children,a),i.child;case 12:return Lt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,_r(i,i.type,l.value),Lt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Us(i),h=Yt(h),l=l(h),i.flags|=1,Lt(t,i,l,a),i.child;case 14:return Iy(t,i,i.type,i.pendingProps,a);case 15:return xy(t,i,i.type,i.pendingProps,a);case 19:return Ly(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=sc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Mi(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Ny(t,i,a);case 24:return Us(i),l=Yt(wt),t===null?(h=wf(),h===null&&(h=tt,d=bf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Cf(i),_r(i,wt,h)):((t.lanes&a)!==0&&(If(t,i),il(i,null,null,a),nl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),_r(i,wt,l)):(l=d.cache,_r(i,wt,l),l!==h.cache&&Sf(i,[wt],a,!0))),Lt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Bi(t){t.flags|=4}function jy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Y_(i)){if(i=Nn.current,i!==null&&((je&4194048)===je?ui!==null:(je&62914560)!==je&&(je&536870912)===0||i!==ui))throw el=Rf,Sg;t.flags|=8192}}function ac(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?sr():536870912,t.lanes|=i,Ua|=i)}function cl(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function lb(t,i,a){var l=i.pendingProps;switch(_f(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Li(wt),Ln(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Yo(i)?Bi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,yg())),ot(i),null;case 26:return a=i.memoizedState,t===null?(Bi(i),a!==null?(ot(i),jy(i,a)):(ot(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Bi(i),ot(i),jy(i,a)):(ot(i),i.flags&=-16777217):(t.memoizedProps!==l&&Bi(i),ot(i),i.flags&=-16777217),null;case 27:ia(i),a=Se.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Bi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}t=pe.current,Yo(i)?pg(i):(t=j_(h,l,a),i.stateNode=t,Bi(i))}return ot(i),null;case 5:if(ia(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Bi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}if(t=pe.current,Yo(i))pg(i);else{switch(h=vc(Se.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[ft]=i,t[Pt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(jt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Bi(i)}}return ot(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Bi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Se.current,Yo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ft]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||O_(t.nodeValue,a)),t||Ps(i)}else t=vc(t).createTextNode(l),t[ft]=i,i.stateNode=t}return ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Yo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ft]=i}else Ko(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),h=!1}else h=yg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ji(i),i):(ji(i),null)}if(ji(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),ac(i,i.updateQueue),ot(i),null;case 4:return Ln(),t===null&&Nd(i.stateNode.containerInfo),ot(i),null;case 10:return Li(i.type),ot(i),null;case 19:if(oe(Rt),h=i.memoizedState,h===null)return ot(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)cl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=tc(t),d!==null){for(i.flags|=128,cl(h,!1),t=d.updateQueue,i.updateQueue=t,ac(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)dg(a,t),a=a.sibling;return le(Rt,Rt.current&1|2),i.child}t=t.sibling}h.tail!==null&&sn()>uc&&(i.flags|=128,l=!0,cl(h,!1),i.lanes=4194304)}else{if(!l)if(t=tc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,ac(i,t),cl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return ot(i),null}else 2*sn()-h.renderingStartTime>uc&&a!==536870912&&(i.flags|=128,l=!0,cl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=sn(),i.sibling=null,t=Rt.current,le(Rt,l?t&1|2:t&1),i):(ot(i),null);case 22:case 23:return ji(i),Of(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),a=i.updateQueue,a!==null&&ac(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&oe(js),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Li(wt),ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function ub(t,i){switch(_f(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Li(wt),Ln(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ia(i),null;case 13:if(ji(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ko()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return oe(Rt),null;case 4:return Ln(),null;case 10:return Li(i.type),null;case 22:case 23:return ji(i),Of(),t!==null&&oe(js),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Li(wt),null;case 25:return null;default:return null}}function zy(t,i){switch(_f(i),i.tag){case 3:Li(wt),Ln();break;case 26:case 27:case 5:ia(i);break;case 4:Ln();break;case 13:ji(i);break;case 19:oe(Rt);break;case 10:Li(i.type);break;case 22:case 23:ji(i),Of(),t!==null&&oe(js);break;case 24:Li(wt)}}function hl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Je(i,i.return,T)}}function wr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a,B=T;try{B()}catch(Z){Je(h,I,Z)}}}l=l.next}while(l!==d)}}catch(Z){Je(i,i.return,Z)}}function By(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ig(i,a)}catch(l){Je(t,t.return,l)}}}function Hy(t,i,a){a.props=Bs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function fl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Je(t,i,h)}}function ci(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,i,h)}else a.current=null}function qy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function ad(t,i,a){try{var l=t.stateNode;Nb(l,t.type,a,i),l[Pt]=i}catch(h){Je(t,t.return,h)}}function Fy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Mr(t.type)||t.tag===4}function od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Mr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ld(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=_c));else if(l!==4&&(l===27&&Mr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(ld(t,i,a),t=t.sibling;t!==null;)ld(t,i,a),t=t.sibling}function oc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Mr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(oc(t,i,a),t=t.sibling;t!==null;)oc(t,i,a),t=t.sibling}function Gy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);jt(i,l,a),i[ft]=t,i[Pt]=a}catch(d){Je(t,t.return,d)}}var Hi=!1,gt=!1,ud=!1,Qy=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function cb(t,i){if(t=t.containerInfo,Md=wc,t=ig(t),of(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,B=0,Z=0,te=t,F=null;t:for(;;){for(var G;te!==a||h!==0&&te.nodeType!==3||(T=v+h),te!==d||l!==0&&te.nodeType!==3||(I=v+l),te.nodeType===3&&(v+=te.nodeValue.length),(G=te.firstChild)!==null;)F=te,te=G;for(;;){if(te===t)break t;if(F===a&&++B===h&&(T=v),F===d&&++Z===l&&(I=v),(G=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=G}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vd={focusedElem:t,selectionRange:a},wc=!1,Ot=i;Ot!==null;)if(i=Ot,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Ot=t;else for(;Ot!==null;){switch(i=Ot,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=Bs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Je(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Ld(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ld(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ot=t;break}Ot=i.return}}function Yy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Rr(t,a),l&4&&hl(5,a);break;case 1:if(Rr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Je(a,a.return,v)}else{var h=Bs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Je(a,a.return,v)}}l&64&&By(a),l&512&&fl(a,a.return);break;case 3:if(Rr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ig(t,i)}catch(v){Je(a,a.return,v)}}break;case 27:i===null&&l&4&&Gy(a);case 26:case 5:Rr(t,a),i===null&&l&4&&qy(a),l&512&&fl(a,a.return);break;case 12:Rr(t,a);break;case 13:Rr(t,a),l&4&&$y(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=vb.bind(null,a),Lb(t,a))));break;case 22:if(l=a.memoizedState!==null||Hi,!l){i=i!==null&&i.memoizedState!==null||gt,h=Hi;var d=gt;Hi=l,(gt=i)&&!d?Cr(t,a,(a.subtreeFlags&8772)!==0):Rr(t,a),Hi=h,gt=d}break;case 30:break;default:Rr(t,a)}}function Ky(t){var i=t.alternate;i!==null&&(t.alternate=null,Ky(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&la(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,on=!1;function qi(t,i,a){for(a=a.child;a!==null;)Xy(t,i,a),a=a.sibling}function Xy(t,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(nr,a)}catch{}switch(a.tag){case 26:gt||ci(a,i),qi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||ci(a,i);var l=rt,h=on;Mr(a.type)&&(rt=a.stateNode,on=!1),qi(t,i,a),Tl(a.stateNode),rt=l,on=h;break;case 5:gt||ci(a,i);case 6:if(l=rt,h=on,rt=null,qi(t,i,a),rt=l,on=h,rt!==null)if(on)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{rt.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:rt!==null&&(on?(t=rt,L_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),xl(t)):L_(rt,a.stateNode));break;case 4:l=rt,h=on,rt=a.stateNode.containerInfo,on=!0,qi(t,i,a),rt=l,on=h;break;case 0:case 11:case 14:case 15:gt||wr(2,a,i),gt||wr(4,a,i),qi(t,i,a);break;case 1:gt||(ci(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Hy(a,i,l)),qi(t,i,a);break;case 21:qi(t,i,a);break;case 22:gt=(l=gt)||a.memoizedState!==null,qi(t,i,a),gt=l;break;default:qi(t,i,a)}}function $y(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xl(t)}catch(a){Je(i,i.return,a)}}function hb(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Qy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Qy),i;default:throw Error(s(435,t.tag))}}function cd(t,i){var a=hb(t);i.forEach(function(l){var h=Eb.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function mn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Mr(T.type)){rt=T.stateNode,on=!1;break e}break;case 5:rt=T.stateNode,on=!1;break e;case 3:case 4:rt=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(rt===null)throw Error(s(160));Xy(d,v,h),rt=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Wy(i,t),i=i.sibling}var Qn=null;function Wy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(i,t),pn(t),l&4&&(wr(3,t,t.return),hl(3,t),wr(5,t,t.return));break;case 1:mn(i,t),pn(t),l&512&&(gt||a===null||ci(a,a.return)),l&64&&Hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Qn;if(mn(i,t),pn(t),l&512&&(gt||a===null||ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[lr]||d[ft]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),jt(d,l,a),d[ft]=t,dt(d),l=d;break e;case"link":var v=G_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),jt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=G_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),jt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[ft]=t,dt(d),l=d}t.stateNode=l}else Q_(h,t.type,t.stateNode);else t.stateNode=F_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Q_(h,t.type,t.stateNode):F_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(i,t),pn(t),l&512&&(gt||a===null||ci(a,a.return)),a!==null&&l&4&&ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(i,t),pn(t),l&512&&(gt||a===null||ci(a,a.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(G){Je(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ad(t,h,a!==null?a.memoizedProps:h)),l&1024&&(ud=!0);break;case 6:if(mn(i,t),pn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){Je(t,t.return,G)}}break;case 3:if(Sc=null,h=Qn,Qn=Ec(i.containerInfo),mn(i,t),Qn=h,pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{xl(i.containerInfo)}catch(G){Je(t,t.return,G)}ud&&(ud=!1,Zy(t));break;case 4:l=Qn,Qn=Ec(t.stateNode.containerInfo),mn(i,t),pn(t),Qn=l;break;case 12:mn(i,t),pn(t);break;case 13:mn(i,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gd=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cd(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=Hi,Z=gt;if(Hi=B||h,gt=Z||I,mn(i,t),gt=Z,Hi=B,pn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Hi||gt||Hs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var te=I.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){Je(I,I.return,G)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(G){Je(I,I.return,G)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,cd(t,a))));break;case 19:mn(i,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cd(t,l)));break;case 30:break;case 21:break;default:mn(i,t),pn(t)}}function pn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Fy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=od(t);oc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(An(v,""),a.flags&=-33);var T=od(t);oc(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,B=od(t);ld(t,B,I);break;default:throw Error(s(161))}}catch(Z){Je(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Zy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Zy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Rr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Yy(t,i.alternate,i),i=i.sibling}function Hs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:wr(4,i,i.return),Hs(i);break;case 1:ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Hy(i,i.return,a),Hs(i);break;case 27:Tl(i.stateNode);case 26:case 5:ci(i,i.return),Hs(i);break;case 22:i.memoizedState===null&&Hs(i);break;case 30:Hs(i);break;default:Hs(i)}t=t.sibling}}function Cr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Cr(h,d,a),hl(4,d);break;case 1:if(Cr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Je(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Cg(I[h],T)}catch(B){Je(l,l.return,B)}}a&&v&64&&By(d),fl(d,d.return);break;case 27:Gy(d);case 26:case 5:Cr(h,d,a),a&&l===null&&v&4&&qy(d),fl(d,d.return);break;case 12:Cr(h,d,a);break;case 13:Cr(h,d,a),a&&v&4&&$y(h,d);break;case 22:d.memoizedState===null&&Cr(h,d,a),fl(d,d.return);break;case 30:break;default:Cr(h,d,a)}i=i.sibling}}function hd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Wo(a))}function fd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Wo(t))}function hi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Jy(t,i,a,l),i=i.sibling}function Jy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:hi(t,i,a,l),h&2048&&hl(9,i);break;case 1:hi(t,i,a,l);break;case 3:hi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Wo(t)));break;case 12:if(h&2048){hi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Je(i,i.return,I)}}else hi(t,i,a,l);break;case 13:hi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?hi(t,i,a,l):dl(t,i):d._visibility&2?hi(t,i,a,l):(d._visibility|=2,ka(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&hd(v,i);break;case 24:hi(t,i,a,l),h&2048&&fd(i.alternate,i);break;default:hi(t,i,a,l)}}function ka(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,I=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:ka(d,v,T,I,h),hl(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?ka(d,v,T,I,h):dl(d,v):(Z._visibility|=2,ka(d,v,T,I,h)),h&&B&2048&&hd(v.alternate,v);break;case 24:ka(d,v,T,I,h),h&&B&2048&&fd(v.alternate,v);break;default:ka(d,v,T,I,h)}i=i.sibling}}function dl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:dl(a,l),h&2048&&hd(l.alternate,l);break;case 24:dl(a,l),h&2048&&fd(l.alternate,l);break;default:dl(a,l)}i=i.sibling}}var ml=8192;function Pa(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)e_(t),t=t.sibling}function e_(t){switch(t.tag){case 26:Pa(t),t.flags&ml&&t.memoizedState!==null&&$b(Qn,t.memoizedState,t.memoizedProps);break;case 5:Pa(t);break;case 3:case 4:var i=Qn;Qn=Ec(t.stateNode.containerInfo),Pa(t),Qn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ml,ml=16777216,Pa(t),ml=i):Pa(t));break;default:Pa(t)}}function t_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function pl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ot=l,i_(l,t)}t_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)n_(t),t=t.sibling}function n_(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&wr(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,lc(t)):pl(t);break;default:pl(t)}}function lc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ot=l,i_(l,t)}t_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:wr(8,i,i.return),lc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,lc(i));break;default:lc(i)}t=t.sibling}}function i_(t,i){for(;Ot!==null;){var a=Ot;switch(a.tag){case 0:case 11:case 15:wr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ot=l;else e:for(a=t;Ot!==null;){l=Ot;var h=l.sibling,d=l.return;if(Ky(l),l===a){Ot=null;break e}if(h!==null){h.return=d,Ot=h;break e}Ot=d}}}var fb={getCacheForType:function(t){var i=Yt(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},db=typeof WeakMap=="function"?WeakMap:Map,Qe=0,tt=null,Me=null,je=0,Ye=0,gn=null,Ir=!1,La=!1,dd=!1,Fi=0,ct=0,xr=0,qs=0,md=0,Dn=0,Ua=0,gl=null,ln=null,pd=!1,gd=0,uc=1/0,cc=null,Nr=null,Ut=0,Dr=null,ja=null,za=0,yd=0,_d=null,r_=null,yl=0,vd=null;function yn(){if((Qe&2)!==0&&je!==0)return je&-je;if(Q.T!==null){var t=Ca;return t!==0?t:Rd()}return Ri()}function s_(){Dn===0&&(Dn=(je&536870912)===0||qe?Co():536870912);var t=Nn.current;return t!==null&&(t.flags|=32),Dn}function _n(t,i,a){(t===tt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),Or(t,je,Dn,!1)),ht(t,a),((Qe&2)===0||t!==tt)&&(t===tt&&((Qe&2)===0&&(qs|=a),ct===4&&Or(t,je,Dn,!1)),fi(t))}function a_(t,i,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||rr(t,i),h=l?gb(t,i):Sd(t,i,!0),d=l;do{if(h===0){La&&!l&&Or(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!mb(a)){h=Sd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=gl;var I=T.current.memoizedState.isDehydrated;if(I&&(Ba(T,v).flags|=256),v=Sd(T,v,!1),v!==2){if(dd&&!I){T.errorRecoveryDisabledLanes|=d,qs|=d,h=4;break e}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ba(t,0),Or(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Or(l,i,Dn,!Ir);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=gd+300-sn(),10<h)){if(Or(l,i,Dn,!Ir),Sn(l,0,!0)!==0)break e;l.timeoutHandle=k_(o_.bind(null,l,a,ln,cc,pd,i,Dn,qs,Ua,Ir,d,2,-0,0),h);break e}o_(l,a,ln,cc,pd,i,Dn,qs,Ua,Ir,d,0,-0,0)}}break}while(!0);fi(t)}function o_(t,i,a,l,h,d,v,T,I,B,Z,te,F,G){if(t.timeoutHandle=-1,te=i.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:Xb},e_(i),te=Wb(),te!==null)){t.cancelPendingCommit=te(m_.bind(null,t,i,d,a,l,h,v,T,I,Z,1,F,G)),Or(t,d,v,!B);return}m_(t,i,d,a,l,h,v,T,I)}function mb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!fn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Or(t,i,a,l){i&=~md,i&=~qs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Jt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ar(t,a,i)}function hc(){return(Qe&6)===0?(_l(0),!1):!0}function Ed(){if(Me!==null){if(Ye===0)var t=Me.return;else t=Me,Pi=Ls=null,Lf(t),Ma=null,ll=0,t=Me;for(;t!==null;)zy(t.alternate,t),t=t.return;Me=null}}function Ba(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Ob(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ed(),tt=t,Me=a=Mi(t.current,null),je=i,Ye=0,gn=null,Ir=!1,La=rr(t,i),dd=!1,Ua=Dn=md=qs=xr=ct=0,ln=gl=null,pd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Jt(l),d=1<<h;i|=t[h],l&=~d}return Fi=i,Mu(),a}function l_(t,i){De=null,Q.H=Zu,i===Jo||i===Hu?(i=wg(),Ye=3):i===Sg?(i=wg(),Ye=4):Ye=i===Ry?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,Me===null&&(ct=1,ic(t,Rn(i,t.current)))}function u_(){var t=Q.H;return Q.H=Zu,t===null?Zu:t}function c_(){var t=Q.A;return Q.A=fb,t}function Td(){ct=4,Ir||(je&4194048)!==je&&Nn.current!==null||(La=!0),(xr&134217727)===0&&(qs&134217727)===0||tt===null||Or(tt,je,Dn,!1)}function Sd(t,i,a){var l=Qe;Qe|=2;var h=u_(),d=c_();(tt!==t||je!==i)&&(cc=null,Ba(t,i)),i=!1;var v=ct;e:do try{if(Ye!==0&&Me!==null){var T=Me,I=gn;switch(Ye){case 8:Ed(),v=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(i=!0);var B=Ye;if(Ye=0,gn=null,Ha(t,T,I,B),a&&La){v=0;break e}break;default:B=Ye,Ye=0,gn=null,Ha(t,T,I,B)}}pb(),v=ct;break}catch(Z){l_(t,Z)}while(!0);return i&&t.shellSuspendCounter++,Pi=Ls=null,Qe=l,Q.H=h,Q.A=d,Me===null&&(tt=null,je=0,Mu()),v}function pb(){for(;Me!==null;)h_(Me)}function gb(t,i){var a=Qe;Qe|=2;var l=u_(),h=c_();tt!==t||je!==i?(cc=null,uc=sn()+500,Ba(t,i)):La=rr(t,i);e:do try{if(Ye!==0&&Me!==null){i=Me;var d=gn;t:switch(Ye){case 1:Ye=0,gn=null,Ha(t,i,d,1);break;case 2:case 9:if(bg(d)){Ye=0,gn=null,f_(i);break}i=function(){Ye!==2&&Ye!==9||tt!==t||(Ye=7),fi(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:bg(d)?(Ye=0,gn=null,f_(i)):(Ye=0,gn=null,Ha(t,i,d,7));break;case 5:var v=null;switch(Me.tag){case 26:v=Me.memoizedState;case 5:case 27:var T=Me;if(!v||Y_(v)){Ye=0,gn=null;var I=T.sibling;if(I!==null)Me=I;else{var B=T.return;B!==null?(Me=B,fc(B)):Me=null}break t}}Ye=0,gn=null,Ha(t,i,d,5);break;case 6:Ye=0,gn=null,Ha(t,i,d,6);break;case 8:Ed(),ct=6;break e;default:throw Error(s(462))}}yb();break}catch(Z){l_(t,Z)}while(!0);return Pi=Ls=null,Q.H=l,Q.A=h,Qe=a,Me!==null?0:(tt=null,je=0,Mu(),ct)}function yb(){for(;Me!==null&&!Xh();)h_(Me)}function h_(t){var i=Uy(t.alternate,t,Fi);t.memoizedProps=t.pendingProps,i===null?fc(t):Me=i}function f_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Oy(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=Oy(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:Lf(i);default:zy(a,i),i=Me=dg(i,Fi),i=Uy(a,i,Fi)}t.memoizedProps=t.pendingProps,i===null?fc(t):Me=i}function Ha(t,i,a,l){Pi=Ls=null,Lf(i),Ma=null,ll=0;var h=i.return;try{if(ab(t,h,i,a,je)){ct=1,ic(t,Rn(a,t.current)),Me=null;return}}catch(d){if(h!==null)throw Me=h,d;ct=1,ic(t,Rn(a,t.current)),Me=null;return}i.flags&32768?(qe||l===1?t=!0:La||(je&536870912)!==0?t=!1:(Ir=t=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),d_(i,t)):fc(i)}function fc(t){var i=t;do{if((i.flags&32768)!==0){d_(i,Ir);return}t=i.return;var a=lb(i.alternate,i,Fi);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);ct===0&&(ct=5)}function d_(t,i){do{var a=ub(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);ct=6,Me=null}function m_(t,i,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do dc();while(Ut!==0);if((Qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=ff,gu(t,a,d,v,T,I),t===tt&&(Me=tt=null,je=0),ja=i,Dr=t,za=a,yd=d,_d=h,r_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Tb(wi,function(){return v_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=se.p,se.p=2,v=Qe,Qe|=4;try{cb(t,i,a)}finally{Qe=v,se.p=h,Q.T=l}}Ut=1,p_(),g_(),y_()}}function p_(){if(Ut===1){Ut=0;var t=Dr,i=ja,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var h=Qe;Qe|=4;try{Wy(i,t);var d=Vd,v=ig(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&ng(T.ownerDocument.documentElement,T)){if(I!==null&&of(T)){var B=I.start,Z=I.end;if(Z===void 0&&(Z=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Z,T.value.length);else{var te=T.ownerDocument||document,F=te&&te.defaultView||window;if(F.getSelection){var G=F.getSelection(),be=T.textContent.length,ve=Math.min(I.start,be),Ze=I.end===void 0?ve:Math.min(I.end,be);!G.extend&&ve>Ze&&(v=Ze,Ze=ve,ve=v);var P=tg(T,ve),V=tg(T,Ze);if(P&&V&&(G.rangeCount!==1||G.anchorNode!==P.node||G.anchorOffset!==P.offset||G.focusNode!==V.node||G.focusOffset!==V.offset)){var j=te.createRange();j.setStart(P.node,P.offset),G.removeAllRanges(),ve>Ze?(G.addRange(j),G.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),G.addRange(j))}}}}for(te=[],G=T;G=G.parentNode;)G.nodeType===1&&te.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var J=te[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}wc=!!Md,Vd=Md=null}finally{Qe=h,se.p=l,Q.T=a}}t.current=i,Ut=2}}function g_(){if(Ut===2){Ut=0;var t=Dr,i=ja,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var h=Qe;Qe|=4;try{Yy(t,i.alternate,i)}finally{Qe=h,se.p=l,Q.T=a}}Ut=3}}function y_(){if(Ut===4||Ut===3){Ut=0,wo();var t=Dr,i=ja,a=za,l=r_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ut=5:(Ut=0,ja=Dr=null,__(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Nr=null),xo(a),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(nr,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=se.p,se.p=2,Q.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Q.T=i,se.p=h}}(za&3)!==0&&dc(),fi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===vd?yl++:(yl=0,vd=t):yl=0,_l(0)}}function __(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Wo(i)))}function dc(t){return p_(),g_(),y_(),v_()}function v_(){if(Ut!==5)return!1;var t=Dr,i=yd;yd=0;var a=xo(za),l=Q.T,h=se.p;try{se.p=32>a?32:a,Q.T=null,a=_d,_d=null;var d=Dr,v=za;if(Ut=0,ja=Dr=null,za=0,(Qe&6)!==0)throw Error(s(331));var T=Qe;if(Qe|=4,n_(d.current),Jy(d,d.current,v,a),Qe=T,_l(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(nr,d)}catch{}return!0}finally{se.p=h,Q.T=l,__(t,i)}}function E_(t,i,a){i=Rn(a,i),i=Wf(t.stateNode,i,2),t=Tr(t,i,2),t!==null&&(ht(t,2),fi(t))}function Je(t,i,a){if(t.tag===3)E_(t,t,a);else for(;i!==null;){if(i.tag===3){E_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Nr===null||!Nr.has(l))){t=Rn(a,t),a=Ay(2),l=Tr(i,a,2),l!==null&&(wy(a,l,i,t),ht(l,2),fi(l));break}}i=i.return}}function bd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new db;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(dd=!0,h.add(a),t=_b.bind(null,t,i,a),i.then(t,t))}function _b(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(je&a)===a&&(ct===4||ct===3&&(je&62914560)===je&&300>sn()-gd?(Qe&2)===0&&Ba(t,0):md|=a,Ua===je&&(Ua=0)),fi(t)}function T_(t,i){i===0&&(i=sr()),t=ba(t,i),t!==null&&(ht(t,i),fi(t))}function vb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),T_(t,a)}function Eb(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),T_(t,a)}function Tb(t,i){return ls(t,i)}var mc=null,qa=null,Ad=!1,pc=!1,wd=!1,Fs=0;function fi(t){t!==qa&&t.next===null&&(qa===null?mc=qa=t:qa=qa.next=t),pc=!0,Ad||(Ad=!0,bb())}function _l(t,i){if(!wd&&pc){wd=!0;do for(var a=!1,l=mc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Jt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,w_(l,d))}else d=je,d=Sn(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||rr(l,d)||(a=!0,w_(l,d));l=l.next}while(a);wd=!1}}function Sb(){S_()}function S_(){pc=Ad=!1;var t=0;Fs!==0&&(Db()&&(t=Fs),Fs=0);for(var i=sn(),a=null,l=mc;l!==null;){var h=l.next,d=b_(l,i);d===0?(l.next=null,a===null?mc=h:a.next=h,h===null&&(qa=a)):(a=l,(t!==0||(d&3)!==0)&&(pc=!0)),l=h}_l(t)}function b_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Jt(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=aa(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=tt,a=je,a=Sn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&sa(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||rr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&sa(l),xo(a)){case 2:case 8:a=xt;break;case 32:a=wi;break;case 268435456:a=Ro;break;default:a=wi}return l=A_.bind(null,t),a=ls(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&sa(l),t.callbackPriority=2,t.callbackNode=null,2}function A_(t,i){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(dc()&&t.callbackNode!==a)return null;var l=je;return l=Sn(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(a_(t,l,i),b_(t,sn()),t.callbackNode!=null&&t.callbackNode===a?A_.bind(null,t):null)}function w_(t,i){if(dc())return null;a_(t,i,!0)}function bb(){Mb(function(){(Qe&6)!==0?ls(bt,Sb):S_()})}function Rd(){return Fs===0&&(Fs=Co()),Fs}function R_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Bn(""+t)}function C_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Ab(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=R_((h[Pt]||null).action),v=l.submitter;v&&(i=(i=v[Pt]||null)?R_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new bs("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fs!==0){var I=v?C_(h,v):new FormData(h);Qf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?C_(h,v):new FormData(h),Qf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Cd=0;Cd<hf.length;Cd++){var Id=hf[Cd],wb=Id.toLowerCase(),Rb=Id[0].toUpperCase()+Id.slice(1);Gn(wb,"on"+Rb)}Gn(ag,"onAnimationEnd"),Gn(og,"onAnimationIteration"),Gn(lg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(qS,"onTransitionRun"),Gn(FS,"onTransitionStart"),Gn(GS,"onTransitionCancel"),Gn(ug,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function I_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Z){nc(Z)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,B=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Z){nc(Z)}h.currentTarget=null,d=I}}}}function Ve(t,i){var a=i[cs];a===void 0&&(a=i[cs]=new Set);var l=t+"__bubble";a.has(l)||(x_(i,t,2,!1),a.add(l))}function xd(t,i,a){var l=0;i&&(l|=4),x_(a,t,l,i)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Nd(t){if(!t[gc]){t[gc]=!0,yu.forEach(function(a){a!=="selectionchange"&&(Cb.has(a)||xd(a,!1,t),xd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[gc]||(i[gc]=!0,xd("selectionchange",!1,i))}}function x_(t,i,a,l){switch(J_(i)){case 2:var h=e1;break;case 8:h=t1;break;default:h=Fd}a=h.bind(null,i,a,t),h=void 0,!Di||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Dd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=ti(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Es(function(){var B=d,Z=Po(a),te=[];e:{var F=cg.get(t);if(F!==void 0){var G=bs,be=t;switch(t){case"keypress":if(Ts(a)===0)break e;case"keydown":case"keyup":G=va;break;case"focusin":be="focus",G=ga;break;case"focusout":be="blur",G=ga;break;case"beforeblur":case"afterblur":G=ga;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Is;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=yr;break;case ag:case og:case lg:G=Uo;break;case ug:G=p;break;case"scroll":case"scrollend":G=ws;break;case"wheel":G=b;break;case"copy":case"cut":case"paste":G=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Bo;break;case"toggle":case"beforetoggle":G=Y}var ve=(i&4)!==0,Ze=!ve&&(t==="scroll"||t==="scrollend"),P=ve?F!==null?F+"Capture":null:F;ve=[];for(var V=B,j;V!==null;){var J=V;if(j=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||j===null||P===null||(J=pr(V,P),J!=null&&ve.push(El(V,J,j))),Ze)break;V=V.return}0<ve.length&&(F=new G(F,be,null,a,Z),te.push({event:F,listeners:ve}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",F&&a!==ko&&(be=a.relatedTarget||a.fromElement)&&(ti(be)||be[Ci]))break e;if((G||F)&&(F=Z.window===Z?Z:(F=Z.ownerDocument)?F.defaultView||F.parentWindow:window,G?(be=a.relatedTarget||a.toElement,G=B,be=be?ti(be):null,be!==null&&(Ze=u(be),ve=be.tag,be!==Ze||ve!==5&&ve!==27&&ve!==6)&&(be=null)):(G=null,be=B),G!==be)){if(ve=Is,J="onMouseLeave",P="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Bo,J="onPointerLeave",P="onPointerEnter",V="pointer"),Ze=G==null?F:ur(G),j=be==null?F:ur(be),F=new ve(J,V+"leave",G,a,Z),F.target=Ze,F.relatedTarget=j,J=null,ti(Z)===B&&(ve=new ve(P,V+"enter",be,a,Z),ve.target=j,ve.relatedTarget=Ze,J=ve),Ze=J,G&&be)t:{for(ve=G,P=be,V=0,j=ve;j;j=Fa(j))V++;for(j=0,J=P;J;J=Fa(J))j++;for(;0<V-j;)ve=Fa(ve),V--;for(;0<j-V;)P=Fa(P),j--;for(;V--;){if(ve===P||P!==null&&ve===P.alternate)break t;ve=Fa(ve),P=Fa(P)}ve=null}else ve=null;G!==null&&N_(te,F,G,ve,!1),be!==null&&Ze!==null&&N_(te,Ze,be,ve,!0)}}e:{if(F=B?ur(B):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var he=Xp;else if(Yp(F))if($p)he=zS;else{he=US;var Oe=LS}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&da(B.elementType)&&(he=Xp):he=jS;if(he&&(he=he(t,B))){Kp(te,he,a,Z);break e}Oe&&Oe(t,F,B),t==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&Oo(F,"number",F.value)}switch(Oe=B?ur(B):window,t){case"focusin":(Yp(Oe)||Oe.contentEditable==="true")&&(Ea=Oe,lf=B,Qo=null);break;case"focusout":Qo=lf=Ea=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,rg(te,a,Z);break;case"selectionchange":if(HS)break;case"keydown":case"keyup":rg(te,a,Z)}var me;if(Ce)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Fn?Hn(t,a)&&(Ee="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(mt&&a.locale!=="ko"&&(Fn||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Fn&&(me=bu()):(wn=Z,et="value"in wn?wn.value:wn.textContent,Fn=!0)),Oe=yc(B,Ee),0<Oe.length&&(Ee=new zo(Ee,t,null,a,Z),te.push({event:Ee,listeners:Oe}),me?Ee.data=me:(me=qn(a),me!==null&&(Ee.data=me)))),(me=Ge?Ho(t,a):VS(t,a))&&(Ee=yc(B,"onBeforeInput"),0<Ee.length&&(Oe=new zo("onBeforeInput","beforeinput",null,a,Z),te.push({event:Oe,listeners:Ee}),Oe.data=me)),Ab(te,t,B,a,Z)}I_(te,i)})}function El(t,i,a){return{instance:t,listener:i,currentTarget:a}}function yc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=pr(t,a),h!=null&&l.unshift(El(t,h,d)),h=pr(t,i),h!=null&&l.push(El(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function N_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||B===null||(I=B,h?(B=pr(a,d),B!=null&&v.unshift(El(a,B,I))):h||(B=pr(a,d),B!=null&&v.push(El(a,B,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var Ib=/\r\n?/g,xb=/\u0000|\uFFFD/g;function D_(t){return(typeof t=="string"?t:""+t).replace(Ib,`
`).replace(xb,"")}function O_(t,i){return i=D_(i),D_(t)===i}function _c(){}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&An(t,""+l);break;case"className":ps(t,"class",l);break;case"tabIndex":ps(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ps(t,a,l);break;case"style":Vo(t,l,d);break;case"data":if(i!=="object"){ps(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Bn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Bn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=_c);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Bn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),ms(t,"popover",l);break;case"xlinkActuate":bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ms(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Eu.get(a)||a,ms(t,a,l))}}function Od(t,i,a,l,h,d){switch(a){case"style":Vo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=_c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ms(t,a,l)}}}function jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,v,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var T=d=v=h=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":v=Z;break;case"checked":I=Z;break;case"defaultChecked":B=Z;break;case"value":d=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:We(t,i,l,Z,a,null)}}Do(t,d,T,I,B,v,h,!1),fr(t);return;case"select":Ve("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:We(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?dr(t,!!l,i,!1):a!=null&&dr(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:We(t,i,v,T,a,null)}vu(t,l,h,d),fr(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,I,l,a,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)Ve(vl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,B,l,a,null)}return;default:if(da(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Od(t,i,Z,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(t,i,T,l,a,null))}function Nb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,B=null,Z=null;for(G in a){var te=a[G];if(a.hasOwnProperty(G)&&te!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=te;default:l.hasOwnProperty(G)||We(t,i,G,null,l,te)}}for(var F in l){var G=l[F];if(te=a[F],l.hasOwnProperty(F)&&(G!=null||te!=null))switch(F){case"type":d=G;break;case"name":h=G;break;case"checked":B=G;break;case"defaultChecked":Z=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==te&&We(t,i,F,G,l,te)}}No(t,v,T,I,B,Z,d,h);return;case"select":G=v=T=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(d)||We(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&We(t,i,h,d,l,I)}i=T,a=v,l=G,F!=null?dr(t,!!a,F,!1):!!l!=!!a&&(i!=null?dr(t,!!a,i,!0):dr(t,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,v,h,l,d)}_u(t,F,G);return;case"option":for(var be in a)if(F=a[be],a.hasOwnProperty(be)&&F!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:We(t,i,be,null,l,F)}for(I in l)if(F=l[I],G=a[I],l.hasOwnProperty(I)&&F!==G&&(F!=null||G!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(t,i,I,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)F=a[ve],a.hasOwnProperty(ve)&&F!=null&&!l.hasOwnProperty(ve)&&We(t,i,ve,null,l,F);for(B in l)if(F=l[B],G=a[B],l.hasOwnProperty(B)&&F!==G&&(F!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:We(t,i,B,F,l,G)}return;default:if(da(i)){for(var Ze in a)F=a[Ze],a.hasOwnProperty(Ze)&&F!==void 0&&!l.hasOwnProperty(Ze)&&Od(t,i,Ze,void 0,l,F);for(Z in l)F=l[Z],G=a[Z],!l.hasOwnProperty(Z)||F===G||F===void 0&&G===void 0||Od(t,i,Z,F,l,G);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&We(t,i,P,null,l,F);for(te in l)F=l[te],G=a[te],!l.hasOwnProperty(te)||F===G||F==null&&G==null||We(t,i,te,F,l,G)}var Md=null,Vd=null;function vc(t){return t.nodeType===9?t:t.ownerDocument}function M_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function kd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pd=null;function Db(){var t=window.event;return t&&t.type==="popstate"?t===Pd?!1:(Pd=t,!0):(Pd=null,!1)}var k_=typeof setTimeout=="function"?setTimeout:void 0,Ob=typeof clearTimeout=="function"?clearTimeout:void 0,P_=typeof Promise=="function"?Promise:void 0,Mb=typeof queueMicrotask=="function"?queueMicrotask:typeof P_<"u"?function(t){return P_.resolve(null).then(t).catch(Vb)}:k_;function Vb(t){setTimeout(function(){throw t})}function Mr(t){return t==="head"}function L_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Tl(v.documentElement),a&2&&Tl(v.body),a&4)for(a=v.head,Tl(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[lr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),xl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);xl(i)}function Ld(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ld(a),la(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function kb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[lr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function Pb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Yn(t.nextSibling),t===null))return null;return t}function Ud(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Lb(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Yn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var jd=null;function U_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function j_(t,i,a){switch(i=vc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Tl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);la(t)}var On=new Map,z_=new Set;function Ec(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Gi=se.d;se.d={f:Ub,r:jb,D:zb,C:Bb,L:Hb,m:qb,X:Gb,S:Fb,M:Qb};function Ub(){var t=Gi.f(),i=hc();return t||i}function jb(t){var i=ni(t);i!==null&&i.tag===5&&i.type==="form"?ay(i):Gi.r(t)}var Ga=typeof document>"u"?null:document;function B_(t,i,a){var l=Ga;if(l&&typeof i=="string"&&i){var h=Nt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),z_.has(h)||(z_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),jt(i,"link",t),dt(i),l.head.appendChild(i)))}}function zb(t){Gi.D(t),B_("dns-prefetch",t,null)}function Bb(t,i){Gi.C(t,i),B_("preconnect",t,i)}function Hb(t,i,a){Gi.L(t,i,a);var l=Ga;if(l&&t&&i){var h='link[rel="preload"][as="'+Nt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Nt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Nt(a.imageSizes)+'"]')):h+='[href="'+Nt(t)+'"]';var d=h;switch(i){case"style":d=Qa(t);break;case"script":d=Ya(t)}On.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),On.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Sl(d))||i==="script"&&l.querySelector(bl(d))||(i=l.createElement("link"),jt(i,"link",t),dt(i),l.head.appendChild(i)))}}function qb(t,i){Gi.m(t,i);var a=Ga;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Nt(l)+'"][href="'+Nt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(t)}if(!On.has(d)&&(t=E({rel:"modulepreload",href:t},i),On.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(d)))return}l=a.createElement("link"),jt(l,"link",t),dt(l),a.head.appendChild(l)}}}function Fb(t,i,a){Gi.S(t,i,a);var l=Ga;if(l&&t){var h=cr(l).hoistableStyles,d=Qa(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Sl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=On.get(d))&&zd(t,a);var I=v=l.createElement("link");dt(I),jt(I,"link",t),I._p=new Promise(function(B,Z){I.onload=B,I.onerror=Z}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Tc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function Gb(t,i){Gi.X(t,i);var a=Ga;if(a&&t){var l=cr(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=E({src:t,async:!0},i),(i=On.get(h))&&Bd(t,i),d=a.createElement("script"),dt(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Qb(t,i){Gi.M(t,i);var a=Ga;if(a&&t){var l=cr(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=On.get(h))&&Bd(t,i),d=a.createElement("script"),dt(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function H_(t,i,a,l){var h=(h=Se.current)?Ec(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Qa(a.href),a=cr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Qa(a.href);var d=cr(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Sl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),On.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(t,a),d||Yb(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ya(a),a=cr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Qa(t){return'href="'+Nt(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function q_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function Yb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),jt(i,"link",a),dt(i),t.head.appendChild(i))}function Ya(t){return'[src="'+Nt(t)+'"]'}function bl(t){return"script[async]"+t}function F_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Nt(a.href)+'"]');if(l)return i.instance=l,dt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),dt(l),jt(l,"style",h),Tc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Qa(a.href);var d=t.querySelector(Sl(h));if(d)return i.state.loading|=4,i.instance=d,dt(d),d;l=q_(a),(h=On.get(h))&&zd(l,h),d=(t.ownerDocument||t).createElement("link"),dt(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),jt(d,"link",l),i.state.loading|=4,Tc(d,a.precedence,t),i.instance=d;case"script":return d=Ya(a.src),(h=t.querySelector(bl(d)))?(i.instance=h,dt(h),h):(l=a,(h=On.get(d))&&(l=E({},a),Bd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),dt(h),jt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Tc(l,a.precedence,t));return i.instance}function Tc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Bd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Sc=null;function G_(t,i,a){if(Sc===null){var l=new Map,h=Sc=new Map;h.set(a,l)}else h=Sc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[lr]||d[ft]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Q_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Kb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Y_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Al=null;function Xb(){}function $b(t,i,a){if(Al===null)throw Error(s(475));var l=Al;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Qa(a.href),d=t.querySelector(Sl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=bc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,dt(d);return}d=t.ownerDocument||t,a=q_(a),(h=On.get(h))&&zd(a,h),d=d.createElement("link"),dt(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),jt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=bc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Wb(){if(Al===null)throw Error(s(475));var t=Al;return t.stylesheets&&t.count===0&&Hd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Hd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function bc(){if(this.count--,this.count===0){if(this.stylesheets)Hd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ac=null;function Hd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ac=new Map,i.forEach(Zb,t),Ac=null,bc.call(t))}function Zb(t,i){if(!(i.state.loading&4)){var a=Ac.get(t);if(a)var l=a.get(null);else{a=new Map,Ac.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=bc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var wl={$$typeof:X,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Jb(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oa(0),this.hiddenUpdates=oa(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function K_(t,i,a,l,h,d,v,T,I,B,Z,te){return t=new Jb(t,i,a,v,T,I,B,te),i=1,d===!0&&(i|=24),d=dn(3,null,null,i),t.current=d,d.stateNode=t,i=bf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Cf(d),t}function X_(t){return t?(t=Aa,t):Aa}function $_(t,i,a,l,h,d){h=X_(h),l.context===null?l.context=h:l.pendingContext=h,l=Er(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Tr(t,l,i),a!==null&&(_n(a,t,i),tl(a,t,i))}function W_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function qd(t,i){W_(t,i),(t=t.alternate)&&W_(t,i)}function Z_(t){if(t.tag===13){var i=ba(t,67108864);i!==null&&_n(i,t,67108864),qd(t,67108864)}}var wc=!0;function e1(t,i,a,l){var h=Q.T;Q.T=null;var d=se.p;try{se.p=2,Fd(t,i,a,l)}finally{se.p=d,Q.T=h}}function t1(t,i,a,l){var h=Q.T;Q.T=null;var d=se.p;try{se.p=8,Fd(t,i,a,l)}finally{se.p=d,Q.T=h}}function Fd(t,i,a,l){if(wc){var h=Gd(l);if(h===null)Dd(t,i,l,Rc,a),ev(t,l);else if(i1(h,t,i,a,l))l.stopPropagation();else if(ev(t,l),i&4&&-1<n1.indexOf(t)){for(;h!==null;){var d=ni(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Un(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Jt(v);T.entanglements[1]|=I,v&=~I}fi(d),(Qe&6)===0&&(uc=sn()+500,_l(0))}}break;case 13:T=ba(d,2),T!==null&&_n(T,d,2),hc(),qd(d,2)}if(d=Gd(l),d===null&&Dd(t,i,l,Rc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Dd(t,i,l,null,a)}}function Gd(t){return t=Po(t),Qd(t)}var Rc=null;function Qd(t){if(Rc=null,t=ti(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Rc=t,null}function J_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(du()){case bt:return 2;case xt:return 8;case wi:case $h:return 32;case Ro:return 268435456;default:return 32}default:return 32}}var Yd=!1,Vr=null,kr=null,Pr=null,Rl=new Map,Cl=new Map,Lr=[],n1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ev(t,i){switch(t){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":Rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(i.pointerId)}}function Il(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ni(i),i!==null&&Z_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function i1(t,i,a,l,h){switch(i){case"focusin":return Vr=Il(Vr,t,i,a,l,h),!0;case"dragenter":return kr=Il(kr,t,i,a,l,h),!0;case"mouseover":return Pr=Il(Pr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Rl.set(d,Il(Rl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Cl.set(d,Il(Cl.get(d)||null,t,i,a,l,h)),!0}return!1}function tv(t){var i=ti(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Jh(t.priority,function(){if(a.tag===13){var l=yn();l=Io(l);var h=ba(a,l);h!==null&&_n(h,a,l),qd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Gd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ko=l,a.target.dispatchEvent(l),ko=null}else return i=ni(a),i!==null&&Z_(i),t.blockedOn=a,!1;i.shift()}return!0}function nv(t,i,a){Cc(t)&&a.delete(i)}function r1(){Yd=!1,Vr!==null&&Cc(Vr)&&(Vr=null),kr!==null&&Cc(kr)&&(kr=null),Pr!==null&&Cc(Pr)&&(Pr=null),Rl.forEach(nv),Cl.forEach(nv)}function Ic(t,i){t.blockedOn===i&&(t.blockedOn=null,Yd||(Yd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,r1)))}var xc=null;function iv(t){xc!==t&&(xc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xc===t&&(xc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Qd(l||a)===null)continue;break}var d=ni(a);d!==null&&(t.splice(i,3),i-=3,Qf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function xl(t){function i(I){return Ic(I,t)}Vr!==null&&Ic(Vr,t),kr!==null&&Ic(kr,t),Pr!==null&&Ic(Pr,t),Rl.forEach(i),Cl.forEach(i);for(var a=0;a<Lr.length;a++){var l=Lr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Lr.length&&(a=Lr[0],a.blockedOn===null);)tv(a),a.blockedOn===null&&Lr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Pt]||null;if(typeof d=="function")v||iv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Pt]||null)T=v.formAction;else if(Qd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),iv(a)}}}function Kd(t){this._internalRoot=t}Nc.prototype.render=Kd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=yn();$_(a,l,t,i,null,null)},Nc.prototype.unmount=Kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;$_(t.current,2,null,t,null,null),hc(),i[Ci]=null}};function Nc(t){this._internalRoot=t}Nc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ri();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Lr.length&&i!==0&&i<Lr[a].priority;a++);Lr.splice(a,0,t),a===0&&tv(t)}};var rv=e.version;if(rv!=="19.1.1")throw Error(s(527,rv,"19.1.1"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var s1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{nr=Dc.inject(s1),Gt=Dc}catch{}}return Dl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Ey,d=Ty,v=Sy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=K_(t,1,!1,null,null,a,l,h,d,v,T,null),t[Ci]=i.current,Nd(t),new Kd(i)},Dl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Ey,v=Ty,T=Sy,I=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=K_(t,1,!0,i,a??null,l,h,d,v,T,I,B),i.context=X_(null),a=i.current,l=yn(),l=Io(l),h=Er(l),h.callback=null,Tr(a,h,l),a=l,i.current.lanes=a,ht(i,a),fi(i),t[Ci]=i.current,Nd(t),new Nc(i)},Dl.version="19.1.1",Dl}var mv;function g1(){if(mv)return Wd.exports;mv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Wd.exports=p1(),Wd.exports}var y1=g1();const _1=Y0(y1);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pv="popstate";function v1(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return _m("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Gl(o)}return T1(e,n,null,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Wn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function E1(){return Math.random().toString(36).substring(2,10)}function gv(r,e){return{usr:r.state,key:r.key,idx:e}}function _m(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?mo(e):e,state:n,key:e&&e.key||s||E1()}}function Gl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function mo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function T1(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let U=E(),q=U==null?null:U-y;y=U,g&&g({action:m,location:W.location,delta:q})}function A(U,q){m="PUSH";let $=_m(W.location,U,q);y=E()+1;let X=gv($,y),ue=W.createHref($);try{f.pushState(X,"",ue)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(ue)}u&&g&&g({action:m,location:W.location,delta:1})}function k(U,q){m="REPLACE";let $=_m(W.location,U,q);y=E();let X=gv($,y),ue=W.createHref($);f.replaceState(X,"",ue),u&&g&&g({action:m,location:W.location,delta:0})}function K(U){return S1(U)}let W={get action(){return m},get location(){return r(o,f)},listen(U){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(pv,S),g=U,()=>{o.removeEventListener(pv,S),g=null}},createHref(U){return e(o,U)},createURL:K,encodeLocation(U){let q=K(U);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:A,replace:k,go(U){return f.go(U)}};return W}function S1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),st(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Gl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function K0(r,e,n="/"){return b1(r,e,n,!1)}function b1(r,e,n,s){let o=typeof e=="string"?mo(e):e,u=$i(o.pathname||"/",n);if(u==null)return null;let f=X0(r);A1(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=k1(u);m=M1(f[g],y,s)}return m}function X0(r,e=[],n=[],s="",o=!1){let u=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;st(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=Xi([s,E.relativePath]),A=n.concat(E);f.children&&f.children.length>0&&(st(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),X0(f.children,e,A,S,g)),!(f.path==null&&!f.index)&&e.push({path:S,score:D1(S,f.index),routesMeta:A})};return r.forEach((f,m)=>{var g;if(f.path===""||!((g=f.path)!=null&&g.includes("?")))u(f,m);else for(let y of $0(f.path))u(f,m,!0,y)}),e}function $0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=$0(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function A1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:O1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var w1=/^:[\w-]+$/,R1=3,C1=2,I1=1,x1=10,N1=-2,yv=r=>r==="*";function D1(r,e){let n=r.split("/"),s=n.length;return n.some(yv)&&(s+=N1),e&&(s+=C1),n.filter(o=>!yv(o)).reduce((o,u)=>o+(w1.test(u)?R1:u===""?I1:x1),s)}function O1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function M1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=eh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),A=g.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=eh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Xi([u,S.pathname]),pathnameBase:j1(Xi([u,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(u=Xi([u,S.pathnameBase]))}return f}function eh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=V1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},A)=>{if(E==="*"){let K=m[A]||"";f=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const k=m[A];return S&&!k?y[E]=void 0:y[E]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function V1(r,e=!1,n=!0){Wn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function k1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function $i(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function P1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?mo(r):r;return{pathname:n?n.startsWith("/")?n:L1(n,e):e,search:z1(s),hash:B1(o)}}function L1(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function tm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function U1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xm(r){let e=U1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function $m(r,e,n,s=!1){let o;typeof r=="string"?o=mo(r):(o={...r},st(!o.pathname||!o.pathname.includes("?"),tm("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),tm("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),tm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),S-=1;o.pathname=A.join("/")}m=S>=0?e[S]:"/"}let g=P1(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Xi=r=>r.join("/").replace(/\/\/+/g,"/"),j1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),z1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,B1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function H1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var W0=["POST","PUT","PATCH","DELETE"];new Set(W0);var q1=["GET",...W0];new Set(q1);var po=H.createContext(null);po.displayName="DataRouter";var bh=H.createContext(null);bh.displayName="DataRouterState";H.createContext(!1);var Z0=H.createContext({isTransitioning:!1});Z0.displayName="ViewTransition";var F1=H.createContext(new Map);F1.displayName="Fetchers";var G1=H.createContext(null);G1.displayName="Await";var Zn=H.createContext(null);Zn.displayName="Navigation";var tu=H.createContext(null);tu.displayName="Location";var Ai=H.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var Wm=H.createContext(null);Wm.displayName="RouteError";function Q1(r,{relative:e}={}){st(go(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(Zn),{hash:o,pathname:u,search:f}=nu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Xi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function go(){return H.useContext(tu)!=null}function ss(){return st(go(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(tu).location}var J0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eE(r){H.useContext(Zn).static||H.useLayoutEffect(r)}function Ah(){let{isDataRoute:r}=H.useContext(Ai);return r?sA():Y1()}function Y1(){st(go(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(po),{basename:e,navigator:n}=H.useContext(Zn),{matches:s}=H.useContext(Ai),{pathname:o}=ss(),u=JSON.stringify(Xm(s)),f=H.useRef(!1);return eE(()=>{f.current=!0}),H.useCallback((g,y={})=>{if(Wn(f.current,J0),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=$m(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Xi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}H.createContext(null);function nu(r,{relative:e}={}){let{matches:n}=H.useContext(Ai),{pathname:s}=ss(),o=JSON.stringify(Xm(n));return H.useMemo(()=>$m(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function K1(r,e){return tE(r,e)}function tE(r,e,n,s,o){var $;st(go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=H.useContext(Zn),{matches:f}=H.useContext(Ai),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let X=S&&S.path||"";nE(y,!S||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let A=ss(),k;if(e){let X=typeof e=="string"?mo(e):e;st(E==="/"||(($=X.pathname)==null?void 0:$.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),k=X}else k=A;let K=k.pathname||"/",W=K;if(E!=="/"){let X=E.replace(/^\//,"").split("/");W="/"+K.replace(/^\//,"").split("/").slice(X.length).join("/")}let U=K0(r,{pathname:W});Wn(S||U!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Wn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=J1(U&&U.map(X=>Object.assign({},X,{params:Object.assign({},g,X.params),pathname:Xi([E,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:Xi([E,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),f,n,s,o);return e&&q?H.createElement(tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},q):q}function X1(){let r=rA(),e=H1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:o},n):null,f)}var $1=H.createElement(X1,null),W1=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?H.createElement(Ai.Provider,{value:this.props.routeContext},H.createElement(Wm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Z1({routeContext:r,match:e,children:n}){let s=H.useContext(po);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Ai.Provider,{value:r},n)}function J1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let y=u.findIndex(E=>E.route.id&&(f==null?void 0:f[E.route.id])!==void 0);st(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,g=-1;if(n)for(let y=0;y<u.length;y++){let E=u[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=y),E.route.id){let{loaderData:S,errors:A}=n,k=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!A||A[E.route.id]===void 0);if(E.route.lazy||k){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((y,E,S)=>{let A,k=!1,K=null,W=null;n&&(A=f&&E.route.id?f[E.route.id]:void 0,K=E.route.errorElement||$1,m&&(g<0&&S===0?(nE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,W=null):g===S&&(k=!0,W=E.route.hydrateFallbackElement||null)));let U=e.concat(u.slice(0,S+1)),q=()=>{let $;return A?$=K:k?$=W:E.route.Component?$=H.createElement(E.route.Component,null):E.route.element?$=E.route.element:$=y,H.createElement(Z1,{match:E,routeContext:{outlet:y,matches:U,isDataRoute:n!=null},children:$})};return n&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?H.createElement(W1,{location:n.location,revalidation:n.revalidation,component:K,error:A,children:q(),routeContext:{outlet:null,matches:U,isDataRoute:!0},unstable_onError:s}):q()},null)}function Zm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eA(r){let e=H.useContext(po);return st(e,Zm(r)),e}function tA(r){let e=H.useContext(bh);return st(e,Zm(r)),e}function nA(r){let e=H.useContext(Ai);return st(e,Zm(r)),e}function Jm(r){let e=nA(r),n=e.matches[e.matches.length-1];return st(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function iA(){return Jm("useRouteId")}function rA(){var s;let r=H.useContext(Wm),e=tA("useRouteError"),n=Jm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function sA(){let{router:r}=eA("useNavigate"),e=Jm("useNavigate"),n=H.useRef(!1);return eE(()=>{n.current=!0}),H.useCallback(async(o,u={})=>{Wn(n.current,J0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var _v={};function nE(r,e,n){!e&&!_v[r]&&(_v[r]=!0,Wn(!1,n))}H.memo(aA);function aA({routes:r,future:e,state:n,unstable_onError:s}){return tE(r,void 0,n,s,e)}function oA({to:r,replace:e,state:n,relative:s}){st(go(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=H.useContext(Zn);Wn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=H.useContext(Ai),{pathname:f}=ss(),m=Ah(),g=$m(r,Xm(u),f,s==="path"),y=JSON.stringify(g);return H.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function Vl(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){st(!go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=mo(n));let{pathname:g="/",search:y="",hash:E="",state:S=null,key:A="default"}=n,k=H.useMemo(()=>{let K=$i(g,f);return K==null?null:{location:{pathname:K,search:y,hash:E,state:S,key:A},navigationType:s}},[f,g,y,E,S,A,s]);return Wn(k!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:H.createElement(Zn.Provider,{value:m},H.createElement(tu.Provider,{children:e,value:k}))}function uA({children:r,location:e}){return K1(vm(r),e)}function vm(r,e=[]){let n=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){n.push.apply(n,vm(s.props.children,u));return}st(s.type===Vl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=vm(s.props.children,u)),n.push(f)}),n}var Bc="get",Hc="application/x-www-form-urlencoded";function wh(r){return r!=null&&typeof r.tagName=="string"}function cA(r){return wh(r)&&r.tagName.toLowerCase()==="button"}function hA(r){return wh(r)&&r.tagName.toLowerCase()==="form"}function fA(r){return wh(r)&&r.tagName.toLowerCase()==="input"}function dA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function mA(r,e){return r.button===0&&(!e||e==="_self")&&!dA(r)}var Oc=null;function pA(){if(Oc===null)try{new FormData(document.createElement("form"),0),Oc=!1}catch{Oc=!0}return Oc}var gA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nm(r){return r!=null&&!gA.has(r)?(Wn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hc}"`),null):r}function yA(r,e){let n,s,o,u,f;if(hA(r)){let m=r.getAttribute("action");s=m?$i(m,e):null,n=r.getAttribute("method")||Bc,o=nm(r.getAttribute("enctype"))||Hc,u=new FormData(r)}else if(cA(r)||fA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?$i(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Bc,o=nm(r.getAttribute("formenctype"))||nm(m.getAttribute("enctype"))||Hc,u=new FormData(m,r),!pA()){let{name:y,type:E,value:S}=r;if(E==="image"){let A=y?`${y}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else y&&u.append(y,S)}}else{if(wh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bc,s=null,o=Hc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ep(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function _A(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&$i(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function vA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function TA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await vA(u,n);return f.links?f.links():[]}return[]}));return wA(s.flat(1).filter(EA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function vv(r,e,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>{var E;return n[y].pathname!==g.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{var S;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function SA(r,e,{includeHydrateFallback:n}={}){return bA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function bA(r){return[...new Set(r)]}function AA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function wA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(AA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function iE(){let r=H.useContext(po);return ep(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function RA(){let r=H.useContext(bh);return ep(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var tp=H.createContext(void 0);tp.displayName="FrameworkContext";function rE(){let r=H.useContext(tp);return ep(r,"You must render this element inside a <HydratedRouter> element"),r}function CA(r,e){let n=H.useContext(tp),[s,o]=H.useState(!1),[u,f]=H.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,A=H.useRef(null);H.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let W=q=>{q.forEach($=>{f($.isIntersecting)})},U=new IntersectionObserver(W,{threshold:.5});return A.current&&U.observe(A.current),()=>{U.disconnect()}}},[r]),H.useEffect(()=>{if(s){let W=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(W)}}},[s]);let k=()=>{o(!0)},K=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Ol(m,k),onBlur:Ol(g,K),onMouseEnter:Ol(y,k),onMouseLeave:Ol(E,K),onTouchStart:Ol(S,k)}]:[!1,A,{}]}function Ol(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function IA({page:r,...e}){let{router:n}=iE(),s=H.useMemo(()=>K0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?H.createElement(NA,{page:r,matches:s,...e}):null}function xA(r){let{manifest:e,routeModules:n}=rE(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return TA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function NA({page:r,matches:e,...n}){let s=ss(),{manifest:o,routeModules:u}=rE(),{basename:f}=iE(),{loaderData:m,matches:g}=RA(),y=H.useMemo(()=>vv(r,e,g,o,s,"data"),[r,e,g,o,s]),E=H.useMemo(()=>vv(r,e,g,o,s,"assets"),[r,e,g,o,s]),S=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let K=new Set,W=!1;if(e.forEach(q=>{var X;let $=o.routes[q.route.id];!$||!$.hasLoader||(!y.some(ue=>ue.route.id===q.route.id)&&q.route.id in m&&((X=u[q.route.id])!=null&&X.shouldRevalidate)||$.hasClientLoader?W=!0:K.add(q.route.id))}),K.size===0)return[];let U=_A(r,f,"data");return W&&K.size>0&&U.searchParams.set("_routes",e.filter(q=>K.has(q.route.id)).map(q=>q.route.id).join(",")),[U.pathname+U.search]},[f,m,s,o,y,e,r,u]),A=H.useMemo(()=>SA(E,o),[E,o]),k=xA(E);return H.createElement(H.Fragment,null,S.map(K=>H.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...n})),A.map(K=>H.createElement("link",{key:K,rel:"modulepreload",href:K,...n})),k.map(({key:K,link:W})=>H.createElement("link",{key:K,nonce:n.nonce,...W})))}function DA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var sE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sE&&(window.__reactRouterVersion="7.9.5")}catch{}function OA({basename:r,children:e,window:n}){let s=H.useRef();s.current==null&&(s.current=v1({window:n,v5Compat:!0}));let o=s.current,[u,f]=H.useState({action:o.action,location:o.location}),m=H.useCallback(g=>{H.startTransition(()=>f(g))},[f]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(lA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var aE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,th=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,...A},k){let{basename:K}=H.useContext(Zn),W=typeof y=="string"&&aE.test(y),U,q=!1;if(typeof y=="string"&&W&&(U=y,sE))try{let C=new URL(window.location.href),M=y.startsWith("//")?new URL(C.protocol+y):new URL(y),O=$i(M.pathname,K);M.origin===C.origin&&O!=null?y=O+M.search+M.hash:q=!0}catch{Wn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=Q1(y,{relative:o}),[X,ue,ae]=CA(s,A),ge=PA(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S});function N(C){e&&e(C),C.defaultPrevented||ge(C)}let w=H.createElement("a",{...A,...ae,href:U||$,onClick:q||u?e:N,ref:DA(k,ue),target:g,"data-discover":!W&&n==="render"?"true":void 0});return X&&!W?H.createElement(H.Fragment,null,w,H.createElement(IA,{page:$})):w});th.displayName="Link";var MA=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let S=nu(f,{relative:y.relative}),A=ss(),k=H.useContext(bh),{navigator:K,basename:W}=H.useContext(Zn),U=k!=null&&BA(S)&&m===!0,q=K.encodeLocation?K.encodeLocation(S).pathname:S.pathname,$=A.pathname,X=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||($=$.toLowerCase(),X=X?X.toLowerCase():null,q=q.toLowerCase()),X&&W&&(X=$i(X,W)||X);const ue=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let ae=$===q||!o&&$.startsWith(q)&&$.charAt(ue)==="/",ge=X!=null&&(X===q||!o&&X.startsWith(q)&&X.charAt(q.length)==="/"),N={isActive:ae,isPending:ge,isTransitioning:U},w=ae?e:void 0,C;typeof s=="function"?C=s(N):C=[s,ae?"active":null,ge?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(N):u;return H.createElement(th,{...y,"aria-current":w,className:C,ref:E,style:M,to:f,viewTransition:m},typeof g=="function"?g(N):g)});MA.displayName="NavLink";var VA=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Bc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,...A},k)=>{let K=jA(),W=zA(m,{relative:y}),U=f.toLowerCase()==="get"?"get":"post",q=typeof m=="string"&&aE.test(m),$=X=>{if(g&&g(X),X.defaultPrevented)return;X.preventDefault();let ue=X.nativeEvent.submitter,ae=(ue==null?void 0:ue.getAttribute("formmethod"))||f;K(ue||X.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S})};return H.createElement("form",{ref:k,method:U,action:W,onSubmit:s?g:$,...A,"data-discover":!q&&r==="render"?"true":void 0})});VA.displayName="Form";function kA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oE(r){let e=H.useContext(po);return st(e,kA(r)),e}function PA(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Ah(),g=ss(),y=nu(r,{relative:u});return H.useCallback(E=>{if(mA(E,e)){E.preventDefault();let S=n!==void 0?n:Gl(g)===Gl(y);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,y,n,s,e,r,o,u,f])}var LA=0,UA=()=>`__${String(++LA)}__`;function jA(){let{router:r}=oE("useSubmit"),{basename:e}=H.useContext(Zn),n=iA();return H.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=yA(s,e);if(o.navigate===!1){let E=o.fetcherKey||UA();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function zA(r,{relative:e}={}){let{basename:n}=H.useContext(Zn),s=H.useContext(Ai);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...nu(r||".",{relative:e})},f=ss();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Xi([n,u.pathname])),Gl(u)}function BA(r,{relative:e}={}){let n=H.useContext(Z0);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=oE("useViewTransitionState"),o=nu(r,{relative:e});if(!n.isTransitioning)return!1;let u=$i(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=$i(n.nextLocation.pathname,s)||n.nextLocation.pathname;return eh(o.pathname,f)!=null||eh(o.pathname,u)!=null}const HA=()=>{try{return new Intl.Locale("fr-FR").language}catch{return"fr"}},qA=(r,e)=>new Intl.DateTimeFormat(HA(),e).format(r),qc=r=>qA(r,{month:"long",year:"numeric"}),Ql=(r,e)=>{const n=new Date(r);return n.setMonth(n.getMonth()+e),n},FA=(r,e)=>{const n=new Date(r);return n.setMonth(n.getMonth()-e),n},GA=r=>new Date(r.getFullYear(),r.getMonth(),1),QA=r=>{const e=r.getDay();return e===0?6:e-1},Em=(r,e)=>r.getFullYear()===e.getFullYear()&&r.getMonth()===e.getMonth()&&r.getDate()===e.getDate(),mi=(r,e)=>{const n=new Date(r);return n.setDate(n.getDate()+e),n},zr=(r,e)=>{const n=new Date(r);return n.setHours(e),n},Br=(r,e)=>{const n=new Date(r);return n.setMinutes(e),n},YA=(r,e)=>{const n=new Date(r.getTime()-r.getTimezoneOffset()*6e4).toISOString().split("T")[0];if(e.holidays.find(m=>m.date===n))return{isOpen:!1,start:"00:00",end:"00:00"};const o=e.specialPeriods.find(m=>n>=m.start&&n<=m.end),u=r.getDay();if(o){const m=o.hours.find(g=>g.dayOfWeek===u);if(m)return m}return e.defaultHours.find(m=>m.dayOfWeek===u)},KA=new Date,pi=GA(KA);Br(zr(mi(pi,2),10),0).toISOString(),Br(zr(mi(pi,2),12),0).toISOString(),Br(zr(mi(pi,5),14),0).toISOString(),Br(zr(mi(pi,5),18),0).toISOString(),Br(zr(mi(pi,5),16),30).toISOString(),Br(zr(mi(pi,5),20),0).toISOString();Br(zr(mi(pi,10),9),0).toISOString(),Br(zr(mi(pi,10),18),0).toISOString(),mi(pi,15).toISOString(),mi(pi,15).toISOString();const im={reminderStartDay:20,minSlotsRequired:1},rm={defaultHours:[{dayOfWeek:0,isOpen:!0,start:"09:00",end:"12:30"},{dayOfWeek:1,isOpen:!0,start:"09:00",end:"21:00"},{dayOfWeek:2,isOpen:!0,start:"09:00",end:"21:00"},{dayOfWeek:3,isOpen:!0,start:"09:00",end:"21:00"},{dayOfWeek:4,isOpen:!0,start:"09:00",end:"21:30"},{dayOfWeek:5,isOpen:!0,start:"09:00",end:"22:00"},{dayOfWeek:6,isOpen:!0,start:"09:00",end:"19:00"}],specialPeriods:[],holidays:[{id:"holiday-1",name:"Jour de l'an",date:"2025-01-01"},{id:"holiday-2",name:"Nol",date:"2025-12-25"}]},XA=()=>{};var Ev={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},$A=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},uE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let A=(m&15)<<2|y>>6,k=y&63;g||(k=64,f||(A=64)),s.push(n[E],n[S],n[A],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(lE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):$A(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new WA;const A=u<<2|m>>4;if(s.push(A),y!==64){const k=m<<4&240|y>>2;if(s.push(k),S!==64){const K=y<<6&192|S;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class WA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZA=function(r){const e=lE(r);return uE.encodeByteArray(e,!0)},nh=function(r){return ZA(r).replace(/\./g,"")},cE=function(r){try{return uE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=()=>JA().__FIREBASE_DEFAULTS__,tw=()=>{if(typeof process>"u"||typeof Ev>"u")return;const r=Ev.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},nw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&cE(r[1]);return e&&JSON.parse(e)},Rh=()=>{try{return XA()||ew()||tw()||nw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},hE=r=>{var e,n;return(n=(e=Rh())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},iw=r=>{const e=hE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},fE=()=>{var r;return(r=Rh())==null?void 0:r.config},dE=r=>{var e;return(e=Rh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[nh(JSON.stringify(n)),nh(JSON.stringify(f)),""].join(".")}const jl={};function aw(){const r={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?r.emulator.push(e):r.prod.push(e);return r}function ow(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Tv=!1;function pE(r,e){if(typeof window>"u"||typeof document>"u"||!yo(window.location.host)||jl[r]===e||jl[r]||Tv)return;jl[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=aw().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,k){A.setAttribute("width","24"),A.setAttribute("id",k),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Tv=!0,f()},A}function E(A,k){A.setAttribute("id",k),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function S(){const A=ow(s),k=n("text"),K=document.getElementById(k)||document.createElement("span"),W=n("learnmore"),U=document.getElementById(W)||document.createElement("a"),q=n("preprendIcon"),$=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const X=A.element;m(X),E(U,W);const ue=y();g($,q),X.append($,K,U,ue),document.body.appendChild(X)}u?(K.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function uw(){var e;const r=(e=Rh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function fw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dw(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function mw(){return!uw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pw(){try{return typeof indexedDB=="object"}catch{return!1}}function gw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="FirebaseError";class tr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=yw,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?_w(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new tr(o,m,s)}}function _w(r,e){return r.replace(vw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const vw=/\{\$([^}]+)}/g;function Ew(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function $s(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Sv(u)&&Sv(f)){if(!$s(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Sv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Tw(r,e){const n=new Sw(r,e);return n.subscribe.bind(n)}class Sw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");bw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=sm),o.error===void 0&&(o.error=sm),o.complete===void 0&&(o.complete=sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(r){return r&&r._delegate?r._delegate:r}class Ws{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new rw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Rw(e))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gs){return this.instances.has(e)}getOptions(e=Gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ww(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Gs){return this.component?this.component.multipleInstances?e:Gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ww(r){return r===Gs?void 0:r}function Rw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Aw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const Iw={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},xw=Pe.INFO,Nw={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Dw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Nw[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class np{constructor(e){this.name=e,this._logLevel=xw,this._logHandler=Dw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Iw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Ow=(r,e)=>e.some(n=>r instanceof n);let bv,Av;function Mw(){return bv||(bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vw(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gE=new WeakMap,Tm=new WeakMap,yE=new WeakMap,am=new WeakMap,ip=new WeakMap;function kw(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Qr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&gE.set(n,r)}).catch(()=>{}),ip.set(e,r),e}function Pw(r){if(Tm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Tm.set(r,e)}let Sm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Tm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||yE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Lw(r){Sm=r(Sm)}function Uw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(om(this),e,...n);return yE.set(s,e.sort?e.sort():[e]),Qr(s)}:Vw().includes(r)?function(...e){return r.apply(om(this),e),Qr(gE.get(this))}:function(...e){return Qr(r.apply(om(this),e))}}function jw(r){return typeof r=="function"?Uw(r):(r instanceof IDBTransaction&&Pw(r),Ow(r,Mw())?new Proxy(r,Sm):r)}function Qr(r){if(r instanceof IDBRequest)return kw(r);if(am.has(r))return am.get(r);const e=jw(r);return e!==r&&(am.set(r,e),ip.set(e,r)),e}const om=r=>ip.get(r);function zw(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Qr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Qr(f.result),g.oldVersion,g.newVersion,Qr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Bw=["get","getKey","getAll","getAllKeys","count"],Hw=["put","add","delete","clear"],lm=new Map;function wv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Hw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Bw.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return lm.set(e,u),u}Lw(r=>({...r,get:(e,n,s)=>wv(e,n)||r.get(e,n,s),has:(e,n)=>!!wv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Fw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Fw(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bm="@firebase/app",Rv="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new np("@firebase/app"),Gw="@firebase/app-compat",Qw="@firebase/analytics-compat",Yw="@firebase/analytics",Kw="@firebase/app-check-compat",Xw="@firebase/app-check",$w="@firebase/auth",Ww="@firebase/auth-compat",Zw="@firebase/database",Jw="@firebase/data-connect",eR="@firebase/database-compat",tR="@firebase/functions",nR="@firebase/functions-compat",iR="@firebase/installations",rR="@firebase/installations-compat",sR="@firebase/messaging",aR="@firebase/messaging-compat",oR="@firebase/performance",lR="@firebase/performance-compat",uR="@firebase/remote-config",cR="@firebase/remote-config-compat",hR="@firebase/storage",fR="@firebase/storage-compat",dR="@firebase/firestore",mR="@firebase/ai",pR="@firebase/firestore-compat",gR="firebase",yR="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="[DEFAULT]",_R={[bm]:"fire-core",[Gw]:"fire-core-compat",[Yw]:"fire-analytics",[Qw]:"fire-analytics-compat",[Xw]:"fire-app-check",[Kw]:"fire-app-check-compat",[$w]:"fire-auth",[Ww]:"fire-auth-compat",[Zw]:"fire-rtdb",[Jw]:"fire-data-connect",[eR]:"fire-rtdb-compat",[tR]:"fire-fn",[nR]:"fire-fn-compat",[iR]:"fire-iid",[rR]:"fire-iid-compat",[sR]:"fire-fcm",[aR]:"fire-fcm-compat",[oR]:"fire-perf",[lR]:"fire-perf-compat",[uR]:"fire-rc",[cR]:"fire-rc-compat",[hR]:"fire-gcs",[fR]:"fire-gcs-compat",[dR]:"fire-fst",[pR]:"fire-fst-compat",[mR]:"fire-vertex","fire-js":"fire-js",[gR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,vR=new Map,wm=new Map;function Cv(r,e){try{r.container.addComponent(e)}catch(n){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ro(r){const e=r.name;if(wm.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,r);for(const n of ih.values())Cv(n,r);for(const n of vR.values())Cv(n,r);return!0}function rp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Kn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new iu("app","Firebase",ER);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=yR;function _E(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Am,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Yr.create("bad-app-name",{appName:String(o)});if(n||(n=fE()),!n)throw Yr.create("no-options");const u=ih.get(o);if(u){if($s(n,u.options)&&$s(s,u.config))return u;throw Yr.create("duplicate-app",{appName:o})}const f=new Cw(o);for(const g of wm.values())f.addComponent(g);const m=new TR(n,s,f);return ih.set(o,m),m}function vE(r=Am){const e=ih.get(r);if(!e&&r===Am&&fE())return _E();if(!e)throw Yr.create("no-app",{appName:r});return e}function Kr(r,e,n){let s=_R[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(f.join(" "));return}ro(new Ws(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="firebase-heartbeat-database",bR=1,Yl="firebase-heartbeat-store";let um=null;function EE(){return um||(um=zw(SR,bR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Yr.create("idb-open",{originalErrorMessage:r.message})})),um}async function AR(r){try{const n=(await EE()).transaction(Yl),s=await n.objectStore(Yl).get(TE(r));return await n.done,s}catch(e){if(e instanceof tr)Wi.warn(e.message);else{const n=Yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wi.warn(n.message)}}}async function Iv(r,e){try{const s=(await EE()).transaction(Yl,"readwrite");await s.objectStore(Yl).put(e,TE(r)),await s.done}catch(n){if(n instanceof tr)Wi.warn(n.message);else{const s=Yr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wi.warn(s.message)}}}function TE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=1024,RR=30;class CR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=xv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>RR){const f=NR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Wi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xv(),{heartbeatsToSend:s,unsentEntries:o}=IR(this._heartbeatsCache.heartbeats),u=nh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Wi.warn(n),""}}}function xv(){return new Date().toISOString().substring(0,10)}function IR(r,e=wR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Nv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Nv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class xR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pw()?gw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Nv(r){return nh(JSON.stringify({version:2,heartbeats:r})).length}function NR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(r){ro(new Ws("platform-logger",e=>new qw(e),"PRIVATE")),ro(new Ws("heartbeat",e=>new CR(e),"PRIVATE")),Kr(bm,Rv,r),Kr(bm,Rv,"esm2020"),Kr("fire-js","")}DR("");var OR="firebase",MR="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(OR,MR,"app");function SE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VR=SE,bE=new iu("auth","Firebase",SE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new np("@firebase/auth");function kR(r,...e){rh.logLevel<=Pe.WARN&&rh.warn(`Auth (${_o}): ${r}`,...e)}function Fc(r,...e){rh.logLevel<=Pe.ERROR&&rh.error(`Auth (${_o}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(r,...e){throw ap(r,...e)}function $n(r,...e){return ap(r,...e)}function sp(r,e,n){const s={...VR(),[e]:n};return new iu("auth","Firebase",s).create(e,{appName:r.name})}function Ks(r){return sp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PR(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ti(r,"argument-error"),sp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ap(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return bE.create(r,...e)}function Ae(r,e,...n){if(!r)throw ap(e,...n)}function Yi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Fc(e),new Error(e)}function Zi(r,e){r||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function LR(){return Dv()==="http:"||Dv()==="https:"}function Dv(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LR()||hw()||"connection"in navigator)?navigator.onLine:!0}function jR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zi(n>e,"Short delay should be less than long delay!"),this.isMobile=lw()||fw()}get(){return UR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(r,e){Zi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HR=new su(3e4,6e4);function lp(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function vo(r,e,n,s,o={}){return wE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=ru({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return cw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&yo(r.emulatorConfig.host)&&(y.credentials="include"),AE.fetch()(await RE(r,r.config.apiHost,n,m),y)})}async function wE(r,e,n){r._canInitEmulator=!1;const s={...zR,...e};try{const o=new FR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Mc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Mc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Mc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw sp(r,E,y);Ti(r,E)}}catch(o){if(o instanceof tr)throw o;Ti(r,"network-request-failed",{message:String(o)})}}async function qR(r,e,n,s,o={}){const u=await vo(r,e,n,s,o);return"mfaPendingCredential"in u&&Ti(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function RE(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?op(r.config,o):`${r.config.apiScheme}://${o}`;return BR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class FR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s($n(this.auth,"network-request-failed")),HR.get())})}}function Mc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=$n(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(r,e){return vo(r,"POST","/v1/accounts:delete",e)}async function sh(r,e){return vo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QR(r,e=!1){const n=qt(r),s=await n.getIdToken(e),o=up(s);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:zl(cm(o.auth_time)),issuedAtTime:zl(cm(o.iat)),expirationTime:zl(cm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function cm(r){return Number(r)*1e3}function up(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const o=cE(n);return o?JSON.parse(o):(Fc("Failed to decode base64 JWT payload"),null)}catch(o){return Fc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Ov(r){const e=up(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof tr&&YR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function YR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(r){var S;const e=r.auth,n=await r.getIdToken(),s=await Kl(r,sh(e,{idToken:n}));Ae(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(S=o.providerUserInfo)!=null&&S.length?CE(o.providerUserInfo):[],f=$R(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!(f!=null&&f.length),y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Cm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function XR(r){const e=qt(r);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $R(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function CE(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(r,e){const n=await wE(r,{},async()=>{const s=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await RE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&yo(r.emulatorConfig.host)&&(g.credentials="include"),AE.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZR(r,e){return vo(r,"POST","/v2/accounts:revokeToken",lp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ov(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=Ov(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await WR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ja;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Xn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new KR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QR(this,e)}reload(){return XR(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Ks(this.auth));const e=await this.getIdToken();return await Kl(this,GR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:A,isAnonymous:k,providerData:K,stsTokenManager:W}=n;Ae(S&&W,e,"internal-error");const U=Ja.fromJSON(this.name,W);Ae(typeof S=="string",e,"internal-error"),jr(s,e.name),jr(o,e.name),Ae(typeof A=="boolean",e,"internal-error"),Ae(typeof k=="boolean",e,"internal-error"),jr(u,e.name),jr(f,e.name),jr(m,e.name),jr(g,e.name),jr(y,e.name),jr(E,e.name);const q=new Xn({uid:S,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:y,lastLoginAt:E});return K&&Array.isArray(K)&&(q.providerData=K.map($=>({...$}))),g&&(q._redirectEventId=g),q}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ja;o.updateFromServerResponse(n);const u=new Xn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ah(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?CE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ja;m.updateFromIdToken(s);const g=new Xn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Cm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=new Map;function Ki(r){Zi(r instanceof Function,"Expected a class definition");let e=Mv.get(r);return e?(Zi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Mv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IE.type="NONE";const Vv=IE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(r,e,n){return`firebase:${r}:${e}:${n}`}class eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Gc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Gc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sh(this.auth,{idToken:e}).catch(()=>{});return n?Xn._fromGetAccountInfoResponse(this.auth,n,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new eo(Ki(Vv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Ki(Vv);const f=Gc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const A=await sh(e,{idToken:E}).catch(()=>{});if(!A)break;S=await Xn._fromGetAccountInfoResponse(e,A,E)}else S=Xn._fromJSON(e,E);y!==u&&(m=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new eo(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new eo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VE(e))return"Blackberry";if(kE(e))return"Webos";if(NE(e))return"Safari";if((e.includes("chrome/")||DE(e))&&!e.includes("edge/"))return"Chrome";if(ME(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function xE(r=Zt()){return/firefox\//i.test(r)}function NE(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DE(r=Zt()){return/crios\//i.test(r)}function OE(r=Zt()){return/iemobile/i.test(r)}function ME(r=Zt()){return/android/i.test(r)}function VE(r=Zt()){return/blackberry/i.test(r)}function kE(r=Zt()){return/webos/i.test(r)}function cp(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function JR(r=Zt()){var e;return cp(r)&&!!((e=window.navigator)!=null&&e.standalone)}function e2(){return dw()&&document.documentMode===10}function PE(r=Zt()){return cp(r)||ME(r)||kE(r)||VE(r)||/windows phone/i.test(r)||OE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(r,e=[]){let n;switch(r){case"Browser":n=kv(Zt());break;case"Worker":n=`${kv(Zt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_o}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(r,e={}){return vo(r,"GET","/v2/passwordPolicy",lp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=6;class r2{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??i2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pv(this),this.idTokenSubscription=new Pv(this),this.beforeStateQueue=new t2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ki(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sh(this,{idToken:e}),s=await Xn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Kn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(s=g.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(Ks(this));const n=e?qt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(Ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await n2(this),n=new r2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await ZR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ki(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[Ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&kR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ch(r){return qt(r)}class Pv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Tw(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function a2(r){hp=r}function o2(r){return hp.loadJS(r)}function l2(){return hp.gapiScript}function u2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(r,e){const n=rp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if($s(u,e??{}))return o;Ti(o,"already-initialized")}return n.initialize({options:e})}function h2(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ki);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function f2(r,e,n){const s=Ch(r);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=UE(e),{host:f,port:m}=d2(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae($s(y,s.config.emulator)&&$s(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,yo(f)?(mE(`${u}//${f}${g}`),pE("Auth",!0)):m2()}function UE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function d2(r){const e=UE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Lv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Lv(f)}}}function Lv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function m2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,n){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(r,e){return qR(r,"POST","/v1/accounts:signInWithIdp",lp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="http://localhost";class Zs extends jE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return to(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,to(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,to(e,n)}buildRequest(){const e={requestUri:p2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends fp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends au{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zs._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Qi.credential(n,s)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends au{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends au{constructor(){super("twitter.com")}static credential(e,n){return Zs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Fr.credential(n,s)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Xn._fromIdTokenResponse(e,s,o),f=Uv(s);return new so({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Uv(s);return new so({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Uv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends tr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new oh(e,n,s,o)}}function zE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(r,u,e,s):u})}async function g2(r,e,n=!1){const s=await Kl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return so._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(r,e,n=!1){const{auth:s}=r;if(Kn(s.app))return Promise.reject(Ks(s));const o="reauthenticate";try{const u=await Kl(r,zE(s,o,e,r),n);Ae(u.idToken,s,"internal-error");const f=up(u.idToken);Ae(f,s,"internal-error");const{sub:m}=f;return Ae(r.uid===m,s,"user-mismatch"),so._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ti(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(r,e,n=!1){if(Kn(r.app))return Promise.reject(Ks(r));const s="signIn",o=await zE(r,s,e),u=await so._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function v2(r,e,n,s){return qt(r).onIdTokenChanged(e,n,s)}function E2(r,e,n){return qt(r).beforeAuthStateChanged(e,n)}function T2(r,e,n,s){return qt(r).onAuthStateChanged(e,n,s)}function S2(r){return qt(r).signOut()}const lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=1e3,A2=10;class HE extends BE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);e2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,A2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},b2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HE.type="LOCAL";const w2=HE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE extends BE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qE.type="SESSION";const FE=qE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Ih(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await R2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=dp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const A=S;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return window}function I2(r){gi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function x2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function D2(){return GE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="firebaseLocalStorageDb",O2=1,uh="firebaseLocalStorage",YE="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xh(r,e){return r.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function M2(){const r=indexedDB.deleteDatabase(QE);return new ou(r).toPromise()}function Im(){const r=indexedDB.open(QE,O2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(uh,{keyPath:YE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(uh)?e(s):(s.close(),await M2(),e(await Im()))})})}async function jv(r,e,n){const s=xh(r,!0).put({[YE]:e,value:n});return new ou(s).toPromise()}async function V2(r,e){const n=xh(r,!1).get(e),s=await new ou(n).toPromise();return s===void 0?null:s.value}function zv(r,e){const n=xh(r,!0).delete(e);return new ou(n).toPromise()}const k2=800,P2=3;class KE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Im(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>P2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(D2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await x2(),!this.activeServiceWorker)return;this.sender=new C2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Im();return await jv(e,lh,"1"),await zv(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>jv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>V2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=xh(o,!1).getAll();return new ou(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KE.type="LOCAL";const L2=KE;new su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(r,e){return e?Ki(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp extends jE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,n){return to(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function U2(r){return _2(r.auth,new mp(r),r.bypassAuthState)}function j2(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),y2(n,new mp(r),r.bypassAuthState)}async function z2(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),g2(n,new mp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U2;case"linkViaPopup":case"linkViaRedirect":return z2;case"reauthViaPopup":case"reauthViaRedirect":return j2;default:Ti(this.auth,"internal-error")}}resolve(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new su(2e3,1e4);async function H2(r,e,n){if(Kn(r.app))return Promise.reject($n(r,"operation-not-supported-in-this-environment"));const s=Ch(r);PR(r,e,fp);const o=XE(s,n);return new Qs(s,"signInViaPopup",e,o).executeNotNull()}class Qs extends $E{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Qs.currentPopupAction&&Qs.currentPopupAction.cancel(),Qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const e=dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,B2.get())};e()}}Qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="pendingRedirect",Qc=new Map;class F2 extends $E{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Qc.get(this.auth._key());if(!e){try{const s=await G2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Qc.set(this.auth._key(),e)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G2(r,e){const n=K2(e),s=Y2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Q2(r,e){Qc.set(r._key(),e)}function Y2(r){return Ki(r._redirectPersistence)}function K2(r){return Gc(q2,r.config.apiKey,r.name)}async function X2(r,e,n=!1){if(Kn(r.app))return Promise.reject(Ks(r));const s=Ch(r),o=XE(s,e),f=await new F2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=600*1e3;class W2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!WE(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError($n(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bv(e))}saveEventToCache(e){this.cachedEventUids.add(Bv(e)),this.lastProcessedEventTime=Date.now()}}function Bv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function WE({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Z2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(r,e={}){return vo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tC=/^https?/;async function nC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await J2(r);for(const n of e)try{if(iC(n))return}catch{}Ti(r,"unauthorized-domain")}function iC(r){const e=Rm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!tC.test(n))return!1;if(eC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=new su(3e4,6e4);function Hv(){const r=gi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function sC(r){return new Promise((e,n)=>{var o,u,f;function s(){Hv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hv(),n($n(r,"network-request-failed"))},timeout:rC.get()})}if((u=(o=gi().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=gi().gapi)!=null&&f.load)s();else{const m=u2("iframefcb");return gi()[m]=()=>{gapi.load?s():n($n(r,"network-request-failed"))},o2(`${l2()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw Yc=null,e})}let Yc=null;function aC(r){return Yc=Yc||sC(r),Yc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=new su(5e3,15e3),lC="__/auth/iframe",uC="emulator/auth/iframe",cC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fC(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?op(e,uC):`https://${r.config.authDomain}/${lC}`,s={apiKey:e.apiKey,appName:r.name,v:_o},o=hC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ru(s).slice(1)}`}async function dC(r){const e=await aC(r),n=gi().gapi;return Ae(n,r,"internal-error"),e.open({where:document.body,url:fC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=$n(r,"network-request-failed"),m=gi().setTimeout(()=>{u(f)},oC.get());function g(){gi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pC=500,gC=600,yC="_blank",_C="http://localhost";class qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vC(r,e,n,s=pC,o=gC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...mC,width:s.toString(),height:o.toString(),top:u,left:f},y=Zt().toLowerCase();n&&(m=DE(y)?yC:n),xE(y)&&(e=e||_C,g.scrollbars="yes");const E=Object.entries(g).reduce((A,[k,K])=>`${A}${k}=${K},`,"");if(JR(y)&&m!=="_self")return EC(e||"",m),new qv(null);const S=window.open(e||"",m,E);Ae(S,r,"popup-blocked");try{S.focus()}catch{}return new qv(S)}function EC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="__/auth/handler",SC="emulator/auth/handler",bC=encodeURIComponent("fac");async function Fv(r,e,n,s,o,u){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:_o,eventId:o};if(e instanceof fp){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Ew(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof au){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${bC}=${encodeURIComponent(g)}`:"";return`${AC(r)}?${ru(m).slice(1)}${y}`}function AC({config:r}){return r.emulator?op(r,SC):`https://${r.authDomain}/${TC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="webStorageSupport";class wC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FE,this._completeRedirectFn=X2,this._overrideRedirectResult=Q2}async _openPopup(e,n,s,o){var f;Zi((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await Fv(e,n,s,Rm(),o);return vC(e,u,dp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Fv(e,n,s,Rm(),o);return I2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Zi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await dC(e),s=new W2(e);return n.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hm,{type:hm},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[hm];u!==void 0&&n(!!u),Ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PE()||NE()||cp()}}const RC=wC;var Gv="@firebase/auth",Qv="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xC(r){ro(new Ws("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LE(r)},y=new s2(s,o,u,g);return h2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ro(new Ws("auth-internal",e=>{const n=Ch(e.getProvider("auth").getImmediate());return(s=>new CC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(Gv,Qv,IC(r)),Kr(Gv,Qv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=300,DC=dE("authIdTokenMaxAge")||NC;let Yv=null;const OC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>DC)return;const o=n==null?void 0:n.token;Yv!==o&&(Yv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function MC(r=vE()){const e=rp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=c2(r,{popupRedirectResolver:RC,persistence:[L2,w2,FE]}),s=dE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=OC(u.toString());E2(n,f,()=>f(n.currentUser)),v2(n,m=>f(m))}}const o=hE("auth");return o&&f2(n,`http://${o}`),n}function VC(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}a2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=$n("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",VC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xC("Browser");var Kv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xr,ZE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(M,O,L){for(var x=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)x[ye-2]=arguments[ye];return w.prototype[O].apply(M,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,C){C||(C=0);const M=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)M[O]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(O=0;O<16;++O)M[O]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],O=N.g[2];let L=N.g[3],x;x=w+(L^C&(O^L))+M[0]+3614090360&4294967295,w=C+(x<<7&4294967295|x>>>25),x=L+(O^w&(C^O))+M[1]+3905402710&4294967295,L=w+(x<<12&4294967295|x>>>20),x=O+(C^L&(w^C))+M[2]+606105819&4294967295,O=L+(x<<17&4294967295|x>>>15),x=C+(w^O&(L^w))+M[3]+3250441966&4294967295,C=O+(x<<22&4294967295|x>>>10),x=w+(L^C&(O^L))+M[4]+4118548399&4294967295,w=C+(x<<7&4294967295|x>>>25),x=L+(O^w&(C^O))+M[5]+1200080426&4294967295,L=w+(x<<12&4294967295|x>>>20),x=O+(C^L&(w^C))+M[6]+2821735955&4294967295,O=L+(x<<17&4294967295|x>>>15),x=C+(w^O&(L^w))+M[7]+4249261313&4294967295,C=O+(x<<22&4294967295|x>>>10),x=w+(L^C&(O^L))+M[8]+1770035416&4294967295,w=C+(x<<7&4294967295|x>>>25),x=L+(O^w&(C^O))+M[9]+2336552879&4294967295,L=w+(x<<12&4294967295|x>>>20),x=O+(C^L&(w^C))+M[10]+4294925233&4294967295,O=L+(x<<17&4294967295|x>>>15),x=C+(w^O&(L^w))+M[11]+2304563134&4294967295,C=O+(x<<22&4294967295|x>>>10),x=w+(L^C&(O^L))+M[12]+1804603682&4294967295,w=C+(x<<7&4294967295|x>>>25),x=L+(O^w&(C^O))+M[13]+4254626195&4294967295,L=w+(x<<12&4294967295|x>>>20),x=O+(C^L&(w^C))+M[14]+2792965006&4294967295,O=L+(x<<17&4294967295|x>>>15),x=C+(w^O&(L^w))+M[15]+1236535329&4294967295,C=O+(x<<22&4294967295|x>>>10),x=w+(O^L&(C^O))+M[1]+4129170786&4294967295,w=C+(x<<5&4294967295|x>>>27),x=L+(C^O&(w^C))+M[6]+3225465664&4294967295,L=w+(x<<9&4294967295|x>>>23),x=O+(w^C&(L^w))+M[11]+643717713&4294967295,O=L+(x<<14&4294967295|x>>>18),x=C+(L^w&(O^L))+M[0]+3921069994&4294967295,C=O+(x<<20&4294967295|x>>>12),x=w+(O^L&(C^O))+M[5]+3593408605&4294967295,w=C+(x<<5&4294967295|x>>>27),x=L+(C^O&(w^C))+M[10]+38016083&4294967295,L=w+(x<<9&4294967295|x>>>23),x=O+(w^C&(L^w))+M[15]+3634488961&4294967295,O=L+(x<<14&4294967295|x>>>18),x=C+(L^w&(O^L))+M[4]+3889429448&4294967295,C=O+(x<<20&4294967295|x>>>12),x=w+(O^L&(C^O))+M[9]+568446438&4294967295,w=C+(x<<5&4294967295|x>>>27),x=L+(C^O&(w^C))+M[14]+3275163606&4294967295,L=w+(x<<9&4294967295|x>>>23),x=O+(w^C&(L^w))+M[3]+4107603335&4294967295,O=L+(x<<14&4294967295|x>>>18),x=C+(L^w&(O^L))+M[8]+1163531501&4294967295,C=O+(x<<20&4294967295|x>>>12),x=w+(O^L&(C^O))+M[13]+2850285829&4294967295,w=C+(x<<5&4294967295|x>>>27),x=L+(C^O&(w^C))+M[2]+4243563512&4294967295,L=w+(x<<9&4294967295|x>>>23),x=O+(w^C&(L^w))+M[7]+1735328473&4294967295,O=L+(x<<14&4294967295|x>>>18),x=C+(L^w&(O^L))+M[12]+2368359562&4294967295,C=O+(x<<20&4294967295|x>>>12),x=w+(C^O^L)+M[5]+4294588738&4294967295,w=C+(x<<4&4294967295|x>>>28),x=L+(w^C^O)+M[8]+2272392833&4294967295,L=w+(x<<11&4294967295|x>>>21),x=O+(L^w^C)+M[11]+1839030562&4294967295,O=L+(x<<16&4294967295|x>>>16),x=C+(O^L^w)+M[14]+4259657740&4294967295,C=O+(x<<23&4294967295|x>>>9),x=w+(C^O^L)+M[1]+2763975236&4294967295,w=C+(x<<4&4294967295|x>>>28),x=L+(w^C^O)+M[4]+1272893353&4294967295,L=w+(x<<11&4294967295|x>>>21),x=O+(L^w^C)+M[7]+4139469664&4294967295,O=L+(x<<16&4294967295|x>>>16),x=C+(O^L^w)+M[10]+3200236656&4294967295,C=O+(x<<23&4294967295|x>>>9),x=w+(C^O^L)+M[13]+681279174&4294967295,w=C+(x<<4&4294967295|x>>>28),x=L+(w^C^O)+M[0]+3936430074&4294967295,L=w+(x<<11&4294967295|x>>>21),x=O+(L^w^C)+M[3]+3572445317&4294967295,O=L+(x<<16&4294967295|x>>>16),x=C+(O^L^w)+M[6]+76029189&4294967295,C=O+(x<<23&4294967295|x>>>9),x=w+(C^O^L)+M[9]+3654602809&4294967295,w=C+(x<<4&4294967295|x>>>28),x=L+(w^C^O)+M[12]+3873151461&4294967295,L=w+(x<<11&4294967295|x>>>21),x=O+(L^w^C)+M[15]+530742520&4294967295,O=L+(x<<16&4294967295|x>>>16),x=C+(O^L^w)+M[2]+3299628645&4294967295,C=O+(x<<23&4294967295|x>>>9),x=w+(O^(C|~L))+M[0]+4096336452&4294967295,w=C+(x<<6&4294967295|x>>>26),x=L+(C^(w|~O))+M[7]+1126891415&4294967295,L=w+(x<<10&4294967295|x>>>22),x=O+(w^(L|~C))+M[14]+2878612391&4294967295,O=L+(x<<15&4294967295|x>>>17),x=C+(L^(O|~w))+M[5]+4237533241&4294967295,C=O+(x<<21&4294967295|x>>>11),x=w+(O^(C|~L))+M[12]+1700485571&4294967295,w=C+(x<<6&4294967295|x>>>26),x=L+(C^(w|~O))+M[3]+2399980690&4294967295,L=w+(x<<10&4294967295|x>>>22),x=O+(w^(L|~C))+M[10]+4293915773&4294967295,O=L+(x<<15&4294967295|x>>>17),x=C+(L^(O|~w))+M[1]+2240044497&4294967295,C=O+(x<<21&4294967295|x>>>11),x=w+(O^(C|~L))+M[8]+1873313359&4294967295,w=C+(x<<6&4294967295|x>>>26),x=L+(C^(w|~O))+M[15]+4264355552&4294967295,L=w+(x<<10&4294967295|x>>>22),x=O+(w^(L|~C))+M[6]+2734768916&4294967295,O=L+(x<<15&4294967295|x>>>17),x=C+(L^(O|~w))+M[13]+1309151649&4294967295,C=O+(x<<21&4294967295|x>>>11),x=w+(O^(C|~L))+M[4]+4149444226&4294967295,w=C+(x<<6&4294967295|x>>>26),x=L+(C^(w|~O))+M[11]+3174756917&4294967295,L=w+(x<<10&4294967295|x>>>22),x=O+(w^(L|~C))+M[2]+718787259&4294967295,O=L+(x<<15&4294967295|x>>>17),x=C+(L^(O|~w))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+L&4294967295}s.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,M=this.C;let O=this.h,L=0;for(;L<w;){if(O==0)for(;L<=C;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<w;)if(M[O++]=N.charCodeAt(L++),O==this.blockSize){o(this,M),O=0;break}}else for(;L<w;)if(M[O++]=N[L++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=w},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)N[w++]=this.g[C]>>>M&255;return N};function u(N,w){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function f(N,w){this.h=w;const C=[];let M=!0;for(let O=N.length-1;O>=0;O--){const L=N[O]|0;M&&L==w||(C[O]=L,M=!1)}this.g=C}var m={};function g(N){return-128<=N&&N<128?u(N,function(w){return new f([w|0],w<0?-1:0)}):new f([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return U(y(-N));const w=[];let C=1;for(let M=0;N>=C;M++)w[M]=N/C|0,C*=4294967296;return new f(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return U(E(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let M=S;for(let L=0;L<N.length;L+=8){var O=Math.min(8,N.length-L);const x=parseInt(N.substring(L,L+O),w);O<8?(O=y(Math.pow(w,O)),M=M.j(O).add(y(x))):(M=M.j(C),M=M.add(y(x)))}return M}var S=g(0),A=g(1),k=g(16777216);r=f.prototype,r.m=function(){if(W(this))return-U(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);N+=(M>=0?M:4294967296+M)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(K(this))return"0";if(W(this))return"-"+U(this).toString(N);const w=y(Math.pow(N,6));var C=this;let M="";for(;;){const O=ue(C,w).g;C=q(C,O.j(w));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=O,K(C))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function K(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function W(N){return N.h==-1}r.l=function(N){return N=q(this,N),W(N)?-1:K(N)?0:1};function U(N){const w=N.g.length,C=[];for(let M=0;M<w;M++)C[M]=~N.g[M];return new f(C,~N.h).add(A)}r.abs=function(){return W(this)?U(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let M=0;for(let O=0;O<=w;O++){let L=M+(this.i(O)&65535)+(N.i(O)&65535),x=(L>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);M=x>>>16,L&=65535,x&=65535,C[O]=x<<16|L}return new f(C,C[C.length-1]&-2147483648?-1:0)};function q(N,w){return N.add(U(w))}r.j=function(N){if(K(this)||K(N))return S;if(W(this))return W(N)?U(this).j(U(N)):U(U(this).j(N));if(W(N))return U(this.j(U(N)));if(this.l(k)<0&&N.l(k)<0)return y(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var M=0;M<2*w;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<N.g.length;O++){const L=this.i(M)>>>16,x=this.i(M)&65535,ye=N.i(O)>>>16,xe=N.i(O)&65535;C[2*M+2*O]+=x*xe,$(C,2*M+2*O),C[2*M+2*O+1]+=L*xe,$(C,2*M+2*O+1),C[2*M+2*O+1]+=x*ye,$(C,2*M+2*O+1),C[2*M+2*O+2]+=L*ye,$(C,2*M+2*O+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new f(C,0)};function $(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function X(N,w){this.g=N,this.h=w}function ue(N,w){if(K(w))throw Error("division by zero");if(K(N))return new X(S,S);if(W(N))return w=ue(U(N),w),new X(U(w.g),U(w.h));if(W(w))return w=ue(N,U(w)),new X(U(w.g),w.h);if(N.g.length>30){if(W(N)||W(w))throw Error("slowDivide_ only works with positive integers.");for(var C=A,M=w;M.l(N)<=0;)C=ae(C),M=ae(M);var O=ge(C,1),L=ge(M,1);for(M=ge(M,2),C=ge(C,2);!K(M);){var x=L.add(M);x.l(N)<=0&&(O=O.add(C),L=x),M=ge(M,1),C=ge(C,1)}return w=q(N,O.j(w)),new X(O,w)}for(O=S;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(C),x=L.j(w);W(x)||x.l(N)>0;)C-=M,L=y(C),x=L.j(w);K(L)&&(L=A),O=O.add(L),N=q(N,x)}return new X(O,N)}r.B=function(N){return ue(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)&N.i(M);return new f(C,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)|N.i(M);return new f(C,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)^N.i(M);return new f(C,this.h^N.h)};function ae(N){const w=N.g.length+1,C=[];for(let M=0;M<w;M++)C[M]=N.i(M)<<1|N.i(M-1)>>>31;return new f(C,N.h)}function ge(N,w){const C=w>>5;w%=32;const M=N.g.length-C,O=[];for(let L=0;L<M;L++)O[L]=w>0?N.i(L+C)>>>w|N.i(L+C+1)<<32-w:N.i(L+C);return new f(O,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ZE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Xr=f}).apply(typeof Kv<"u"?Kv:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JE,kl,eT,Kc,xm,tT,nT,iT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in _))break e;_=_[z]}c=c[c.length-1],b=_[c],p=p(b),p!=b&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var _=[],b;for(b in p)Object.prototype.hasOwnProperty.call(p,b)&&_.push([b,p[b]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,_){return c.call.apply(c.bind,arguments)}function y(c,p,_){return y=g,y.apply(null,arguments)}function E(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function S(c,p){function _(){}_.prototype=p.prototype,c.Z=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(b,z,Y){for(var re=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)re[Ce-2]=arguments[Ce];return p.prototype[z].apply(b,re)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const p=c.length;if(p>0){const _=Array(p);for(let b=0;b<p;b++)_[b]=c[b];return _}return[]}function K(c,p){for(let b=1;b<arguments.length;b++){const z=arguments[b];var _=typeof z;if(_=_!="object"?_:z?Array.isArray(z)?"array":_:"null",_=="array"||_=="object"&&typeof z.length=="number"){_=c.length||0;const Y=z.length||0;c.length=_+Y;for(let re=0;re<Y;re++)c[_+re]=z[re]}else c.push(z)}}class W{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function U(c){f.setTimeout(()=>{throw c},0)}function q(){var c=N;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ${constructor(){this.h=this.g=null}add(p,_){const b=X.get();b.set(p,_),this.h?this.h.next=b:this.g=b,this.h=b}}var X=new W(()=>new ue,c=>c.reset());class ue{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ge=!1,N=new $,w=()=>{const c=Promise.resolve(void 0);ae=()=>{c.then(C)}};function C(){for(var c;c=q();){try{c.h.call(c.g)}catch(_){U(_)}var p=X;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}ge=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,p),f.removeEventListener("test",_,p)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function ye(c,p){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}S(ye,O),ye.prototype.init=function(c,p){const _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(_=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),Q=0;function se(c,p,_,b,z){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!b,this.ha=z,this.key=++Q,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Re(c,p,_){for(const b in c)p.call(_,c[b],b,c)}function D(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function ee(c){const p={};for(const _ in c)p[_]=c[_];return p}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,p){let _,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(_ in b)c[_]=b[_];for(let Y=0;Y<oe.length;Y++)_=oe[Y],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function pe(c){this.src=c,this.g={},this.h=0}pe.prototype.add=function(c,p,_,b,z){const Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);const re=Se(c,p,b,z);return re>-1?(p=c[re],_||(p.fa=!1)):(p=new se(p,this.src,Y,!!b,z),p.fa=_,c.push(p)),p};function ke(c,p){const _=p.type;if(_ in c.g){var b=c.g[_],z=Array.prototype.indexOf.call(b,p,void 0),Y;(Y=z>=0)&&Array.prototype.splice.call(b,z,1),Y&&(de(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Se(c,p,_,b){for(let z=0;z<c.length;++z){const Y=c[z];if(!Y.da&&Y.listener==p&&Y.capture==!!_&&Y.ha==b)return z}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Ke={};function Ln(c,p,_,b,z){if(Array.isArray(p)){for(let Y=0;Y<p.length;Y++)Ln(c,p[Y],_,b,z);return null}return _=du(_),c&&c[xe]?c.J(p,_,m(b)?!!b.capture:!1,z):Ao(c,p,_,!1,b,z)}function Ao(c,p,_,b,z,Y){if(!p)throw Error("Invalid event type");const re=m(z)?!!z.capture:!!z;let Ce=wo(c);if(Ce||(c[kt]=Ce=new pe(c)),_=Ce.add(p,_,b,re,Y),_.proxy)return _;if(b=ia(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)L||(z=re),z===void 0&&(z=!1),c.addEventListener(p.toString(),b,z);else if(c.attachEvent)c.attachEvent(sa(p.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ia(){function c(_){return p.call(c.src,c.listener,_)}const p=Xh;return c}function ra(c,p,_,b,z){if(Array.isArray(p))for(var Y=0;Y<p.length;Y++)ra(c,p[Y],_,b,z);else b=m(b)?!!b.capture:!!b,_=du(_),c&&c[xe]?(c=c.i,Y=String(p).toString(),Y in c.g&&(p=c.g[Y],_=Se(p,_,b,z),_>-1&&(de(p[_]),Array.prototype.splice.call(p,_,1),p.length==0&&(delete c.g[Y],c.h--)))):c&&(c=wo(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Se(p,_,b,z)),(_=c>-1?p[c]:null)&&ls(_))}function ls(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[xe])ke(p.i,c);else{var _=c.type,b=c.proxy;p.removeEventListener?p.removeEventListener(_,b,c.capture):p.detachEvent?p.detachEvent(sa(_),b):p.addListener&&p.removeListener&&p.removeListener(b),(_=wo(p))?(ke(_,c),_.h==0&&(_.src=null,p[kt]=null)):de(c)}}}function sa(c){return c in Ke?Ke[c]:Ke[c]="on"+c}function Xh(c,p){if(c.da)c=!0;else{p=new ye(p,this);const _=c.listener,b=c.ha||c.src;c.fa&&ls(c),c=_.call(b,p)}return c}function wo(c){return c=c[kt],c instanceof pe?c:null}var sn="__closure_events_fn_"+(Math.random()*1e9>>>0);function du(c){return typeof c=="function"?c:(c[sn]||(c[sn]=function(p){return c.handleEvent(p)}),c[sn])}function bt(){M.call(this),this.i=new pe(this),this.M=this,this.G=null}S(bt,M),bt.prototype[xe]=!0,bt.prototype.removeEventListener=function(c,p,_,b){ra(this,c,p,_,b)};function xt(c,p){var _,b=c.G;if(b)for(_=[];b;b=b.G)_.push(b);if(c=c.M,b=p.type||p,typeof p=="string")p=new O(p,c);else if(p instanceof O)p.target=p.target||c;else{var z=p;p=new O(b,c),le(p,z)}z=!0;let Y,re;if(_)for(re=_.length-1;re>=0;re--)Y=p.g=_[re],z=wi(Y,b,!0,p)&&z;if(Y=p.g=c,z=wi(Y,b,!0,p)&&z,z=wi(Y,b,!1,p)&&z,_)for(re=0;re<_.length;re++)Y=p.g=_[re],z=wi(Y,b,!1,p)&&z}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const _=c.g[p];for(let b=0;b<_.length;b++)de(_[b]);delete c.g[p],c.h--}}this.G=null},bt.prototype.J=function(c,p,_,b){return this.i.add(String(c),p,!1,_,b)},bt.prototype.K=function(c,p,_,b){return this.i.add(String(c),p,!0,_,b)};function wi(c,p,_,b){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let z=!0;for(let Y=0;Y<p.length;++Y){const re=p[Y];if(re&&!re.da&&re.capture==_){const Ce=re.listener,nt=re.ha||re.src;re.fa&&ke(c.i,re),z=Ce.call(nt,b)!==!1&&z}}return z&&!b.defaultPrevented}function $h(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function Ro(c){c.g=$h(()=>{c.g=null,c.i&&(c.i=!1,Ro(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Wh extends M{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ro(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(c){M.call(this),this.h=c,this.g={}}S(us,M);var nr=[];function Gt(c){Re(c.g,function(p,_){this.g.hasOwnProperty(_)&&ls(p)},c),c.g={}}us.prototype.N=function(){us.Z.N.call(this),Gt(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=f.JSON.stringify,Jt=f.JSON.parse,Zh=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function mu(){}function pu(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ir(){O.call(this,"d")}S(ir,O);function Un(){O.call(this,"c")}S(Un,O);var Sn={},rr=null;function aa(){return rr=rr||new bt}Sn.Ia="serverreachability";function Co(c){O.call(this,Sn.Ia,c)}S(Co,O);function sr(c){const p=aa();xt(p,new Co(p))}Sn.STAT_EVENT="statevent";function oa(c,p){O.call(this,Sn.STAT_EVENT,c),this.stat=p}S(oa,O);function ht(c){const p=aa();xt(p,new oa(p,c))}Sn.Ja="timingevent";function gu(c,p){O.call(this,Sn.Ja,c),this.size=p}S(gu,O);function ar(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function or(){this.g=!0}or.prototype.ua=function(){this.g=!1};function Io(c,p,_,b,z,Y){c.info(function(){if(c.g)if(Y){var re="",Ce=Y.split("&");for(let Ge=0;Ge<Ce.length;Ge++){var nt=Ce[Ge].split("=");if(nt.length>1){const mt=nt[0];nt=nt[1];const hn=mt.split("_");re=hn.length>=2&&hn[1]=="type"?re+(mt+"="+nt+"&"):re+(mt+"=redacted&")}}}else re=null;else re=Y;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+p+`
`+_+`
`+re})}function xo(c,p,_,b,z,Y,re){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+p+`
`+_+`
`+Y+" "+re})}function Ri(c,p,_,b){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+ei(c,_)+(b?" "+b:"")})}function Jh(c,p){c.info(function(){return"TIMEOUT: "+p})}or.prototype.info=function(){};function ei(c,p){if(!c.g)return p;if(!p)return null;try{const Y=JSON.parse(p);if(Y){for(c=0;c<Y.length;c++)if(Array.isArray(Y[c])){var _=Y[c];if(!(_.length<2)){var b=_[1];if(Array.isArray(b)&&!(b.length<1)){var z=b[0];if(z!="noop"&&z!="stop"&&z!="close")for(let re=1;re<b.length;re++)b[re]=""}}}}return Tn(Y)}catch{return p}}var ft={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ci;function cs(){}S(cs,mu),cs.prototype.g=function(){return new XMLHttpRequest},Ci=new cs;function hs(c){return encodeURIComponent(String(c))}function ef(c){var p=1;c=c.split(":");const _=[];for(;p>0&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function jn(c,p,_,b){this.j=c,this.i=p,this.l=_,this.S=b||1,this.V=new us(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new lr}function lr(){this.i=null,this.g="",this.h=!1}var la={},ti={};function ni(c,p,_){c.M=1,c.A=xi(at(p)),c.u=_,c.R=!0,ur(c,null)}function ur(c,p){c.F=Date.now(),fs(c),c.B=at(c.A);var _=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),Eu(_.i,"t",b),c.C=0,_=c.j.L,c.h=new lr,c.g=_a(c.j,_?p:null,!c.u),c.P>0&&(c.O=new Wh(y(c.Y,c,c.g),c.P)),p=c.V,_=c.g,b=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(nr[0]=z.toString()),z=nr);for(let Y=0;Y<z.length;Y++){const re=Ln(_,z[Y],b||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=c.J?ee(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),sr(),Io(c.i,c.v,c.B,c.l,c.S,c.u)}jn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Qt(c)==3?p.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=Qt(this.g),nt=this.g.ya(),Ge=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||bs(this.g)))){this.K||Ce!=4||nt==7||(nt==8||Ge<=0?sr(3):sr(2)),ri(this);var p=this.g.ca();this.X=p;var _=cr(this);if(this.o=p==200,xo(this.i,this.v,this.B,this.l,this.S,Ce,p),this.o){if(this.U&&!this.L){t:{if(this.g){var b,z=this.g;if((b=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var Y=b;break t}}Y=null}if(c=Y)Ri(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ua(this,c);else{this.o=!1,this.m=3,ht(12),si(this),ds(this);break e}}if(this.R){c=!0;let mt;for(;!this.K&&this.C<_.length;)if(mt=yu(this,_),mt==ti){Ce==4&&(this.m=4,ht(14),c=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==la){this.m=4,ht(15),Ri(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else Ri(this.i,this.l,mt,null),ua(this,mt);if(dt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||_.length!=0||this.h.h||(this.m=1,ht(16),c=!1),this.o=this.o&&c,!c)Ri(this.i,this.l,_,"[Invalid Chunked Response]"),si(this),ds(this);else if(_.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),jo(re),re.P=!0,ht(11))}}else Ri(this.i,this.l,_,null),ua(this,_);Ce==4&&si(this),this.o&&!this.K&&(Ce==4?zo(this.j,this):(this.o=!1,fs(this)))}else As(this.g),p==400&&_.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),si(this),ds(this)}}}catch{}finally{}};function cr(c){if(!dt(c))return c.g.la();const p=bs(c.g);if(p==="")return"";let _="";const b=p.length,z=Qt(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return si(c),ds(c),"";c.h.i=new f.TextDecoder}for(let Y=0;Y<b;Y++)c.h.h=!0,_+=c.h.i.decode(p[Y],{stream:!(z&&Y==b-1)});return p.length=0,c.h.g+=_,c.C=0,c.h.g}function dt(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function yu(c,p){var _=c.C,b=p.indexOf(`
`,_);return b==-1?ti:(_=Number(p.substring(_,b)),isNaN(_)?la:(b+=1,b+_>p.length?ti:(p=p.slice(b,b+_),c.C=b+_,p)))}jn.prototype.cancel=function(){this.K=!0,si(this)};function fs(c){c.T=Date.now()+c.H,ii(c,c.H)}function ii(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ar(y(c.aa,c),p)}function ri(c){c.D&&(f.clearTimeout(c.D),c.D=null)}jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Jh(this.i,this.B),this.M!=2&&(sr(),ht(17)),si(this),this.m=2,ds(this)):ii(this,this.T-c)};function ds(c){c.j.I==0||c.K||zo(c.j,c)}function si(c){ri(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Gt(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function ua(c,p){try{var _=c.j;if(_.I!=0&&(_.g==c||gs(_.h,c))){if(!c.L&&gs(_.h,c)&&_.I==3){try{var b=_.Ba.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)ya(_),ai(_);else break e;Uo(_),ht(18)}}else _.xa=z[1],0<_.xa-_.K&&z[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ar(y(_.Va,_),6e3));bn(_.h)<=1&&_.ta&&(_.ta=void 0)}else Oi(_,11)}else if((c.L||_.g==c)&&ya(_),!x(p))for(z=_.Ba.g.parse(p),p=0;p<z.length;p++){let Ge=z[p];const mt=Ge[0];if(!(mt<=_.K))if(_.K=mt,Ge=Ge[1],_.I==2)if(Ge[0]=="c"){_.M=Ge[1],_.ba=Ge[2];const hn=Ge[3];hn!=null&&(_.ka=hn,_.j.info("VER="+_.ka));const oi=Ge[4];oi!=null&&(_.za=oi,_.j.info("SVER="+_.za));const Hn=Ge[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(b=1.5*Hn,_.O=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const qn=c.g;if(qn){const Fn=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fn){var Y=b.h;Y.g||Fn.indexOf("spdy")==-1&&Fn.indexOf("quic")==-1&&Fn.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ca(Y,Y.h),Y.h=null))}if(b.G){const Ho=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(b.wa=Ho,Xe(b.J,b.G,Ho))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),b=_;var re=c;if(b.na=xu(b,b.L?b.ba:null,b.W),re.L){Ii(b.h,re);var Ce=re,nt=b.O;nt&&(Ce.H=nt),Ce.D&&(ri(Ce),fs(Ce)),b.g=re}else wu(b);_.i.length>0&&Is(_)}else Ge[0]!="stop"&&Ge[0]!="close"||Oi(_,7);else _.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Oi(_,7):Rs(_):Ge[0]!="noop"&&_.l&&_.l.qa(Ge),_.A=0)}}sr(4)}catch{}}var tf=class{constructor(c,p){this.g=c,this.map=p}};function ms(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ps(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function bn(c){return c.h?1:c.g?c.g.size:0}function gs(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function ca(c,p){c.g?c.g.add(p):c.h=p}function Ii(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}ms.prototype.cancel=function(){if(this.i=ha(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ha(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.G);return p}return k(c.i)}var fa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nf(c,p){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const b=c[_].indexOf("=");let z,Y=null;b>=0?(z=c[_].substring(0,b),Y=c[_].substring(b+1)):z=c[_],p(z,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function zn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof zn?(this.l=c.l,hr(this,c.j),this.o=c.o,this.g=c.g,ys(this,c.u),this.h=c.h,fr(this,Tu(c.i)),this.m=c.m):c&&(p=String(c).match(fa))?(this.l=!1,hr(this,p[1]||"",!0),this.o=_s(p[2]||""),this.g=_s(p[3]||"",!0),ys(this,p[4]),this.h=_s(p[5]||"",!0),fr(this,p[6]||"",!0),this.m=_s(p[7]||"")):(this.l=!1,this.i=new An(null,this.l))}zn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Nt(p,Do,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Nt(p,Do,!0),"@"),c.push(hs(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Nt(_,_.charAt(0)=="/"?dr:Oo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Nt(_,vu)),c.join("")},zn.prototype.resolve=function(c){const p=at(this);let _=!!c.j;_?hr(p,c.j):_=!!c.o,_?p.o=c.o:_=!!c.g,_?p.g=c.g:_=c.u!=null;var b=c.h;if(_)ys(p,c.u);else if(_=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var z=p.h.lastIndexOf("/");z!=-1&&(b=p.h.slice(0,z+1)+b)}if(z=b,z==".."||z==".")b="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){b=z.lastIndexOf("/",0)==0,z=z.split("/");const Y=[];for(let re=0;re<z.length;){const Ce=z[re++];Ce=="."?b&&re==z.length&&Y.push(""):Ce==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),b&&re==z.length&&Y.push("")):(Y.push(Ce),b=!0)}b=Y.join("/")}else b=z}return _?p.h=b:_=c.i.toString()!=="",_?fr(p,Tu(c.i)):_=!!c.m,_&&(p.m=c.m),p};function at(c){return new zn(c)}function hr(c,p,_){c.j=_?_s(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function ys(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function fr(c,p,_){p instanceof An?(c.i=p,ko(c.i,c.l)):(_||(p=Nt(p,_u)),c.i=new An(p,c.l))}function Xe(c,p,_){c.i.set(p,_)}function xi(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _s(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Nt(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,No),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function No(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Do=/[#\/\?@]/g,Oo=/[#\?:]/g,dr=/[#\?]/g,_u=/[#\?@]/g,vu=/#/g;function An(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Ni(c){c.g||(c.g=new Map,c.h=0,c.i&&nf(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=An.prototype,r.add=function(c,p){Ni(this),this.i=null,c=Bn(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Mo(c,p){Ni(c),p=Bn(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Vo(c,p){return Ni(c),p=Bn(c,p),c.g.has(p)}r.forEach=function(c,p){Ni(this),this.g.forEach(function(_,b){_.forEach(function(z){c.call(p,z,b,this)},this)},this)};function da(c,p){Ni(c);let _=[];if(typeof p=="string")Vo(c,p)&&(_=_.concat(c.g.get(Bn(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)_=_.concat(c[p]);return _}r.set=function(c,p){return Ni(this),this.i=null,c=Bn(this,c),Vo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=da(this,c),c.length>0?String(c[0]):p):p};function Eu(c,p,_){Mo(c,p),_.length>0&&(c.i=null,c.g.set(Bn(c,p),k(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let b=0;b<p.length;b++){var _=p[b];const z=hs(_);_=da(this,_);for(let Y=0;Y<_.length;Y++){let re=z;_[Y]!==""&&(re+="="+hs(_[Y])),c.push(re)}}return this.i=c.join("&")};function Tu(c){const p=new An;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Bn(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ko(c,p){p&&!c.j&&(Ni(c),c.i=null,c.g.forEach(function(_,b){const z=b.toLowerCase();b!=z&&(Mo(this,b),Eu(this,z,_))},c)),c.j=p}function Po(c,p){const _=new or;if(f.Image){const b=new Image;b.onload=E(en,_,"TestLoadImage: loaded",!0,p,b),b.onerror=E(en,_,"TestLoadImage: error",!1,p,b),b.onabort=E(en,_,"TestLoadImage: abort",!1,p,b),b.ontimeout=E(en,_,"TestLoadImage: timeout",!1,p,b),f.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else p(!1)}function mr(c,p){const _=new or,b=new AbortController,z=setTimeout(()=>{b.abort(),en(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:b.signal}).then(Y=>{clearTimeout(z),Y.ok?en(_,"TestPingServer: ok",!0,p):en(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),en(_,"TestPingServer: error",!1,p)})}function en(c,p,_,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(_)}catch{}}function Su(){this.g=new Zh}function vs(c){this.i=c.Sb||null,this.h=c.ab||!1}S(vs,mu),vs.prototype.g=function(){return new Es(this.i,this.h)};function Es(c,p){bt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Es,bt),r=Es.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Di(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,tn(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function pr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?tn(this):Di(this),this.readyState==3&&pr(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,tn(this))},r.Na=function(c){this.g&&(this.response=c,tn(this))},r.ga=function(){this.g&&tn(this)};function tn(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Di(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function Di(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gr(c){let p="";return Re(c,function(_,b){p+=b,p+=":",p+=_,p+=`\r
`}),p}function wn(c,p,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=gr(_),typeof c=="string"?_!=null&&hs(_):Xe(c,p,_))}function et(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(et,bt);var ma=/^https?$/i,bu=["POST","PUT"];r=et.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ci.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Y){Ts(this,Y);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)_.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())_.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(bu,p,void 0)>=0)||b||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,re]of _)this.g.setRequestHeader(Y,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Y){Ts(this,Y)}};function Ts(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Ss(c),At(c)}function Ss(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,xt(this,"complete"),xt(this,"abort"),At(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),At(this,!0)),et.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Lo(this):this.Xa())},r.Xa=function(){Lo(this)};function Lo(c){if(c.h&&typeof u<"u"){if(c.v&&Qt(c)==4)setTimeout(c.Ca.bind(c),0);else if(xt(c,"readystatechange"),Qt(c)==4){c.h=!1;try{const Y=c.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var b;if(b=Y===0){let re=String(c.D).match(fa)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),b=!ma.test(re?re.toLowerCase():"")}_=b}if(_)xt(c,"complete"),xt(c,"success");else{c.o=6;try{var z=Qt(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Ss(c)}}finally{At(c)}}}}function At(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,p||xt(c,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qt(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Qt(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Jt(p)}};function bs(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function As(c){const p={};c=(c.g&&Qt(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(x(c[b]))continue;var _=ef(c[b]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=p[z]||[];p[z]=Y,Y.push(_)}D(p,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function pa(c){this.za=0,this.i=[],this.j=new or,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ws("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ws("baseRetryDelayMs",5e3,c),this.Za=ws("retryDelaySeedMs",1e4,c),this.Ta=ws("forwardChannelMaxRetries",2,c),this.va=ws("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ms(c&&c.concurrentRequestLimit),this.Ba=new Su,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=pa.prototype,r.ka=8,r.I=1,r.connect=function(c,p,_,b){ht(0),this.W=c,this.H=p||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.J=xu(this,null,this.W),Is(this)};function Rs(c){if(Cs(c),c.I==3){var p=c.V++,_=at(c.J);if(Xe(_,"SID",c.M),Xe(_,"RID",p),Xe(_,"TYPE","terminate"),xs(c,_),p=new jn(c,c.j,p),p.M=2,p.A=xi(at(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=p.A,_=!0),_||(p.g=_a(p.j,null),p.g.ea(p.A)),p.F=Date.now(),fs(p)}Iu(c)}function ai(c){c.g&&(jo(c),c.g.cancel(),c.g=null)}function Cs(c){ai(c),c.v&&(f.clearTimeout(c.v),c.v=null),ya(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Is(c){if(!ps(c.h)&&!c.m){c.m=!0;var p=c.Ea;ae||w(),ge||(ae(),ge=!0),N.add(p,c),c.D=0}}function rf(c,p){return bn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ar(y(c.Ea,c,p),Cu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new jn(this,this.j,c);let Y=this.o;if(this.U&&(Y?(Y=ee(Y),le(Y,this.U)):Y=this.U),this.u!==null||this.R||(z.J=Y,Y=null),this.S)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,p>4096){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=ga(this,z,p),_=at(this.J),Xe(_,"RID",c),Xe(_,"CVER",22),this.G&&Xe(_,"X-HTTP-Session-Id",this.G),xs(this,_),Y&&(this.R?p="headers="+hs(gr(Y))+"&"+p:this.u&&wn(_,this.u,Y)),ca(this.h,z),this.Ra&&Xe(_,"TYPE","init"),this.S?(Xe(_,"$req",p),Xe(_,"SID","null"),z.U=!0,ni(z,_,null)):ni(z,_,p),this.I=2}}else this.I==3&&(c?Au(this,c):this.i.length==0||ps(this.h)||Au(this))};function Au(c,p){var _;p?_=p.l:_=c.V++;const b=at(c.J);Xe(b,"SID",c.M),Xe(b,"RID",_),Xe(b,"AID",c.K),xs(c,b),c.u&&c.o&&wn(b,c.u,c.o),_=new jn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),p&&(c.i=p.G.concat(c.i)),p=ga(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ca(c.h,_),ni(_,b,p)}function xs(c,p){c.H&&Re(c.H,function(_,b){Xe(p,b,_)}),c.l&&Re({},function(_,b){Xe(p,b,_)})}function ga(c,p,_){_=Math.min(c.i.length,_);const b=c.l?y(c.l.Ka,c.l,c):null;e:{var z=c.i;let Ce=-1;for(;;){const nt=["count="+_];Ce==-1?_>0?(Ce=z[0].g,nt.push("ofs="+Ce)):Ce=0:nt.push("ofs="+Ce);let Ge=!0;for(let mt=0;mt<_;mt++){var Y=z[mt].g;const hn=z[mt].map;if(Y-=Ce,Y<0)Ce=Math.max(0,z[mt].g-100),Ge=!1;else try{Y="req"+Y+"_"||"";try{var re=hn instanceof Map?hn:Object.entries(hn);for(const[oi,Hn]of re){let qn=Hn;m(Hn)&&(qn=Tn(Hn)),nt.push(Y+oi+"="+encodeURIComponent(qn))}}catch(oi){throw nt.push(Y+"type="+encodeURIComponent("_badmap")),oi}}catch{b&&b(hn)}}if(Ge){re=nt.join("&");break e}}re=void 0}return c=c.i.splice(0,_),p.G=c,re}function wu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;ae||w(),ge||(ae(),ge=!0),N.add(p,c),c.A=0}}function Uo(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ar(y(c.Da,c),Cu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ar(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),ai(this),Ru(this))};function jo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Ru(c){c.g=new jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=at(c.na);Xe(p,"RID","rpc"),Xe(p,"SID",c.M),Xe(p,"AID",c.K),Xe(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(p,"TO",c.ia),Xe(p,"TYPE","xmlhttp"),xs(c,p),c.u&&c.o&&wn(p,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=xi(at(p)),_.u=null,_.R=!0,ur(_,c)}r.Va=function(){this.C!=null&&(this.C=null,ai(this),Uo(this),ht(19))};function ya(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function zo(c,p){var _=null;if(c.g==p){ya(c),jo(c),c.g=null;var b=2}else if(gs(c.h,p))_=p.G,Ii(c.h,p),b=1;else return;if(c.I!=0){if(p.o)if(b==1){_=p.u?p.u.length:0,p=Date.now()-p.F;var z=c.D;b=aa(),xt(b,new gu(b,_)),Is(c)}else wu(c);else if(z=p.m,z==3||z==0&&p.X>0||!(b==1&&rf(c,p)||b==2&&Uo(c)))switch(_&&_.length>0&&(p=c.h,p.i=p.i.concat(_)),z){case 1:Oi(c,5);break;case 4:Oi(c,10);break;case 3:Oi(c,6);break;default:Oi(c,2)}}}function Cu(c,p){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*p}function Oi(c,p){if(c.j.info("Error code "+p),p==2){var _=y(c.bb,c),b=c.Ua;const z=!b;b=new zn(b||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||hr(b,"https"),xi(b),z?Po(b.toString(),_):mr(b.toString(),_)}else ht(2);c.I=0,c.l&&c.l.pa(p),Iu(c),Cs(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Iu(c){if(c.I=0,c.ja=[],c.l){const p=ha(c.h);(p.length!=0||c.i.length!=0)&&(K(c.ja,p),K(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function xu(c,p,_){var b=_ instanceof zn?at(_):new zn(_);if(b.g!="")p&&(b.g=p+"."+b.g),ys(b,b.u);else{var z=f.location;b=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;const Y=new zn(null);b&&hr(Y,b),p&&(Y.g=p),z&&ys(Y,z),_&&(Y.h=_),b=Y}return _=c.G,p=c.wa,_&&p&&Xe(b,_,p),Xe(b,"VER",c.ka),xs(c,b),b}function _a(c,p,_){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new et(new vs({ab:_})):new et(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}r=Nu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function va(){}va.prototype.g=function(c,p){return new nn(c,p)};function nn(c,p){bt.call(this),this.g=new pa(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!x(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!x(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new yr(this)}S(nn,bt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Rs(this.g)},nn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=Tn(c),c=_);p.i.push(new tf(p.Ya++,c)),p.I==3&&Is(p)},nn.prototype.N=function(){this.g.l=null,delete this.j,Rs(this.g),delete this.g,nn.Z.N.call(this)};function Bo(c){ir.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S(Bo,ir);function Du(){Un.call(this),this.status=1}S(Du,Un);function yr(c){this.g=c}S(yr,Nu),yr.prototype.ra=function(){xt(this.g,"a")},yr.prototype.qa=function(c){xt(this.g,new Bo(c))},yr.prototype.pa=function(c){xt(this.g,new Du)},yr.prototype.oa=function(){xt(this.g,"b")},va.prototype.createWebChannel=va.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,iT=function(){return new va},nT=function(){return aa()},tT=Sn,xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ft.NO_ERROR=0,ft.TIMEOUT=8,ft.HTTP_ERROR=6,Kc=ft,Pt.COMPLETE="complete",eT=Pt,pu.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,kl=pu,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,JE=et}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const Xv="@firebase/firestore",$v="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new np("@firebase/firestore");function Xa(){return Js.logLevel}function ce(r,...e){if(Js.logLevel<=Pe.DEBUG){const n=e.map(pp);Js.debug(`Firestore (${Eo}): ${r}`,...n)}}function Ji(r,...e){if(Js.logLevel<=Pe.ERROR){const n=e.map(pp);Js.error(`Firestore (${Eo}): ${r}`,...n)}}function ao(r,...e){if(Js.logLevel<=Pe.WARN){const n=e.map(pp);Js.warn(`Firestore (${Eo}): ${r}`,...n)}}function pp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,rT(r,s,n)}function rT(r,e,n){let s=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ji(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||rT(e,o,s)}function Ie(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($t.UNAUTHENTICATED)))}shutdown(){}}class PC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class LC{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new $r,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new $r)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new sT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class UC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new UC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Wv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Wv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Wv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=BC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function Nm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return fm(o)===fm(u)?Le(o,u):fm(o)?1:-1}return Le(r.length,e.length)}const HC=55296,qC=57343;function fm(r){const e=r.charCodeAt(0);return e>=HC&&e<=qC}function oo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="__name__";class di{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof di?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=di.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const s=di.isNumericId(e),o=di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?di.extractNumericId(e).compare(di.extractNumericId(n)):Nm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xr.fromString(e.substring(4,e.length-2))}}class it extends di{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const FC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends di{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return FC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zv}static keyField(){return new Ht([Zv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(r,e,n){if(!n)throw new fe(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function GC(r,e,n,s){if(e===!0&&s===!0)throw new fe(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Jv(r){if(!_e.isDocumentKey(r))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function e0(r){if(_e.isDocumentKey(r))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function oT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function yp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function kn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yp(r);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r,e){const n={typeString:r};return e&&(n.value=e),n}function lu(r,e){if(!oT(r))throw new fe(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new fe(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=-62135596800,n0=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*n0);return new Be(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<t0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n0}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,Be._jsonSchema))return new Be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-t0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:St("string",Be._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Be(0,0))}static max(){return new we(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function QC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new Be(n+1,0):new Be(n,s));return new Zr(o,_e.empty(),e)}function YC(r){return new Zr(r.readTime,r.key,Xl)}class Zr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Zr(we.min(),_e.empty(),Xl)}static max(){return new Zr(we.max(),_e.empty(),Xl)}}function KC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(r.documentKey,e.documentKey),n!==0?n:Le(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $C{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==XC)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function WC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function So(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=-1;function Dh(r){return r==null}function ch(r){return r===0&&1/r==-1/0}function ZC(r){return typeof r=="number"&&Number.isInteger(r)&&!ch(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="";function JC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=i0(e)),e=eI(r.get(n),e);return i0(e)}function eI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case lT:n+="";break;default:n+=u}}return n}function i0(r){return r+lT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function as(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function uT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Bt.RED,this.left=o??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Bt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new s0(this.data.getIterator())}getIteratorFrom(e){return new s0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class s0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new vn([])}unionWith(e){let n=new It(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new cT("Invalid base64 string: "+u):u}})(e);return new Ft(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const tI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=tI.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function es(r){return typeof r=="string"?Ft.fromBase64String(r):Ft.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="server_timestamp",fT="__type__",dT="__previous_value__",mT="__local_write_time__";function vp(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[fT])==null?void 0:s.stringValue)===hT}function Oh(r){const e=r.mapValue.fields[dT];return vp(e)?Oh(e):e}function $l(r){const e=Jr(r.mapValue.fields[mT].timestampValue);return new Be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,s,o,u,f,m,g,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const hh="(default)";class Wl{constructor(e,n){this.projectId=e,this.database=n||hh}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="__type__",iI="__max__",Pc={mapValue:{}},gT="__vector__",fh="value";function ts(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vp(r)?4:sI(r)?9007199254740991:rI(r)?10:11:Te(28295,{value:r})}function Si(r,e){if(r===e)return!0;const n=ts(r);if(n!==ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $l(r).isEqual($l(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Jr(o.timestampValue),m=Jr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return es(o.bytesValue).isEqual(es(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),m=yt(u.doubleValue);return f===m?ch(f)===ch(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return oo(r.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(r0(f)!==r0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Si(f[g],m[g])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function Zl(r,e){return(r.values||[]).find((n=>Si(n,e)))!==void 0}function lo(r,e){if(r===e)return 0;const n=ts(r),s=ts(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=yt(u.integerValue||u.doubleValue),g=yt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return a0(r.timestampValue,e.timestampValue);case 4:return a0($l(r),$l(e));case 5:return Nm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=es(u),g=es(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Le(m[y],g[y]);if(E!==0)return E}return Le(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Le(yt(u.latitude),yt(f.latitude));return m!==0?m:Le(yt(u.longitude),yt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return o0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var A,k,K,W;const m=u.fields||{},g=f.fields||{},y=(A=m[fh])==null?void 0:A.arrayValue,E=(k=g[fh])==null?void 0:k.arrayValue,S=Le(((K=y==null?void 0:y.values)==null?void 0:K.length)||0,((W=E==null?void 0:E.values)==null?void 0:W.length)||0);return S!==0?S:o0(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Pc.mapValue&&f===Pc.mapValue)return 0;if(u===Pc.mapValue)return 1;if(f===Pc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const A=Nm(g[S],E[S]);if(A!==0)return A;const k=lo(m[g[S]],y[E[S]]);if(k!==0)return k}return Le(g.length,E.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function a0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const n=Jr(r),s=Jr(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function o0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=lo(n[o],s[o]);if(u)return u}return Le(n.length,s.length)}function uo(r){return Dm(r)}function Dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Jr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return es(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return _e.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Dm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Dm(n.fields[f])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function Xc(r){switch(ts(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(r);return e?16+Xc(e):16;case 5:return 2*r.stringValue.length;case 6:return es(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Xc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return as(s.fields,((u,f)=>{o+=u.length+Xc(f)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function Om(r){return!!r&&"integerValue"in r}function Ep(r){return!!r&&"arrayValue"in r}function l0(r){return!!r&&"nullValue"in r}function u0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function $c(r){return!!r&&"mapValue"in r}function rI(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[pT])==null?void 0:s.stringValue)===gT}function Bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return as(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Bl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(r.arrayValue.values[n]);return e}return{...r}}function sI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===iI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!$c(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=Ht.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Bl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());$c(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];$c(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){as(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new cn(Bl(this.value))}}function yT(r){const e=[];return as(r.fields,((n,s)=>{const o=new Ht([n]);if($c(s)){const u=yT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,we.min(),we.min(),we.min(),cn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,we.min(),we.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,we.min(),we.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.position=e,this.inclusive=n}}function c0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(f.referenceValue),n.key):s=lo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function h0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Si(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n="asc"){this.field=e,this.dir=n}}function aI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{}class Ct extends _T{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new lI(e,n,s):n==="array-contains"?new hI(e,s):n==="in"?new fI(e,s):n==="not-in"?new dI(e,s):n==="array-contains-any"?new mI(e,s):new Ct(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new uI(e,s):new cI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lo(n,this.value)):n!==null&&ts(this.value)===ts(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends _T{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new bi(e,n)}matches(e){return vT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vT(r){return r.op==="and"}function ET(r){return oI(r)&&vT(r)}function oI(r){for(const e of r.filters)if(e instanceof bi)return!1;return!0}function Mm(r){if(r instanceof Ct)return r.field.canonicalString()+r.op.toString()+uo(r.value);if(ET(r))return r.filters.map((e=>Mm(e))).join(",");{const e=r.filters.map((n=>Mm(n))).join(",");return`${r.op}(${e})`}}function TT(r,e){return r instanceof Ct?(function(s,o){return o instanceof Ct&&s.op===o.op&&s.field.isEqual(o.field)&&Si(s.value,o.value)})(r,e):r instanceof bi?(function(s,o){return o instanceof bi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&TT(f,o.filters[m])),!0):!1})(r,e):void Te(19439)}function ST(r){return r instanceof Ct?(function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`})(r):r instanceof bi?(function(n){return n.op.toString()+" {"+n.getFilters().map(ST).join(" ,")+"}"})(r):"Filter"}class lI extends Ct{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class uI extends Ct{constructor(e,n){super(e,"in",n),this.keys=bT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class cI extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=bT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function bT(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>_e.fromName(s.referenceValue)))}class hI extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ep(n)&&Zl(n.arrayValue,this.value)}}class fI extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class dI extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zl(this.value.arrayValue,n)}}class mI extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ep(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Zl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function f0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new pI(r,e,n,s,o,u,f)}function Tp(r){const e=Ie(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Mm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>uo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>uo(s))).join(",")),e.Te=n}return e.Te}function Sp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!aI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!TT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!h0(r.startAt,e.startAt)&&h0(r.endAt,e.endAt)}function Vm(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gI(r,e,n,s,o,u,f,m){return new Mh(r,e,n,s,o,u,f,m)}function Vh(r){return new Mh(r)}function d0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function yI(r){return r.collectionGroup!==null}function Hl(r){const e=Ie(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new It(Ht.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new mh(u,s))})),n.has(Ht.keyField().canonicalString())||e.Ie.push(new mh(Ht.keyField(),s))}return e.Ie}function yi(r){const e=Ie(r);return e.Ee||(e.Ee=_I(e,Hl(r))),e.Ee}function _I(r,e){if(r.limitType==="F")return f0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new mh(o.field,u)}));const n=r.endAt?new dh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new dh(r.startAt.position,r.startAt.inclusive):null;return f0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function km(r,e,n){return new Mh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function kh(r,e){return Sp(yi(r),yi(e))&&r.limitType===e.limitType}function AT(r){return`${Tp(yi(r))}|lt:${r.limitType}`}function $a(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>ST(o))).join(", ")}]`),Dh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>uo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>uo(o))).join(",")),`Target(${s})`})(yi(r))}; limitType=${r.limitType})`}function Ph(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Hl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=c0(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,Hl(s),o)||s.endAt&&!(function(f,m,g){const y=c0(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,Hl(s),o))})(r,e)}function vI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function wT(r){return(e,n)=>{let s=!1;for(const o of Hl(r)){const u=EI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function EI(r,e,n){const s=r.field.isKeyField()?_e.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?lo(g,y):Te(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return uT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new lt(_e.comparator);function er(){return TI}const RT=new lt(_e.comparator);function Pl(...r){let e=RT;for(const n of r)e=e.insert(n.key,n);return e}function CT(r){let e=RT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ys(){return ql()}function IT(){return ql()}function ql(){return new ta((r=>r.toString()),((r,e)=>r.isEqual(e)))}const SI=new lt(_e.comparator),bI=new It(_e.comparator);function Ue(...r){let e=bI;for(const n of r)e=e.add(n);return e}const AI=new It(Le);function wI(){return AI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function xT(r){return{integerValue:""+r}}function RI(r,e){return ZC(e)?xT(e):bp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this._=void 0}}function CI(r,e,n){return r instanceof ph?(function(o,u){const f={fields:{[fT]:{stringValue:hT},[mT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&vp(u)&&(u=Oh(u)),u&&(f.fields[dT]=u),{mapValue:f}})(n,e):r instanceof Jl?DT(r,e):r instanceof eu?OT(r,e):(function(o,u){const f=NT(o,u),m=m0(f)+m0(o.Ae);return Om(f)&&Om(o.Ae)?xT(m):bp(o.serializer,m)})(r,e)}function II(r,e,n){return r instanceof Jl?DT(r,e):r instanceof eu?OT(r,e):n}function NT(r,e){return r instanceof gh?(function(s){return Om(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class ph extends Lh{}class Jl extends Lh{constructor(e){super(),this.elements=e}}function DT(r,e){const n=MT(e);for(const s of r.elements)n.some((o=>Si(o,s)))||n.push(s);return{arrayValue:{values:n}}}class eu extends Lh{constructor(e){super(),this.elements=e}}function OT(r,e){let n=MT(e);for(const s of r.elements)n=n.filter((o=>!Si(o,s)));return{arrayValue:{values:n}}}class gh extends Lh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function m0(r){return yt(r.integerValue||r.doubleValue)}function MT(r){return Ep(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function xI(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Jl&&o instanceof Jl||s instanceof eu&&o instanceof eu?oo(s.elements,o.elements,Si):s instanceof gh&&o instanceof gh?Si(s.Ae,o.Ae):s instanceof ph&&o instanceof ph})(r.transform,e.transform)}class NI{constructor(e,n){this.version=e,this.transformResults=n}}class Pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Uh{}function VT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ap(r.key,Pn.none()):new uu(r.key,r.data,Pn.none());{const n=r.data,s=cn.empty();let o=new It(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new os(r.key,s,new vn(o.toArray()),Pn.none())}}function DI(r,e,n){r instanceof uu?(function(o,u,f){const m=o.value.clone(),g=g0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof os?(function(o,u,f){if(!Wc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=g0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(kT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Fl(r,e,n,s){return r instanceof uu?(function(u,f,m,g){if(!Wc(u.precondition,f))return m;const y=u.value.clone(),E=y0(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof os?(function(u,f,m,g){if(!Wc(u.precondition,f))return m;const y=y0(u.fieldTransforms,g,f),E=f.data;return E.setAll(kT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(u,f,m){return Wc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function OI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=NT(s.transform,o||null);u!=null&&(n===null&&(n=cn.empty()),n.set(s.field,u))}return n||null}function p0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&oo(s,o,((u,f)=>xI(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class uu extends Uh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class os extends Uh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function kT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function g0(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,II(f,m,n[o]))}return s}function y0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,CI(u,f,e))}return s}class Ap extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MI extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&DI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=IT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=VT(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,((n,s)=>p0(n,s)))&&oo(this.baseMutations,e.baseMutations,((n,s)=>p0(n,s)))}}class wp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return SI})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new wp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,ze;function LI(r){switch(r){case ie.OK:return Te(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function PT(r){if(r===void 0)return Ji("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Tt.OK:return ie.OK;case Tt.CANCELLED:return ie.CANCELLED;case Tt.UNKNOWN:return ie.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return ie.INTERNAL;case Tt.UNAVAILABLE:return ie.UNAVAILABLE;case Tt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Tt.NOT_FOUND:return ie.NOT_FOUND;case Tt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Tt.ABORTED:return ie.ABORTED;case Tt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Tt.DATA_LOSS:return ie.DATA_LOSS;default:return Te(39323,{code:r})}}(ze=Tt||(Tt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=new Xr([4294967295,4294967295],0);function _0(r){const e=UI().encode(r),n=new ZE;return n.update(e),new Uint8Array(n.digest())}function v0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Xr([n,s],0),new Xr([o,u],0)]}class Rp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(s<0)throw new Ll(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xr.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Xr.fromNumber(s)));return o.compare(jI)===1&&(o=new Xr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=_0(e),[s,o]=v0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Rp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=_0(e),[s,o]=v0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new jh(we.min(),o,new lt(Le),er(),Ue())}}class cu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cu(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class LT{constructor(e,n){this.targetId=e,this.Ce=n}}class UT{constructor(e,n,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class E0{constructor(){this.ve=0,this.Fe=T0(),this.Me=Ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}})),new cu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=T0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zI{constructor(e){this.Ge=e,this.ze=new Map,this.je=er(),this.Je=Lc(),this.He=Lc(),this.Ye=new lt(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Vm(u))if(s===0){const f=new _e(u.path);this.et(n,f,Wt.newNoDocument(f,we.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=es(s).toUint8Array()}catch(g){if(g instanceof cT)return ao("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Rp(f,o,u)}catch(g){return ao(g instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Vm(m.target)){const g=new _e(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Wt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Ue();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new jh(e,n,this.Ye,this.je,s);return this.je=er(),this.Je=Lc(),this.He=Lc(),this.Ye=new lt(Le),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new E0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new It(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new It(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new E0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Lc(){return new lt(_e.comparator)}function T0(){return new lt(_e.comparator)}const BI={asc:"ASCENDING",desc:"DESCENDING"},HI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qI={and:"AND",or:"OR"};class FI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pm(r,e){return r.useProto3Json||Dh(e)?e:{value:e}}function yh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function GI(r,e){return yh(r,e.toTimestamp())}function _i(r){return Fe(!!r,49232),we.fromTimestamp((function(n){const s=Jr(n);return new Be(s.seconds,s.nanos)})(r))}function Cp(r,e){return Lm(r,e).canonicalString()}function Lm(r,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function zT(r){const e=it.fromString(r);return Fe(GT(e),10190,{key:e.toString()}),e}function Um(r,e){return Cp(r.databaseId,e.path)}function dm(r,e){const n=zT(e);if(n.get(1)!==r.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _e(HT(n))}function BT(r,e){return Cp(r.databaseId,e)}function QI(r){const e=zT(r);return e.length===4?it.emptyPath():HT(e)}function jm(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function HT(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function S0(r,e,n){return{name:Um(r,e),fields:n.value.mapValue.fields}}function YI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Ft.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ft.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?ie.UNKNOWN:PT(y.code);return new fe(E,y.message||"")})(f);n=new UT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=dm(r,s.document.name),u=_i(s.document.updateTime),f=s.document.createTime?_i(s.document.createTime):we.min(),m=new cn({mapValue:{fields:s.document.fields}}),g=Wt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Zc(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=dm(r,s.document),u=s.readTime?_i(s.readTime):we.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Zc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=dm(r,s.document),u=s.removedTargetIds||[];n=new Zc([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new PI(o,u),m=s.targetId;n=new LT(m,f)}}return n}function KI(r,e){let n;if(e instanceof uu)n={update:S0(r,e.key,e.value)};else if(e instanceof Ap)n={delete:Um(r,e.key)};else if(e instanceof os)n={update:S0(r,e.key,e.data),updateMask:ix(e.fieldMask)};else{if(!(e instanceof MI))return Te(16599,{Vt:e.type});n={verify:Um(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof ph)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof gh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:GI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(r,e.precondition)),n}function XI(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?_i(o.updateTime):_i(u);return f.isEqual(we.min())&&(f=_i(u)),new NI(f,o.transformResults||[])})(n,e)))):[]}function $I(r,e){return{documents:[BT(r,e.path)]}}function WI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=BT(r,o);const u=(function(y){if(y.length!==0)return FT(bi.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(A){return{field:Wa(A.field),direction:ex(A.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Pm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function ZI(r){let e=QI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const A=qT(S);return A instanceof bi&&ET(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((A=>(function(K){return new mh(Za(K.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let A;return A=typeof S=="object"?S.value:S,Dh(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(S){const A=!!S.before,k=S.values||[];return new dh(k,A)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const A=!S.before,k=S.values||[];return new dh(k,A)})(n.endAt)),gI(e,o,f,u,m,"F",g,y)}function JI(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Za(n.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Za(n.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Za(n.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Za(n.unaryFilter.field);return Ct.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ct.create(Za(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return bi.create(n.compositeFilter.filters.map((s=>qT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(r):Te(30097,{filter:r})}function ex(r){return BI[r]}function tx(r){return HI[r]}function nx(r){return qI[r]}function Wa(r){return{fieldPath:r.canonicalString()}}function Za(r){return Ht.fromServerFormat(r.fieldPath)}function FT(r){return r instanceof Ct?(function(n){if(n.op==="=="){if(u0(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(l0(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(u0(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(l0(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:tx(n.op),value:n.value}}})(r):r instanceof bi?(function(n){const s=n.getFilters().map((o=>FT(o)));return s.length===1?s[0]:{compositeFilter:{op:nx(n.op),filters:s}}})(r):Te(54877,{filter:r})}function ix(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function GT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n,s,o,u=we.min(),f=we.min(),m=Ft.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.yt=e}}function sx(r){const e=ZI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?km(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.Cn=new ox}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Zr.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class ox{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new It(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new It(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QT=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(QT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new co(0)}static cr(){return new co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="LruGarbageCollector",lx=1048576;function w0([r,e],[n,s]){const o=Le(r,n);return o===0?Le(e,s):o}class ux{constructor(e){this.Ir=e,this.buffer=new It(w0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();w0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(A0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?ce(A0,"Ignoring IndexedDB error during garbage collection: ",n):await To(n)}await this.Vr(3e5)}))}}class hx{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Nh.ce);const s=new ux(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(b0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(y=Date.now(),Xa()<=Pe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function fx(r,e){return new hx(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this.changes=new ta((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Fl(s.mutation,o,vn.empty(),Be.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const o=Ys();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Pl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Ys();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=er();const f=ql(),m=(function(){return ql()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof os)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Fl(E.mutation,y,E.mutation.getFieldMask(),Be.now())):f.set(y.key,vn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new mx(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=ql();let o=new lt(((f,m)=>f-m)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||vn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const S=(o.get(m.batchId)||Ue()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=IT();E.forEach((A=>{if(!u.has(A)){const k=VT(n.get(A),s.get(A));k!==null&&S.set(A,k),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Ys());let m=Xl,g=u;return f.next((y=>ne.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{g=g.insert(E,A)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Ue()))).next((E=>({batchId:m,changes:CT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let o=Pl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Pl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(g=>{const y=(function(S,A){return new Mh(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((S,A)=>{f=f.insert(S,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))}));let m=Pl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Fl(E.mutation,y,vn.empty(),Be.now()),Ph(n,y)&&(m=m.insert(g,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:_i(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:sx(o.bundledQuery),readTime:_i(o.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.overlays=new lt(_e.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ys();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Ys(),u=n.length+1,f=new _e(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new lt(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ys(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ys(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new kI(n,s));let u=this.qr.get(n);u===void 0&&(u=Ue(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(){this.Qr=new It(Vt.$r),this.Ur=new It(Vt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Vt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Vt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new _e(new it([])),s=new Vt(n,e),o=new Vt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new it([])),s=new Vt(n,e),o=new Vt(n,e+1);let u=Ue();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Vt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Vt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new It(Vt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new VI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Vt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?_p:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Vt(n,0),o=new Vt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new It(Le);return n.forEach((o=>{const u=new Vt(o,0),f=new Vt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const f=new Vt(new _e(u),0);let m=new It(Le);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new Vt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Vt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.ri=e,this.docs=(function(){return new lt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=er();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=er();const f=n.path,m=new _e(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||KC(YC(E),s)<=0||(o.has(E.key)||Ph(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Tx(this)}getSize(e){return ne.resolve(this.size)}}class Tx extends dx{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.persistence=e,this.si=new ta((n=>Tp(n)),Sp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Ip,this.targetCount=0,this.ai=co.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new co(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Nh(0),this.li=!1,this.li=!0,this.hi=new _x,this.referenceDelegate=e(this),this.Pi=new Sx(this),this.indexManager=new ax,this.remoteDocumentCache=(function(o){return new Ex(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new rx(n),this.Ii=new gx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new vx(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new bx(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class bx extends $C{constructor(e){super(),this.currentSequenceNumber=e}}class xp{constructor(e){this.persistence=e,this.Ri=new Ip,this.Vi=null}static mi(e){return new xp(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=_e.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class _h{constructor(e,n){this.persistence=e,this.pi=new ta((s=>JC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=fx(this,n)}static mi(e,n){return new _h(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xc(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Np(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mw()?8:WC(Zt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new Ax;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Xa()<=Pe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Xa()<=Pe.DEBUG&&ce("QueryEngine","Query:",$a(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Xa()<=Pe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(n))):ne.resolve())}ys(e,n){if(d0(n))return ne.resolve(null);let s=yi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=km(n,null,"F"),s=yi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Ue(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(e,km(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,s,o){return d0(n)||o.isEqual(we.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ne.resolve(null):(Xa()<=Pe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$a(n)),this.vs(e,f,n,QC(o,Xl)).next((m=>m)))}))}Ds(e,n){let s=new It(wT(e));return n.forEach(((o,u)=>{Ph(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Xa()<=Pe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",$a(n)),this.ps.getDocumentsMatchingQuery(e,n,Zr.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="LocalStore",Rx=3e8;class Cx{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new lt(Le),this.xs=new ta((u=>Tp(u)),Sp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new px(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Ix(r,e,n,s){return new Cx(r,e,n,s)}async function KT(r,e){const n=Ie(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Ue();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function xx(r,e){const n=Ie(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const S=y.batch,A=S.keys();let k=ne.resolve();return A.forEach((K=>{k=k.next((()=>E.getEntry(g,K))).next((W=>{const U=y.docVersions.get(K);Fe(U!==null,48541),W.version.compareTo(U)<0&&(S.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),E.addEntry(W)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Ue();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function XT(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Nx(r,e){const n=Ie(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,S)=>{const A=o.get(S);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let k=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?k=k.withResumeToken(Ft.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(S,k),(function(W,U,q){return W.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=Rx?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(A,k,E)&&m.push(n.Pi.updateTargetData(u,k))}));let g=er(),y=Ue();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(Dx(u,f,e.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(we.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function Dx(r,e,n){let s=Ue(),o=Ue();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=er();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ce(Dp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function Ox(r,e){const n=Ie(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=_p),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Mx(r,e){const n=Ie(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Gr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function zm(r,e,n){const s=Ie(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!So(f))throw f;ce(Dp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function R0(r,e,n){const s=Ie(r);let o=we.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const S=Ie(g),A=S.xs.get(E);return A!==void 0?ne.resolve(S.Ms.get(A)):S.Pi.getTargetData(y,E)})(s,f,yi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:Ue()))).next((m=>(Vx(s,vI(e),m),{documents:m,Qs:u})))))}function Vx(r,e,n){let s=r.Os.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class C0{constructor(){this.activeTargetIds=wI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kx{constructor(){this.Mo=new C0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new C0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="ConnectivityMonitor";class x0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(I0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(I0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc=null;function Bm(){return Uc===null?Uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uc++,"0x"+Uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="RestConnection",Lx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ux{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===hh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Bm(),m=this.zo(e,n.toUriEncodedString());ce(mm,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),E=yo(y);return this.Jo(e,m,g,s,E).then((S=>(ce(mm,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw ao(mm,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=Lx[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class zx extends Ux{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Bm();return new Promise(((m,g)=>{const y=new JE;y.setWithCredentials(!0),y.listenOnce(eT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Kc.NO_ERROR:const S=y.getResponseJson();ce(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case Kc.TIMEOUT:ce(Xt,`RPC '${e}' ${f} timed out`),g(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const A=y.getStatus();if(ce(Xt,`RPC '${e}' ${f} failed with status:`,A,"response text:",y.getResponseText()),A>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const K=k==null?void 0:k.error;if(K&&K.status&&K.message){const W=(function(q){const $=q.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf($)>=0?$:ie.UNKNOWN})(K.status);g(new fe(W,K.message))}else g(new fe(ie.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce(Xt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ce(Xt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Bm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=iT(),m=nT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ce(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const S=f.createWebChannel(E,g);this.I_(S);let A=!1,k=!1;const K=new jx({Yo:U=>{k?ce(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(A||(ce(Xt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),A=!0),ce(Xt,`RPC '${e}' stream ${o} sending:`,U),S.send(U))},Zo:()=>S.close()}),W=(U,q,$)=>{U.listen(q,(X=>{try{$(X)}catch(ue){setTimeout((()=>{throw ue}),0)}}))};return W(S,kl.EventType.OPEN,(()=>{k||(ce(Xt,`RPC '${e}' stream ${o} transport opened.`),K.o_())})),W(S,kl.EventType.CLOSE,(()=>{k||(k=!0,ce(Xt,`RPC '${e}' stream ${o} transport closed`),K.a_(),this.E_(S))})),W(S,kl.EventType.ERROR,(U=>{k||(k=!0,ao(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),K.a_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))})),W(S,kl.EventType.MESSAGE,(U=>{var q;if(!k){const $=U.data[0];Fe(!!$,16349);const X=$,ue=(X==null?void 0:X.error)||((q=X[0])==null?void 0:q.error);if(ue){ce(Xt,`RPC '${e}' stream ${o} received error:`,ue);const ae=ue.status;let ge=(function(C){const M=Tt[C];if(M!==void 0)return PT(M)})(ae),N=ue.message;ge===void 0&&(ge=ie.INTERNAL,N="Unknown error status: "+ae+" with message "+ue.message),k=!0,K.a_(new fe(ge,N)),S.close()}else ce(Xt,`RPC '${e}' stream ${o} received:`,$),K.u_($)}})),W(m,tT.STAT_EVENT,(U=>{U.stat===xm.PROXY?ce(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===xm.NOPROXY&&ce(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(r){return new FI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="PersistentStream";class WT{constructor(e,n,s,o,u,f,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $T(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Ji(n.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new fe(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(N0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(N0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Bx extends WT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=YI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?_i(f.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=jm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Vm(g)?{documents:$I(u,g)}:{query:WI(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=jT(u,f.resumeToken);const y=Pm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=yh(u,f.snapshotVersion.toTimestamp());const y=Pm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=JI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=jm(this.serializer),n.removeTarget=e,this.q_(n)}}class Hx extends WT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=XI(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=jm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>KI(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{}class Fx extends qx{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Lm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ie.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Lm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(ie.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Gx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ji(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="RemoteStore";class Qx{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{na(this)&&(ce(ea,"Restarting streams for network reachability change."),await(async function(g){const y=Ie(g);y.Ea.add(4),await hu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Bh(y)})(this))}))})),this.Ra=new Gx(s,o)}}async function Bh(r){if(na(r))for(const e of r.da)await e(!0)}async function hu(r){for(const e of r.da)await e(!1)}function ZT(r,e){const n=Ie(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),kp(n)?Vp(n):bo(n).O_()&&Mp(n,e))}function Op(r,e){const n=Ie(r),s=bo(n);n.Ia.delete(e),s.O_()&&JT(n,e),n.Ia.size===0&&(s.O_()?s.L_():na(n)&&n.Ra.set("Unknown"))}function Mp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bo(r).Y_(e)}function JT(r,e){r.Va.Ue(e),bo(r).Z_(e)}function Vp(r){r.Va=new zI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),bo(r).start(),r.Ra.ua()}function kp(r){return na(r)&&!bo(r).x_()&&r.Ia.size>0}function na(r){return Ie(r).Ea.size===0}function eS(r){r.Va=void 0}async function Yx(r){r.Ra.set("Online")}async function Kx(r){r.Ia.forEach(((e,n)=>{Mp(r,e)}))}async function Xx(r,e){eS(r),kp(r)?(r.Ra.ha(e),Vp(r)):r.Ra.set("Unknown")}async function $x(r,e,n){if(r.Ra.set("Online"),e instanceof UT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ce(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await vh(r,s)}else if(e instanceof Zc?r.Va.Ze(e):e instanceof LT?r.Va.st(e):r.Va.tt(e),!n.isEqual(we.min()))try{const s=await XT(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Ft.EMPTY_BYTE_STRING,E.snapshotVersion)),JT(u,g);const S=new Gr(E.target,g,y,E.sequenceNumber);Mp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(ea,"Failed to raise snapshot:",s),await vh(r,s)}}async function vh(r,e,n){if(!So(e))throw e;r.Ea.add(1),await hu(r),r.Ra.set("Offline"),n||(n=()=>XT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(ea,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Bh(r)}))}function tS(r,e){return e().catch((n=>vh(r,n,e)))}async function Hh(r){const e=Ie(r),n=ns(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_p;for(;Wx(e);)try{const o=await Ox(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,Zx(e,o)}catch(o){await vh(e,o)}nS(e)&&iS(e)}function Wx(r){return na(r)&&r.Ta.length<10}function Zx(r,e){r.Ta.push(e);const n=ns(r);n.O_()&&n.X_&&n.ea(e.mutations)}function nS(r){return na(r)&&!ns(r).x_()&&r.Ta.length>0}function iS(r){ns(r).start()}async function Jx(r){ns(r).ra()}async function eN(r){const e=ns(r);for(const n of r.Ta)e.ea(n.mutations)}async function tN(r,e,n){const s=r.Ta.shift(),o=wp.from(s,e,n);await tS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Hh(r)}async function nN(r,e){e&&ns(r).X_&&await(async function(s,o){if((function(f){return LI(f)&&f!==ie.ABORTED})(o.code)){const u=s.Ta.shift();ns(s).B_(),await tS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Hh(s)}})(r,e),nS(r)&&iS(r)}async function D0(r,e){const n=Ie(r);n.asyncQueue.verifyOperationInProgress(),ce(ea,"RemoteStore received new credentials");const s=na(n);n.Ea.add(3),await hu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bh(n)}async function iN(r,e){const n=Ie(r);e?(n.Ea.delete(2),await Bh(n)):e||(n.Ea.add(2),await hu(n),n.Ra.set("Unknown"))}function bo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ie(n);return u.sa(),new Bx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:Yx.bind(null,r),t_:Kx.bind(null,r),r_:Xx.bind(null,r),H_:$x.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),kp(r)?Vp(r):r.Ra.set("Unknown")):(await r.ma.stop(),eS(r))}))),r.ma}function ns(r){return r.fa||(r.fa=(function(n,s,o){const u=Ie(n);return u.sa(),new Hx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Jx.bind(null,r),r_:nN.bind(null,r),ta:eN.bind(null,r),na:tN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Hh(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(ea,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Pp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lp(r,e){if(Ji("AsyncQueue",`${e}: ${r}`),So(r))return new fe(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Pl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new no;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.ga=new lt(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ho{constructor(e,n,s,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new ho(e,n,no.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class sN{constructor(){this.queries=M0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ie(n),u=o.queries;o.queries=M0(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function M0(){return new ta((r=>AT(r)),kh)}async function rS(r,e){const n=Ie(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new rN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Lp(f,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Up(n)}async function sS(r,e){const n=Ie(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function aN(r,e){const n=Ie(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Up(n)}function oN(r,e,n){const s=Ie(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Up(r){r.Ca.forEach((e=>{e.next()}))}var Hm,V0;(V0=Hm||(Hm={})).Ma="default",V0.Cache="cache";class aS{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.key=e}}class lS{constructor(e){this.key=e}}class lN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=wT(e),this.tu=new no(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new O0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const A=o.get(E),k=Ph(this.query,S)?S:null,K=!!A&&this.mutatedKeys.has(A.key),W=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let U=!1;A&&k?A.data.isEqual(k.data)?K!==W&&(s.track({type:3,doc:k}),U=!0):this.su(A,k)||(s.track({type:2,doc:k}),U=!0,(g&&this.eu(k,g)>0||y&&this.eu(k,y)<0)&&(m=!0)):!A&&k?(s.track({type:0,doc:k}),U=!0):A&&!k&&(s.track({type:1,doc:A}),U=!0,(g||y)&&(m=!0)),U&&(k?(f=f.add(k),u=W?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,S)=>(function(k,K){const W=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:U})}};return W(k)-W(K)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new ho(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new O0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new lS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new oS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jp="SyncEngine";class uN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class cN{constructor(e){this.key=e,this.hu=!1}}class hN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ta((m=>AT(m)),kh),this.Iu=new Map,this.Eu=new Set,this.du=new lt(_e.comparator),this.Au=new Map,this.Ru=new Ip,this.Vu={},this.mu=new Map,this.fu=co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fN(r,e,n=!0){const s=mS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await uS(s,e,n,!0),o}async function dN(r,e){const n=mS(r);await uS(n,e,!0,!1)}async function uS(r,e,n,s){const o=await Mx(r.localStore,yi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await mN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&ZT(r.remoteStore,o),m}async function mN(r,e,n,s,o){r.pu=(S,A,k)=>(async function(W,U,q,$){let X=U.view.ru(q);X.Cs&&(X=await R0(W.localStore,U.query,!1).then((({documents:N})=>U.view.ru(N,X))));const ue=$&&$.targetChanges.get(U.targetId),ae=$&&$.targetMismatches.get(U.targetId)!=null,ge=U.view.applyChanges(X,W.isPrimaryClient,ue,ae);return P0(W,U.targetId,ge.au),ge.snapshot})(r,S,A,k);const u=await R0(r.localStore,e,!0),f=new lN(e,u.Qs),m=f.ru(u.documents),g=cu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);P0(r,n,y.au);const E=new uN(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function pN(r,e,n){const s=Ie(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!kh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await zm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Op(s.remoteStore,o.targetId),qm(s,o.targetId)})).catch(To)):(qm(s,o.targetId),await zm(s.localStore,o.targetId,!0))}async function gN(r,e){const n=Ie(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Op(n.remoteStore,s.targetId))}async function yN(r,e,n){const s=AN(r);try{const o=await(function(f,m){const g=Ie(f),y=Be.now(),E=m.reduce(((k,K)=>k.add(K.key)),Ue());let S,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let K=er(),W=Ue();return g.Ns.getEntries(k,E).next((U=>{K=U,K.forEach(((q,$)=>{$.isValidDocument()||(W=W.add(q))}))})).next((()=>g.localDocuments.getOverlayedDocuments(k,K))).next((U=>{S=U;const q=[];for(const $ of m){const X=OI($,S.get($.key).overlayedDocument);X!=null&&q.push(new os($.key,X,yT(X.value.mapValue),Pn.exists(!0)))}return g.mutationQueue.addMutationBatch(k,y,q,m)})).next((U=>{A=U;const q=U.applyToLocalDocumentSet(S,W);return g.documentOverlayCache.saveOverlays(k,U.batchId,q)}))})).then((()=>({batchId:A.batchId,changes:CT(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new lt(Le)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await fu(s,o.changes),await Hh(s.remoteStore)}catch(o){const u=Lp(o,"Failed to persist write");n.reject(u)}}async function cS(r,e){const n=Ie(r);try{const s=await Nx(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))})),await fu(n,s,e)}catch(s){await To(s)}}function k0(r,e,n){const s=Ie(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Ie(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,S)=>{for(const A of S.Sa)A.va(m)&&(y=!0)})),y&&Up(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function _N(r,e,n){const s=Ie(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new lt(_e.comparator);f=f.insert(u,Wt.newNoDocument(u,we.min()));const m=Ue().add(u),g=new jh(we.min(),new Map,new lt(Le),f,m);await cS(s,g),s.du=s.du.remove(u),s.Au.delete(e),zp(s)}else await zm(s.localStore,e,!1).then((()=>qm(s,e,n))).catch(To)}async function vN(r,e){const n=Ie(r),s=e.batch.batchId;try{const o=await xx(n.localStore,e);fS(n,s,null),hS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fu(n,o)}catch(o){await To(o)}}async function EN(r,e,n){const s=Ie(r);try{const o=await(function(f,m){const g=Ie(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(Fe(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);fS(s,e,n),hS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await fu(s,o)}catch(o){await To(o)}}function hS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function fS(r,e,n){const s=Ie(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function qm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||dS(r,s)}))}function dS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Op(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),zp(r))}function P0(r,e,n){for(const s of n)s instanceof oS?(r.Ru.addReference(s.key,e),TN(r,s)):s instanceof lS?(ce(jp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||dS(r,s.key)):Te(19791,{wu:s})}function TN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(jp,"New document in limbo: "+n),r.Eu.add(s),zp(r))}function zp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new _e(it.fromString(e)),s=r.fu.next();r.Au.set(s,new cN(n)),r.du=r.du.insert(n,s),ZT(r.remoteStore,new Gr(yi(Vh(n.path)),s,"TargetPurposeLimboResolution",Nh.ce))}}async function fu(r,e,n){const s=Ie(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((y=>{var E;if((y||n)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Np.As(g.targetId,y);u.push(S)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const E=Ie(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ne.forEach(y,(A=>ne.forEach(A.Es,(k=>E.persistence.referenceDelegate.addReference(S,A.targetId,k))).next((()=>ne.forEach(A.ds,(k=>E.persistence.referenceDelegate.removeReference(S,A.targetId,k)))))))))}catch(S){if(!So(S))throw S;ce(Dp,"Failed to update sequence numbers: "+S)}for(const S of y){const A=S.targetId;if(!S.fromCache){const k=E.Ms.get(A),K=k.snapshotVersion,W=k.withLastLimboFreeSnapshotVersion(K);E.Ms=E.Ms.insert(A,W)}}})(s.localStore,u))}async function SN(r,e){const n=Ie(r);if(!n.currentUser.isEqual(e)){ce(jp,"User change. New user:",e.toKey());const s=await KT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new fe(ie.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fu(n,s.Ls)}}function bN(r,e){const n=Ie(r),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function mS(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=cS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_N.bind(null,e),e.Pu.H_=aN.bind(null,e.eventManager),e.Pu.yu=oN.bind(null,e.eventManager),e}function AN(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EN.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Ix(this.persistence,new wx,e.initialUser,this.serializer)}Cu(e){return new YT(xp.mi,this.serializer)}Du(e){return new kx}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class wN extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof _h,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new cx(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new YT((s=>_h.mi(s,n)),this.serializer)}}class Fm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>k0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=SN.bind(null,this.syncEngine),await iN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sN})()}createDatastore(e){const n=zh(e.databaseInfo.databaseId),s=(function(u){return new zx(u)})(e.databaseInfo);return(function(u,f,m,g){return new Fx(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new Qx(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>k0(this.syncEngine,n,0)),(function(){return x0.v()?new x0:new Px})())}createSyncEngine(e,n){return(function(o,u,f,m,g,y,E){const S=new hN(o,u,f,m,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=Ie(o);ce(ea,"RemoteStore shutting down."),u.Ea.add(5),await hu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Fm.provider={build:()=>new Fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ji("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="FirestoreClient";class RN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=gp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce(is,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce(is,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Lp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function gm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(is,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await KT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function L0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await CN(r);ce(is,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>D0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>D0(e.remoteStore,o))),r._onlineComponents=e}async function CN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(is,"Using user provided OfflineComponentProvider");try{await gm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await gm(r,new Eh)}}else ce(is,"Using default OfflineComponentProvider"),await gm(r,new wN(void 0));return r._offlineComponents}async function gS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(is,"Using user provided OnlineComponentProvider"),await L0(r,r._uninitializedComponentsProvider._online)):(ce(is,"Using default OnlineComponentProvider"),await L0(r,new Fm))),r._onlineComponents}function IN(r){return gS(r).then((e=>e.syncEngine))}async function Gm(r){const e=await gS(r),n=e.eventManager;return n.onListen=fN.bind(null,e.syncEngine),n.onUnlisten=pN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gN.bind(null,e.syncEngine),n}function xN(r,e,n={}){const s=new $r;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new pS({next:A=>{E.Nu(),f.enqueueAndForget((()=>sS(u,S)));const k=A.docs.has(m);!k&&A.fromCache?y.reject(new fe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&A.fromCache&&g&&g.source==="server"?y.reject(new fe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),S=new aS(Vh(m.path),E,{includeMetadataChanges:!0,qa:!0});return rS(u,S)})(await Gm(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="firestore.googleapis.com",j0=!0;class z0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_S,this.ssl=j0}else this.host=e.host,this.ssl=e.ssl??j0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lx)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new kC;switch(s.type){case"firstParty":return new jC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=U0.get(n);s&&(ce("ComponentProvider","Removing Datastore"),U0.delete(n),s.terminate())})(this),Promise.resolve()}}function NN(r,e,n,s={}){var y;r=kn(r,qh);const o=yo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(mE(`https://${m}`),pE("Firestore",!0)),u.host!==_S&&u.host!==m&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!$s(g,f)&&(r._setSettings(g),s.mockUserToken)){let E,S;if(typeof s.mockUserToken=="string")E=s.mockUserToken,S=$t.MOCK_USER;else{E=sw(s.mockUserToken,(y=r._app)==null?void 0:y.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new $t(A)}r._authCredentials=new PC(new sT(E,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Fh(this.firestore,e,this._query)}}class _t{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(lu(n,_t._jsonSchema))return new _t(e,s||null,new _e(it.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:St("string",_t._jsonSchemaVersion),referencePath:St("string")};class Wr extends Fh{constructor(e,n,s){super(e,n,Vh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new _e(e))}withConverter(e){return new Wr(this.firestore,e,this._path)}}function Ka(r,e,...n){if(r=qt(r),aT("collection","path",e),r instanceof qh){const s=it.fromString(e,...n);return e0(s),new Wr(r,null,s)}{if(!(r instanceof _t||r instanceof Wr))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return e0(s),new Wr(r.firestore,null,s)}}function Mn(r,e,...n){if(r=qt(r),arguments.length===1&&(e=gp.newId()),aT("doc","path",e),r instanceof qh){const s=it.fromString(e,...n);return Jv(s),new _t(r,null,new _e(s))}{if(!(r instanceof _t||r instanceof Wr))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return Jv(s),new _t(r.firestore,r instanceof Wr?r.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="AsyncQueue";class H0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $T(this,"async_queue_retry"),this._c=()=>{const s=pm();s&&ce(B0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new $r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!So(e))throw e;ce(B0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ji("INTERNAL UNHANDLED ERROR: ",q0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Pp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:q0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function q0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class rs extends qh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new H0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H0(e),this._firestoreClient=void 0,await e}}}function DN(r,e){const n=typeof r=="object"?r:vE(),s=typeof r=="string"?r:hh,o=rp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=iw("firestore");u&&NN(o,...u)}return o}function Bp(r){if(r._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ON(r),r._firestoreClient}function ON(r){var s,o,u;const e=r._freezeSettings(),n=(function(m,g,y,E){return new nI(m,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,yS(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new RN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Ft.fromBase64String(e))}catch(n){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vn(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:St("string",Vn._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(lu(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:St("string",vi._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,Ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ei(e.vectorValues);throw new fe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:St("string",Ei._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=/^__.*__$/;class VN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}class vS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ES(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class qp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new qp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Th(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ES(this.Ac)&&MN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||zh(e)}Cc(e,n,s,o=!1){return new qp({Ac:e,methodName:n,Dc:s,path:Ht.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fp(r){const e=r._freezeSettings(),n=zh(r._databaseId);return new kN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function TS(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Gp("Data must be an object, but it was:",f,s);const m=SS(s,f);let g,y;if(u.merge)g=new vn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const A=Qm(e,S,n);if(!f.contains(A))throw new fe(ie.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);AS(E,A)||E.push(A)}g=new vn(E),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new VN(new cn(m),g,y)}class Qh extends Hp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qh}}function PN(r,e,n,s){const o=r.Cc(1,e,n);Gp("Data must be an object, but it was:",o,s);const u=[],f=cn.empty();as(s,((g,y)=>{const E=Qp(e,g,n);y=qt(y);const S=o.yc(E);if(y instanceof Qh)u.push(E);else{const A=Yh(y,S);A!=null&&(u.push(E),f.set(E,A))}}));const m=new vn(u);return new vS(f,m,o.fieldTransforms)}function LN(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[Qm(e,s,n)],g=[o];if(u.length%2!=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Qm(e,u[A])),g.push(u[A+1]);const y=[],E=cn.empty();for(let A=m.length-1;A>=0;--A)if(!AS(y,m[A])){const k=m[A];let K=g[A];K=qt(K);const W=f.yc(k);if(K instanceof Qh)y.push(k);else{const U=Yh(K,W);U!=null&&(y.push(k),E.set(k,U))}}const S=new vn(y);return new vS(E,S,f.fieldTransforms)}function Yh(r,e){if(bS(r=qt(r)))return Gp("Unsupported field value:",e,r),SS(r,e);if(r instanceof Hp)return(function(s,o){if(!ES(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=Yh(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=qt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Be.fromDate(s);return{timestampValue:yh(o.serializer,u)}}if(s instanceof Be){const u=new Be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yh(o.serializer,u)}}if(s instanceof vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vn)return{bytesValue:jT(o.serializer,s._byteString)};if(s instanceof _t){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Cp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ei)return(function(f,m){return{mapValue:{fields:{[pT]:{stringValue:gT},[fh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return bp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${yp(s)}`)})(r,e)}function SS(r,e){const n={};return uT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(r,((s,o)=>{const u=Yh(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function bS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Be||r instanceof vi||r instanceof Vn||r instanceof _t||r instanceof Hp||r instanceof Ei)}function Gp(r,e,n){if(!bS(n)||!oT(n)){const s=yp(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Qm(r,e,n){if((e=qt(e))instanceof Gh)return e._internalPath;if(typeof e=="string")return Qp(r,e);throw Th("Field path arguments must be of type string or ",r,!1,void 0,n)}const UN=new RegExp("[~\\*/\\[\\]]");function Qp(r,e,n){if(e.search(UN)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Gh(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Th(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new fe(ie.INVALID_ARGUMENT,m+r+g)}function AS(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(RS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jN extends wS{data(){return super.data()}}function RS(r,e){return typeof e=="string"?Qp(r,e):e instanceof Gh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BN{convertValue(e,n="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return as(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var s,o,u;const n=(u=(o=(s=e.fields)==null?void 0:s[fh].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>yt(f.doubleValue)));return new Ei(n)}convertGeoPoint(e){return new vi(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Oh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=Jr(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Fe(GT(s),9688,{name:e});const o=new Wl(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||Ji(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Ul{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xs extends wS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(RS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xs._jsonSchema={type:St("string",Xs._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class Jc extends Xs{data(e={}){return super.data(e)}}class io{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ul(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Jc(this._firestore,this._userDataWriter,s.key,s,new Ul(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new Jc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Jc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:HN(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=io._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(r){r=kn(r,_t);const e=kn(r.firestore,rs);return xN(Bp(e),r._key).then((n=>xS(e,r,n)))}io._jsonSchemaVersion="firestore/querySnapshot/1.0",io._jsonSchema={type:St("string",io._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class IS extends BN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function Ml(r,e,n){r=kn(r,_t);const s=kn(r.firestore,rs),o=CS(r.converter,e,n);return Kh(s,[TS(Fp(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Pn.none())])}function G0(r,e,n,...s){r=kn(r,_t);const o=kn(r.firestore,rs),u=Fp(o);let f;return f=typeof(e=qt(e))=="string"||e instanceof Gh?LN(u,"updateDoc",r._key,e,n,s):PN(u,"updateDoc",r._key,e),Kh(o,[f.toMutation(r._key,Pn.exists(!0))])}function jc(r){return Kh(kn(r.firestore,rs),[new Ap(r._key,Pn.none())])}function ym(r,e){const n=kn(r.firestore,rs),s=Mn(r),o=CS(r.converter,e);return Kh(n,[TS(Fp(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Pn.exists(!1))]).then((()=>s))}function zc(r,...e){var g,y,E;r=qt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||F0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(F0(e[s])){const S=e[s];e[s]=(g=S.next)==null?void 0:g.bind(S),e[s+1]=(y=S.error)==null?void 0:y.bind(S),e[s+2]=(E=S.complete)==null?void 0:E.bind(S)}let u,f,m;if(r instanceof _t)f=kn(r.firestore,rs),m=Vh(r._key.path),u={next:S=>{e[s]&&e[s](xS(f,r,S))},error:e[s+1],complete:e[s+2]};else{const S=kn(r,Fh);f=kn(S.firestore,rs),m=S._query;const A=new IS(f);u={next:k=>{e[s]&&e[s](new io(f,A,S,k))},error:e[s+1],complete:e[s+2]},zN(r._query)}return(function(A,k,K,W){const U=new pS(W),q=new aS(k,U,K);return A.asyncQueue.enqueueAndForget((async()=>rS(await Gm(A),q))),()=>{U.Nu(),A.asyncQueue.enqueueAndForget((async()=>sS(await Gm(A),q)))}})(Bp(f),m,o,u)}function Kh(r,e){return(function(s,o){const u=new $r;return s.asyncQueue.enqueueAndForget((async()=>yN(await IN(s),o,u))),u.promise})(Bp(r),e)}function xS(r,e,n){const s=n.docs.get(e._key),o=new IS(r);return new Xs(r,o,e._key,s,new Ul(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Eo=o})(_o),ro(new Ws("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new rs(new LC(s.getProvider("auth-internal")),new zC(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Kr(Xv,$v,e),Kr(Xv,$v,"esm2020")})();const FN={apiKey:"AIzaSyCI2A43hCpR_nVStbMvgzz6cYaGiXbjN3o",authDomain:"usmm-tir-planning.firebaseapp.com",projectId:"usmm-tir-planning",storageBucket:"usmm-tir-planning.firebasestorage.app",messagingSenderId:"716159124127",appId:"1:716159124127:web:3c24dc82ecbb307a9058aa"},NS=_E(FN),Ym=MC(NS),zt=DN(NS),GN=new Qi,En=H.createContext(void 0),QN=({children:r})=>{const[e,n]=H.useState([]),[s,o]=H.useState([]),[u,f]=H.useState([]),[m,g]=H.useState(im),[y,E]=H.useState(rm),[S,A]=H.useState(null),[k,K]=H.useState(null),[W,U]=H.useState(!0),q=Ah();H.useEffect(()=>{const ye=T2(Ym,async xe=>{var Q;if(K(xe),xe){const se=Mn(zt,"users",xe.uid),de=await qN(se);if(de.exists())A({id:de.id,...de.data()});else{const Re={id:xe.uid,name:xe.displayName||((Q=xe.email)==null?void 0:Q.split("@")[0])||"Utilisateur",role:"user"};await Ml(se,Re),A(Re)}U(!1)}else A(null),U(!1),q("/login")});return()=>ye()},[q]),H.useEffect(()=>{if(!k)return;U(!0);const ye=zc(Ka(zt,"users"),Re=>{const D=Re.docs.map(ee=>({id:ee.id,...ee.data()}));n(D)}),xe=zc(Ka(zt,"slots"),Re=>{const D=Re.docs.map(ee=>{const oe=ee.data();return{id:ee.id,...oe,start:oe.start.toDate().toISOString(),end:oe.end.toDate().toISOString()}});o(D)}),Q=zc(Ka(zt,"events"),Re=>{const D=Re.docs.map(ee=>{const oe=ee.data();return{id:ee.id,...oe,start:oe.start.toDate().toISOString(),end:oe.end.toDate().toISOString()}});f(D)}),se=Mn(zt,"configuration","main"),de=zc(se,Re=>{if(Re.exists()){const D=Re.data();g(D.settings||im),E(D.openingHours||rm)}else Ml(se,{settings:im,openingHours:rm})});return U(!1),()=>{ye(),xe(),Q(),de()}},[k]);const $=async ye=>{await ym(Ka(zt,"users"),ye)},X=async ye=>{const{id:xe,...Q}=ye;await Ml(Mn(zt,"users",xe),Q,{merge:!0})},ue=async ye=>{await jc(Mn(zt,"users",ye));const xe=s.filter(Q=>Q.userId===ye);for(const Q of xe)await jc(Mn(zt,"slots",Q.id))},ae=async ye=>{if(!S)throw new Error("Utilisateur non connect");await ym(Ka(zt,"slots"),{...ye,userId:S.id,userName:S.name,start:Be.fromDate(new Date(ye.start)),end:Be.fromDate(new Date(ye.end))})},ge=async ye=>{const{id:xe,...Q}=ye;await G0(Mn(zt,"slots",xe),{...Q,start:Be.fromDate(new Date(Q.start)),end:Be.fromDate(new Date(Q.end))})},N=async ye=>{await jc(Mn(zt,"slots",ye))},w=async ye=>{await ym(Ka(zt,"events"),{...ye,start:Be.fromDate(new Date(ye.start)),end:Be.fromDate(new Date(ye.end))})},C=async ye=>{const{id:xe,...Q}=ye;await G0(Mn(zt,"events",xe),{...Q,start:Be.fromDate(new Date(Q.start)),end:Be.fromDate(new Date(Q.end))})},M=async ye=>{await jc(Mn(zt,"events",ye))},O=async ye=>{await Ml(Mn(zt,"configuration","main"),{settings:ye},{merge:!0})},L=async ye=>{await Ml(Mn(zt,"configuration","main"),{openingHours:ye},{merge:!0})},x=async(ye,xe)=>{const Q=e.find(se=>se.id===ye);Q!=null&&Q.template&&alert(" La logique d'application de template doit tre adapte pour crer des documents Firestore.")};return R.jsx(En.Provider,{value:{users:e,slots:s,events:u,settings:m,openingHours:y,currentUser:S,firebaseUser:k,loading:W,addUser:$,updateUser:X,deleteUser:ue,addSlot:ae,updateSlot:ge,deleteSlot:N,addEvent:w,updateEvent:C,deleteEvent:M,updateSettings:O,updateOpeningHours:L,applyUserTemplate:x},children:r})},YN=({className:r})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),KN=({className:r})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})}),Sh=({className:r})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),XN=({className:r})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),fo=({className:r})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.077-2.09.921-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),DS=({className:r})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),OS=({className:r})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})}),$N=({className:r})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 0 0-2.062 2.062M9.53 16.122a3 3 0 0 0 2.062-2.062m-2.062 2.062a3 3 0 0 0 2.062 2.062m0-2.062a3 3 0 0 0-2.062-2.062m2.062 2.062L17.5 11.5m-5.337-4.481L8.5 5.25m5.337 4.481L17.5 11.5m-5.337-4.481a3 3 0 0 0-2.062-2.062m2.062 2.062a3 3 0 0 0 2.062 2.062m0 0L17.5 11.5m-5.337-4.481L10.5 8.5m2.062-2.062L15.5 5.25m-5.337 4.481L8.5 11.5m5.337-4.481L10.5 5.25"})}),WN=({isOpen:r,onClose:e,date:n,slot:s})=>{const o=H.useContext(En),{currentUser:u,addSlot:f,updateSlot:m,openingHours:g}=o,[y,E]=H.useState("09:00"),[S,A]=H.useState("10:00"),k=H.useMemo(()=>{const $=n||(s?new Date(s.start):null);return $?YA($,g):null},[n,s,g]),K=H.useMemo(()=>{if(!k||!k.isOpen)return[];const[$,X]=k.start.split(":").map(Number),[ue,ae]=k.end.split(":").map(Number),ge=[];let N=$,w=X;for(;N<ue||N===ue&&w<ae;)ge.push(`${String(N).padStart(2,"0")}:${String(w).padStart(2,"0")}`),w+=30,w>=60&&(N++,w-=60);return ge},[k]),W=H.useMemo(()=>{if(!k||!k.isOpen)return[];const[$,X]=y.split(":").map(Number),ue=$*60+X,[ae,ge]=k.end.split(":").map(Number),N=ae*60+ge,w=[];for(let C=ue+30;C<=N;C+=30){const M=Math.floor(C/60),O=C%60;w.push(`${String(M).padStart(2,"0")}:${String(O).padStart(2,"0")}`)}return w},[y,k]);if(H.useEffect(()=>{s?(E(new Date(s.start).toTimeString().substring(0,5)),A(new Date(s.end).toTimeString().substring(0,5))):n&&(k!=null&&k.isOpen)&&K.length>0&&(E(K[0]),A(W[0]||K[1]||k.end))},[s,n,k,K,W]),H.useEffect(()=>{y&&W.length>0&&!W.includes(S)&&A(W[0])},[y,S,W]),!r||!n&&!s)return null;const U=n||new Date(s.start);if(!k||!k.isOpen)return R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",children:R.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[R.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Club ferm"}),R.jsxs("p",{className:"text-lg mb-6",children:["Le club est ferm le ",U.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"}),"."]}),R.jsx("div",{className:"flex justify-end",children:R.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Fermer"})})]})});const q=$=>{if($.preventDefault(),!u){alert("Vous devez tre connect pour ajouter un crneau.");return}const X=n||new Date(s.start),[ue,ae]=y.split(":").map(Number),[ge,N]=S.split(":").map(Number);if(ue*60+ae>=ge*60+N){alert("L'heure de fin doit tre aprs l'heure de dbut.");return}const w=new Date(X);w.setHours(ue,ae,0,0);const C=new Date(X);C.setHours(ge,N,0,0);const M={userId:u.id,start:w.toISOString(),end:C.toISOString()};s?m({...s,...M}):f(M),e()};return R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",children:R.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[R.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:s?"Modifier le crneau":"Ajouter un crneau"}),R.jsx("p",{className:"text-lg mb-4 font-semibold text-brand-primary",children:U.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})}),R.jsxs("form",{onSubmit:q,children:[R.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[R.jsxs("div",{children:[R.jsx("label",{htmlFor:"start-time",className:"block text-sm font-medium text-gray-700 mb-1",children:"Heure de dbut"}),R.jsx("select",{id:"start-time",value:y,onChange:$=>E($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-primary focus:border-brand-primary",children:K.map($=>R.jsx("option",{value:$,children:$},`start-${$}`))})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"end-time",className:"block text-sm font-medium text-gray-700 mb-1",children:"Heure de fin"}),R.jsx("select",{id:"end-time",value:S,onChange:$=>A($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-primary focus:border-brand-primary",children:W.map($=>R.jsx("option",{value:$,children:$},`end-${$}`))})]})]}),R.jsxs("div",{className:"flex justify-end space-x-4",children:[R.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Annuler"}),R.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary text-white rounded-md hover:bg-sky-700",children:s?"Mettre  jour":"Ajouter"})]})]})]})})},ZN=({isOpen:r,onClose:e,currentDisplayMonth:n})=>{const s=H.useContext(En),{currentUser:o,updateUser:u,applyUserTemplate:f}=s,[m,g]=H.useState([]);if(H.useEffect(()=>{o!=null&&o.template&&g(o.template)},[o]),!r)return null;const y=[{name:"Lundi",value:1},{name:"Mardi",value:2},{name:"Mercredi",value:3},{name:"Jeudi",value:4},{name:"Vendredi",value:5},{name:"Samedi",value:6},{name:"Dimanche",value:0}],E=(W,U,q)=>{const $=[...m];$[W][U]=q,g($)},S=()=>{g([...m,{dayOfWeek:1,startTime:"16:00",endTime:"20:00"}])},A=W=>{g(m.filter((U,q)=>q!==W))},k=()=>{o&&(u({...o,template:m}),alert("Template sauvegard !"))},K=W=>{if(o){const U=W==="next"?Ql(n,1):n;f(o.id,U),alert(`Template appliqu pour ${qc(U).toLowerCase()} !`),e()}};return R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",children:R.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-2xl",children:[R.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Grer mon template"}),R.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-4",children:m.map((W,U)=>R.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 p-3 rounded-lg",children:[R.jsx("select",{value:W.dayOfWeek,onChange:q=>E(U,"dayOfWeek",parseInt(q.target.value)),className:"p-2 border border-gray-300 rounded-md shadow-sm",children:y.map(q=>R.jsx("option",{value:q.value,children:q.name},q.value))}),R.jsx("input",{type:"time",value:W.startTime,onChange:q=>E(U,"startTime",q.target.value),className:"p-2 border border-gray-300 rounded-md shadow-sm"}),R.jsx("span",{children:"-"}),R.jsx("input",{type:"time",value:W.endTime,onChange:q=>E(U,"endTime",q.target.value),className:"p-2 border border-gray-300 rounded-md shadow-sm"}),R.jsx("button",{onClick:()=>A(U),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-100 rounded-full",children:R.jsx(fo,{className:"w-5 h-5"})})]},U))}),R.jsxs("button",{onClick:S,className:"mt-4 flex items-center text-sm text-brand-primary font-semibold hover:text-sky-700",children:[R.jsx(Sh,{className:"w-5 h-5 mr-1"}),"Ajouter un jour"]}),R.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[R.jsxs("div",{className:"flex-grow flex space-x-2",children:[R.jsxs("button",{onClick:()=>K("current"),className:"w-full px-4 py-2 bg-brand-accent text-gray-800 rounded-md hover:bg-amber-400 font-semibold",children:["Appliquer sur ",qc(n)]}),R.jsxs("button",{onClick:()=>K("next"),className:"w-full px-4 py-2 bg-brand-accent text-gray-800 rounded-md hover:bg-amber-400 font-semibold",children:["Appliquer sur ",qc(Ql(n,1))]})]}),R.jsxs("div",{className:"flex space-x-2",children:[R.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Fermer"}),R.jsx("button",{onClick:k,className:"px-4 py-2 bg-brand-primary text-white rounded-md hover:bg-sky-700",children:"Sauvegarder"})]})]})]})})},JN=({currentMonth:r,onPrevMonth:e,onNextMonth:n,onShowTemplateModal:s})=>R.jsxs("div",{className:"flex items-center justify-between mb-6",children:[R.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-200 transition-colors",children:R.jsx(YN,{className:"w-6 h-6 text-gray-600"})}),R.jsxs("div",{className:"text-center",children:[R.jsx("h2",{className:"text-2xl font-bold text-gray-800 capitalize",children:qc(r)}),R.jsxs("button",{onClick:s,className:"mt-1 inline-flex items-center px-3 py-1 bg-amber-100 text-amber-800 rounded-full text-sm font-medium hover:bg-amber-200 transition-colors",children:[R.jsx($N,{className:"w-4 h-4 mr-2"}),"Grer/Appliquer un template"]})]}),R.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-gray-200 transition-colors",children:R.jsx(KN,{className:"w-6 h-6 text-gray-600"})})]}),eD=({day:r,slots:e,events:n,onAddSlot:s,onEditSlot:o})=>{const u=H.useContext(En),{currentUser:f,deleteSlot:m}=u,y=Em(r,new Date),E=[...e].sort((S,A)=>new Date(S.start).getTime()-new Date(A.start).getTime());return R.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3 flex flex-col min-h-[140px] border border-gray-200 hover:border-brand-primary transition-all duration-300 group",children:[R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsx("span",{className:`font-semibold ${y?"text-brand-primary":"text-gray-600"}`,children:r.getDate()}),R.jsx("button",{onClick:()=>s(r),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 rounded-full bg-brand-secondary hover:bg-sky-200",children:R.jsx(Sh,{className:"w-5 h-5 text-brand-primary"})})]}),R.jsxs("div",{className:"mt-2 space-y-1 overflow-y-auto flex-grow",children:[n.map(S=>R.jsx("div",{className:"text-xs p-1.5 rounded-md bg-red-100 text-red-800 font-medium w-full text-left truncate",children:S.allDay?S.title:`${new Date(S.start).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})} ${S.title}`},S.id)),E.map(S=>{const A=S.userId===(f==null?void 0:f.id);return R.jsxs("div",{className:`text-xs p-1.5 rounded-md w-full text-left ${A?"bg-sky-100 text-sky-800":"bg-gray-100 text-gray-700"}`,children:[R.jsx("div",{className:"font-semibold",children:S.userName}),R.jsxs("div",{children:[new Date(S.start).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})," - ",new Date(S.end).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]}),A&&R.jsxs("div",{className:"flex items-center justify-end space-x-2 mt-1",children:[R.jsx("button",{onClick:()=>o(S),className:"text-blue-600 hover:text-blue-800",children:R.jsx(DS,{className:"w-4 h-4"})}),R.jsx("button",{onClick:()=>window.confirm("tes-vous sr de vouloir supprimer ce crneau ?")&&m(S.id),className:"text-red-600 hover:text-red-800",children:R.jsx(fo,{className:"w-4 h-4"})})]})]},S.id)})]})]})},tD=()=>{const[r,e]=H.useState(new Date),[n,s]=H.useState(!1),[o,u]=H.useState(!1),[f,m]=H.useState(null),[g,y]=H.useState(null),E=H.useContext(En),S=H.useMemo(()=>{const X=r.getFullYear(),ue=r.getMonth(),ae=new Date(X,ue,1),ge=new Date(X,ue+1,0).getDate(),N=Array.from({length:ge},(M,O)=>new Date(X,ue,O+1)),w=QA(ae);return[...Array.from({length:w},()=>null),...N]},[r]);if(!E)return R.jsx("div",{children:"Chargement du calendrier..."});const{slots:A,events:k}=E,K=()=>e(FA(r,1)),W=()=>e(Ql(r,1)),U=X=>{m(X),y(null),s(!0)},q=X=>{y(X),m(new Date(X.start)),s(!0)},$=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"];return R.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[R.jsx(JN,{currentMonth:r,onPrevMonth:K,onNextMonth:W,onShowTemplateModal:()=>u(!0)}),R.jsx("div",{className:"grid grid-cols-7 gap-2 text-center font-semibold text-gray-500 text-sm mb-2",children:$.map(X=>R.jsx("div",{children:X},X))}),R.jsx("div",{className:"grid grid-cols-7 gap-2",children:S.map((X,ue)=>X?R.jsx(eD,{day:X,slots:A.filter(ae=>Em(new Date(ae.start),X)),events:k.filter(ae=>Em(new Date(ae.start),X)),onAddSlot:U,onEditSlot:q},X.toISOString()):R.jsx("div",{className:"bg-gray-50 rounded-lg"},`placeholder-${ue}`))}),n&&R.jsx(WN,{isOpen:n,onClose:()=>s(!1),date:f,slot:g}),o&&R.jsx(ZN,{isOpen:o,onClose:()=>u(!1),currentDisplayMonth:r})]})},nD=()=>{const r=H.useContext(En),{users:e,addUser:n,updateUser:s,deleteUser:o}=r,u=()=>{const f=prompt("Nom du nouvel utilisateur:"),m=prompt("Rle (user/admin):");f&&(m==="user"||m==="admin")?n({name:f,role:m}):alert("Informations invalides.")};return R.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[R.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Gestion des Utilisateurs"}),R.jsx("ul",{className:"space-y-3",children:e.map(f=>R.jsxs("li",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-md",children:[R.jsxs("div",{children:[R.jsx("p",{className:"font-medium text-gray-800",children:f.name}),R.jsx("p",{className:"text-sm text-gray-500 capitalize",children:f.role})]}),R.jsxs("div",{className:"space-x-2",children:[R.jsx("button",{onClick:()=>{const m=prompt("Nouveau nom:",f.name);m&&s({...f,name:m})},className:"p-2 text-blue-600 hover:text-blue-800 rounded-full hover:bg-blue-100",children:R.jsx(DS,{className:"w-5 h-5"})}),f.role!=="admin"&&R.jsx("button",{onClick:()=>window.confirm(`Supprimer ${f.name}?`)&&o(f.id),className:"p-2 text-red-600 hover:text-red-800 rounded-full hover:bg-red-100",children:R.jsx(fo,{className:"w-5 h-5"})})]})]},f.id))}),R.jsx("button",{onClick:u,className:"mt-4 px-4 py-2 bg-brand-primary text-white rounded-md hover:bg-sky-700",children:"Ajouter un utilisateur"})]})},iD=()=>{const r=H.useContext(En),{settings:e,updateSettings:n}=r,[s,o]=H.useState(e),u=()=>{n(s),alert("Paramtres sauvegards !")};return R.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[R.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Paramtres de l'Application"}),R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Jour du 1er rappel (1-28)"}),R.jsx("input",{type:"number",min:"1",max:"28",value:s.reminderStartDay,onChange:f=>o({...s,reminderStartDay:parseInt(f.target.value)}),className:"mt-1 w-full p-2 border border-gray-300 rounded-md"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Crneaux obligatoires / mois"}),R.jsx("input",{type:"number",min:"0",value:s.minSlotsRequired,onChange:f=>o({...s,minSlotsRequired:parseInt(f.target.value)}),className:"mt-1 w-full p-2 border border-gray-300 rounded-md"})]})]}),R.jsx("button",{onClick:u,className:"mt-6 px-4 py-2 bg-brand-primary text-white rounded-md hover:bg-sky-700",children:"Sauvegarder"})]})},rD=()=>{const r=H.useContext(En),{events:e,addEvent:n,deleteEvent:s}=r,o=u=>{u.preventDefault();const f=new FormData(u.currentTarget),m=f.get("title"),g=f.get("date"),y=f.get("allDay")==="on";if(!m||!g){alert("Titre et date sont requis.");return}const E=new Date(g),S=new Date(g);if(!y){const A=f.get("startTime"),k=f.get("endTime"),[K,W]=A.split(":").map(Number),[U,q]=k.split(":").map(Number);E.setHours(K,W),S.setHours(U,q)}n({title:m,start:E.toISOString(),end:S.toISOString(),allDay:y}),u.currentTarget.reset()};return R.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[R.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Grer les vnements / Fermetures"}),R.jsxs("form",{onSubmit:o,className:"space-y-4 mb-6",children:[R.jsx("input",{name:"title",placeholder:"Titre de l'vnement",className:"w-full p-2 border border-gray-300 rounded-md",required:!0}),R.jsx("input",{name:"date",type:"date",className:"w-full p-2 border border-gray-300 rounded-md",required:!0}),R.jsxs("div",{className:"flex items-center space-x-4",children:[R.jsx("input",{name:"startTime",type:"time",className:"w-full p-2 border border-gray-300 rounded-md"}),R.jsx("span",{children:"-"}),R.jsx("input",{name:"endTime",type:"time",className:"w-full p-2 border border-gray-300 rounded-md"})]}),R.jsxs("div",{className:"flex items-center",children:[R.jsx("input",{id:"allDay",name:"allDay",type:"checkbox",className:"h-4 w-4 text-brand-primary border-gray-300 rounded focus:ring-brand-primary"}),R.jsx("label",{htmlFor:"allDay",className:"ml-2 block text-sm text-gray-900",children:"Journe entire"})]}),R.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Ajouter l'vnement"})]}),R.jsx("h4",{className:"text-lg font-semibold mb-2 text-gray-600",children:"vnements  venir"}),R.jsx("ul",{className:"space-y-2",children:e.slice().sort((u,f)=>new Date(u.start).getTime()-new Date(f.start).getTime()).map(u=>R.jsxs("li",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-md",children:[R.jsxs("div",{children:[R.jsx("p",{className:"font-medium text-gray-800",children:u.title}),R.jsx("p",{className:"text-sm text-gray-500",children:new Date(u.start).toLocaleDateString("fr-FR",{dateStyle:"full"})})]}),R.jsx("button",{onClick:()=>s(u.id),className:"p-2 text-red-600 hover:text-red-800 rounded-full hover:bg-red-100",children:R.jsx(fo,{className:"w-5 h-5"})})]},u.id))})]})},sD=()=>{const r=H.useContext(En),{users:e,slots:n,settings:s}=r,o=H.useMemo(()=>{const u=Ql(new Date,1),f=u.getFullYear(),m=u.getMonth();return e.filter(g=>g.role==="user").filter(g=>n.filter(E=>{const S=new Date(E.start);return E.userId===g.id&&S.getFullYear()===f&&S.getMonth()===m}).length<s.minSlotsRequired)},[e,n,s]);return R.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[R.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Liste de Rappel (Mois Prochain)"}),o.length>0?R.jsx("ul",{className:"space-y-3",children:o.map(u=>R.jsxs("li",{className:"flex justify-between items-center bg-amber-50 p-3 rounded-md",children:[R.jsx("p",{className:"font-medium text-amber-800",children:u.name}),R.jsxs("button",{className:"flex items-center px-3 py-1 bg-amber-500 text-white rounded-md text-sm hover:bg-amber-600",children:[R.jsx(OS,{className:"w-4 h-4 mr-2"}),"Envoyer un rappel"]})]},u.id))}):R.jsx("p",{className:"text-gray-500",children:"Tous les utilisateurs ont rempli leurs crneaux pour le mois prochain."})]})},Q0=({day:r,onUpdate:e,dayName:n})=>R.jsxs("div",{className:"grid grid-cols-4 gap-2 items-center",children:[R.jsx("label",{className:"font-medium text-gray-700",children:n}),R.jsxs("div",{className:"flex items-center",children:[R.jsx("input",{type:"checkbox",checked:r.isOpen,onChange:s=>e("isOpen",s.target.checked),className:"h-4 w-4 text-brand-primary border-gray-300 rounded focus:ring-brand-primary"}),R.jsx("span",{className:"ml-2 text-sm",children:r.isOpen?"Ouvert":"Ferm"})]}),R.jsx("input",{type:"time",step:"1800",value:r.start,disabled:!r.isOpen,onChange:s=>e("start",s.target.value),className:"p-1 border border-gray-300 rounded-md disabled:bg-gray-100"}),R.jsx("input",{type:"time",step:"1800",value:r.end,disabled:!r.isOpen,onChange:s=>e("end",s.target.value),className:"p-1 border border-gray-300 rounded-md disabled:bg-gray-100"})]}),aD=()=>{const r=H.useContext(En),{openingHours:e,updateOpeningHours:n}=r,[s,o]=H.useState(e),[u,f]=H.useState({name:"",date:""}),[m,g]=H.useState({name:"",start:"",end:""}),y=["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],E=(q,$,X)=>{o(ue=>({...ue,defaultHours:ue.defaultHours.map(ae=>ae.dayOfWeek===q?{...ae,[$]:X}:ae)}))},S=(q,$,X,ue)=>{o(ae=>({...ae,specialPeriods:ae.specialPeriods.map(ge=>ge.id===q?{...ge,hours:ge.hours.map(N=>N.dayOfWeek===$?{...N,[X]:ue}:N)}:ge)}))},A=()=>{if(!m.name||!m.start||!m.end){alert("Veuillez remplir tous les champs pour la nouvelle priode.");return}const q={id:`period-${Date.now()}`,...m,hours:JSON.parse(JSON.stringify(s.defaultHours))};o($=>({...$,specialPeriods:[...$.specialPeriods,q]})),g({name:"",start:"",end:""})},k=q=>{o($=>({...$,specialPeriods:$.specialPeriods.filter(X=>X.id!==q)}))},K=()=>{if(!u.name||!u.date){alert("Veuillez remplir tous les champs pour le jour fri.");return}const q={id:`holiday-${Date.now()}`,...u};o($=>({...$,holidays:[...$.holidays,q].sort((X,ue)=>X.date.localeCompare(ue.date))})),f({name:"",date:""})},W=q=>{o($=>({...$,holidays:$.holidays.filter(X=>X.id!==q)}))},U=()=>{n(s),alert("Horaires d'ouverture sauvegards !")};return R.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg space-y-8",children:[R.jsxs("div",{className:"flex justify-between items-start",children:[R.jsxs("div",{children:[R.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Gestion des Horaires d'Ouverture"}),R.jsx("p",{className:"text-gray-500 mt-1",children:"Dfinissez les horaires pour les mois  venir, les priodes spciales et les jours de fermeture."})]}),R.jsx("button",{onClick:U,className:"px-6 py-2 bg-brand-primary text-white rounded-md hover:bg-sky-700 font-semibold",children:"Sauvegarder les Horaires"})]}),R.jsxs("div",{className:"border border-gray-200 p-4 rounded-lg",children:[R.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Horaires par Dfaut"}),R.jsx("div",{className:"space-y-2",children:s.defaultHours.sort((q,$)=>q.dayOfWeek===0?1:$.dayOfWeek===0?-1:q.dayOfWeek-$.dayOfWeek).map(q=>R.jsx(Q0,{day:q,onUpdate:($,X)=>E(q.dayOfWeek,$,X),dayName:y[q.dayOfWeek]},q.dayOfWeek))})]}),R.jsxs("div",{className:"border border-gray-200 p-4 rounded-lg",children:[R.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Priodes Spciales (ex: vacances)"}),R.jsxs("div",{className:"space-y-4",children:[s.specialPeriods.map(q=>R.jsxs("div",{className:"bg-sky-50 p-4 rounded-md",children:[R.jsxs("div",{className:"flex justify-between items-center mb-3",children:[R.jsxs("p",{className:"font-bold text-lg text-brand-primary",children:[q.name," (",new Date(q.start).toLocaleDateString("fr-FR")," - ",new Date(q.end).toLocaleDateString("fr-FR"),")"]}),R.jsx("button",{onClick:()=>k(q.id),className:"p-2 text-red-600 hover:text-red-800 rounded-full hover:bg-red-100",children:R.jsx(fo,{className:"w-5 h-5"})})]}),R.jsx("div",{className:"space-y-2",children:q.hours.sort(($,X)=>$.dayOfWeek===0?1:X.dayOfWeek===0?-1:$.dayOfWeek-X.dayOfWeek).map($=>R.jsx(Q0,{day:$,onUpdate:(X,ue)=>S(q.id,$.dayOfWeek,X,ue),dayName:y[$.dayOfWeek]},$.dayOfWeek))})]},q.id)),R.jsxs("div",{className:"flex items-end gap-4 bg-gray-50 p-3 rounded-md",children:[R.jsx("input",{value:m.name,onChange:q=>g({...m,name:q.target.value}),placeholder:"Nom (ex: Vacances d't)",className:"flex-grow p-2 border border-gray-300 rounded-md"}),R.jsx("input",{value:m.start,onChange:q=>g({...m,start:q.target.value}),type:"date",className:"p-2 border border-gray-300 rounded-md"}),R.jsx("input",{value:m.end,onChange:q=>g({...m,end:q.target.value}),type:"date",className:"p-2 border border-gray-300 rounded-md"}),R.jsx("button",{onClick:A,className:"p-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:R.jsx(Sh,{className:"w-6 h-6"})})]})]})]}),R.jsxs("div",{className:"border border-gray-200 p-4 rounded-lg",children:[R.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Jours Fris / Fermetures"}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[R.jsx("ul",{className:"space-y-2",children:s.holidays.map(q=>R.jsxs("li",{className:"flex justify-between items-center bg-gray-50 p-2 rounded-md",children:[R.jsxs("div",{children:[R.jsx("p",{className:"font-medium text-gray-800",children:q.name}),R.jsx("p",{className:"text-sm text-gray-500",children:new Date(q.date).toLocaleDateString("fr-FR",{dateStyle:"full"})})]}),R.jsx("button",{onClick:()=>W(q.id),className:"p-2 text-red-600 hover:text-red-800 rounded-full hover:bg-red-100",children:R.jsx(fo,{className:"w-5 h-5"})})]},q.id))}),R.jsxs("div",{className:"flex items-end gap-2 bg-gray-50 p-3 rounded-md",children:[R.jsx("input",{value:u.name,onChange:q=>f({...u,name:q.target.value}),placeholder:"Nom (ex: 1er Mai)",className:"flex-grow p-2 border border-gray-300 rounded-md"}),R.jsx("input",{value:u.date,onChange:q=>f({...u,date:q.target.value}),type:"date",className:"p-2 border border-gray-300 rounded-md"}),R.jsx("button",{onClick:K,className:"p-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:R.jsx(Sh,{className:"w-6 h-6"})})]})]})]})]})},oD=()=>R.jsxs("div",{className:"space-y-8",children:[R.jsx("h2",{className:"text-3xl font-bold text-gray-800 border-b pb-4",children:"Tableau de Bord Administrateur"}),R.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[R.jsx(iD,{}),R.jsx(sD,{}),R.jsx(nD,{}),R.jsx(rD,{})]}),R.jsx(aD,{})]}),lD=()=>{const r=H.useContext(En),e=Ah();if(!r)return null;const{currentUser:n,firebaseUser:s}=r,o=async()=>{try{await H2(Ym,GN),e("/")}catch(f){console.error(f),alert("Erreur lors de la connexion Google.")}},u=async()=>{await S2(Ym),e("/")};return R.jsx("header",{className:"bg-brand-primary text-white shadow-md",children:R.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:R.jsxs("div",{className:"flex items-center justify-between h-16",children:[R.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Planning Association"}),R.jsxs("nav",{className:"flex items-center space-x-4",children:[s&&R.jsxs(R.Fragment,{children:[R.jsx(th,{to:"/",className:"px-3 py-2 rounded-md text-sm font-medium hover:bg-sky-600 transition",children:"Calendrier"}),(n==null?void 0:n.role)==="admin"&&R.jsx(th,{to:"/admin",className:"px-3 py-2 rounded-md text-sm font-medium hover:bg-sky-600 transition",children:"Admin"})]}),R.jsx("div",{className:"flex items-center space-x-2",children:s?R.jsxs("div",{className:"flex items-center space-x-3",children:[R.jsxs("div",{className:"flex items-center space-x-2",children:[R.jsx(XN,{className:"w-6 h-6"}),R.jsx("span",{className:"font-medium text-sm",children:n==null?void 0:n.name})]}),R.jsx("button",{onClick:u,className:"px-3 py-1.5 bg-red-500 text-white rounded-md text-sm hover:bg-red-600",children:"Dconnexion"})]}):R.jsx("button",{onClick:o,className:"px-3 py-1.5 bg-green-500 text-white rounded-md text-sm hover:bg-green-600",children:"Se connecter avec Google"})})]})]})})})},uD=()=>{const r=H.useContext(En);if(!r)return null;const{currentUser:e,settings:n,slots:s}=r;return H.useMemo(()=>{if(!e||e.role==="admin")return!1;const u=new Date;if(u.getDate()<n.reminderStartDay)return!1;const f=Ql(u,1),m=f.getFullYear(),g=f.getMonth();return s.filter(E=>{const S=new Date(E.start);return E.userId===e.id&&S.getFullYear()===m&&S.getMonth()===g}).length<n.minSlotsRequired},[e,n,s])?R.jsx("div",{className:"bg-amber-100 border-l-4 border-amber-500 text-amber-700 p-4 rounded-md mb-6 shadow",role:"alert",children:R.jsxs("div",{className:"flex",children:[R.jsx("div",{className:"py-1",children:R.jsx(OS,{className:"w-6 h-6 text-amber-500 mr-4"})}),R.jsxs("div",{children:[R.jsx("p",{className:"font-bold",children:"Rappel"}),R.jsx("p",{className:"text-sm",children:"Pensez  remplir vos crneaux pour le mois prochain !"})]})]})}):null},cD=()=>{const r=H.useContext(En);if(!r)return R.jsx("div",{children:"Initialisation du contexte..."});const{currentUser:e,firebaseUser:n,loading:s}=r;return s?R.jsx("div",{className:"flex items-center justify-center min-h-screen text-gray-700",children:"Chargement des donnes..."}):R.jsx(OA,{children:R.jsxs("div",{className:"min-h-screen bg-gray-100 text-gray-800 font-sans",children:[R.jsx(lD,{}),R.jsxs("main",{className:"p-4 sm:p-6 lg:p-8",children:[R.jsx(uD,{}),R.jsxs(uA,{children:[!n&&R.jsx(Vl,{path:"*",element:R.jsxs("div",{className:"text-center p-10",children:[R.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Bienvenue "}),R.jsx("p",{children:"Veuillez vous connecter pour accder au planning."}),R.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"(Utilisez les boutons de connexion dans l'en-tte)"})]})}),n&&R.jsxs(R.Fragment,{children:[R.jsx(Vl,{path:"/",element:R.jsx(tD,{})}),R.jsx(Vl,{path:"/admin",element:(e==null?void 0:e.role)==="admin"?R.jsx(oD,{}):R.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md",children:[R.jsx("h3",{className:"text-xl font-bold text-red-600",children:"Accs refus "}),R.jsx("p",{className:"mt-2 text-gray-600",children:"Vous n'avez pas les droits ncessaires pour accder  cette page."})]})}),R.jsx(Vl,{path:"*",element:R.jsx(oA,{to:"/",replace:!0})})]})]})]})]})})},MS=document.getElementById("root");if(!MS)throw new Error("Could not find root element to mount to");const hD=_1.createRoot(MS);hD.render(R.jsx(c1.StrictMode,{children:R.jsx(QN,{children:R.jsx(cD,{})})}));
